<!DOCTYPE html>
<!-- saved from url=(0399)file:///C:/Users/96123/OneDrive/Desktop/%E5%9B%9B%E5%B9%B4%E7%BA%A7%E4%B8%8A%E5%86%8C%E7%A7%91%E5%AD%A6%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86%E3%80%90%E8%83%8C%E8%AF%B5%E7%89%88%E3%80%91/%E5%9B%9B%E4%B8%8A%E7%A7%91%E5%AD%A6%E8%AF%95%E9%A2%98%E5%BA%93/%E5%90%88%E5%B9%B6/%E5%B0%8F%E5%AD%A6%E7%A7%91%E5%AD%A6%E5%9B%9B%E4%B8%8A%EF%BC%9A%E7%A7%91%E5%AD%A6%E5%A4%A7%E9%97%AF%E5%85%B3%E6%80%BB%E7%AB%99.html -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å°å­¦ç§‘å­¦å››ä¸Šï¼šç§‘å­¦å¤§é—¯å…³æ€»ç«™</title>
    <style>
        /* === åŸºç¡€æ ·å¼ === */
        :root {
            --sidebar-width: 260px;
            --header-height: 60px;
            --primary: #4CAF50;
            --u1-color: #2196F3; /* å£°éŸ³å•å…ƒ */
            --u2-color: #FF9800; /* å‘¼å¸æ¶ˆåŒ–å•å…ƒ */
            --u3-color: #9C27B0; /* è¿åŠ¨åŠ›å•å…ƒ */
        }
        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
            -webkit-tap-highlight-color: transparent;
        }
        body {
            font-family: "Microsoft YaHei", "å¾®è½¯é›…é»‘", sans-serif;
            background-color: #f0f2f5;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* === é¡¶éƒ¨å¯¼èˆª === */
        header {
            height: var(--header-height);
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            padding: 0 20px;
            z-index: 10;
            flex-shrink: 0;
        }
        header h1 { font-size: 1.2rem; color: #333; display: flex; align-items: center; gap: 10px; }
        .menu-toggle { display: none; font-size: 1.5rem; cursor: pointer; margin-right: 15px; padding: 5px; }

        /* === ä¸»ä½“å¸ƒå±€ === */
        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* === å·¦ä¾§èœå•æ  === */
        aside {
            width: var(--sidebar-width);
            background: white;
            border-right: 1px solid #eee;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            z-index: 20;
        }
        .unit-title {
            padding: 15px;
            font-weight: bold;
            color: white;
            position: sticky;
            top: 0;
            z-index: 5;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            user-select: none;
        }
        .unit-1 { background: var(--u1-color); }
        .unit-2 { background: var(--u2-color); }
        .unit-3 { background: var(--u3-color); }

        .lesson-list { display: block; }
        .lesson-list.collapsed { display: none; }

        .lesson-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px 20px;
            border: none;
            background: transparent;
            border-bottom: 1px solid #f5f5f5;
            cursor: pointer;
            color: #555;
            transition: 0.2s;
            font-size: 0.95rem;
        }
        .lesson-btn:hover { background-color: #f0f9ff; color: var(--primary); }
        .lesson-btn.active { 
            background-color: #e8f5e9; 
            color: var(--primary); 
            font-weight: bold;
            border-left: 4px solid var(--primary);
        }

        /* === å³ä¾§å†…å®¹åŒº === */
        main {
            flex: 1;
            background: #e0e0e0;
            position: relative;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            background: white;
        }
        .welcome-screen {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: #555;
            z-index: 1;
        }
        .welcome-icon { font-size: 4rem; margin-bottom: 20px; animation: bounce 2s infinite; }

        /* === æ‰‹æœºé€‚é…é®ç½©å±‚ === */
        .overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 15;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .overlay.show { display: block; opacity: 1; }

        /* æ‰‹æœºé€‚é…æ ·å¼ */
        @media (max-width: 768px) {
            .menu-toggle { display: block; }
            aside {
                position: fixed;
                left: 0; top: 0; bottom: 0;
                transform: translateX(-100%);
                box-shadow: 2px 0 10px rgba(0,0,0,0.2);
            }
            aside.open { transform: translateX(0); }
            .lesson-btn { padding: 15px 20px; } /* å¢å¤§ç‚¹å‡»åŒºåŸŸ */
        }

        @keyframes bounce { 
            0%, 100% {transform: translateY(0);}
            50% {transform: translateY(-10px);}
        }
    </style>
</head>
<body>

<header>
    <div class="menu-toggle" onclick="toggleSidebar()">â˜°</div>
    <h1>ğŸ”¬ å°å­¦ç§‘å­¦å››ä¸Š Â· å¤§é—¯å…³</h1>
</header>

<div class="main-container">
    <!-- æ‰‹æœºç«¯é®ç½©å±‚ -->
    <div class="overlay" onclick="toggleSidebar()"></div>

    <!-- å·¦ä¾§èœå•æ  -->
    <aside id="sidebar">
        
        <!-- === ç¬¬ä¸€å•å…ƒï¼šå£°éŸ³ === -->
        <div class="unit-title unit-1" onclick="toggleUnit(&#39;u1-list&#39;)">
            ç¬¬ä¸€å•å…ƒï¼šå£°éŸ³ ğŸ”Š <span>â–¼</span>
        </div>
        <div id="u1-list" class="lesson-list">
            <button class="lesson-btn active" onclick="loadLesson(&#39;u1-1&#39;, event)">1. å¬å¬å£°éŸ³</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u1-2&#39;, event)">2. å£°éŸ³æ˜¯æ€æ ·äº§ç”Ÿçš„</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u1-3&#39;, event)">3. å£°éŸ³æ˜¯æ€æ ·ä¼ æ’­çš„</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u1-4&#39;, event)">4. æˆ‘ä»¬æ˜¯æ€æ ·å¬åˆ°å£°éŸ³çš„</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u1-5&#39;, event)">5. å£°éŸ³çš„å¼ºä¸å¼±</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u1-6&#39;, event)">6. å£°éŸ³çš„é«˜ä¸ä½</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u1-78&#39;, event)">7&amp;8. å¼¦ä¸å°ä¹å™¨</button>
        </div>

        <!-- === ç¬¬äºŒå•å…ƒï¼šå‘¼å¸ä¸æ¶ˆåŒ– === -->
        <div class="unit-title unit-2" onclick="toggleUnit(&#39;u2-list&#39;)">
            ç¬¬äºŒå•å…ƒï¼šå‘¼å¸ä¸æ¶ˆåŒ– ğŸ« <span>â–¶</span>
        </div>
        <div id="u2-list" class="lesson-list collapsed">
            <button class="lesson-btn" onclick="loadLesson(&#39;u2-1&#39;, event)">1. æ„Ÿå—æˆ‘ä»¬çš„å‘¼å¸</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u2-2&#39;, event)">2. å‘¼å¸ä¸å¥åº·ç”Ÿæ´»</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u2-3&#39;, event)">3. æµ‹é‡è‚ºæ´»é‡</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u2-4&#39;, event)">4. ä¸€å¤©çš„é£Ÿç‰©</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u2-5&#39;, event)">5. é£Ÿç‰©ä¸­çš„è¥å…»</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u2-6&#39;, event)">6. è¥å…»è¦å‡è¡¡</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u2-7&#39;, event)">7. é£Ÿç‰©åœ¨å£è…”é‡Œçš„å˜åŒ–</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u2-8&#39;, event)">8. é£Ÿç‰©åœ¨èº«ä½“é‡Œçš„æ—…è¡Œ</button>
        </div>

        <!-- === ç¬¬ä¸‰å•å…ƒï¼šè¿åŠ¨å’ŒåŠ› === -->
        <div class="unit-title unit-3" onclick="toggleUnit(&#39;u3-list&#39;)">
            ç¬¬ä¸‰å•å…ƒï¼šè¿åŠ¨å’ŒåŠ› ğŸš— <span>â–¼</span>
        </div>
        <div id="u3-list" class="lesson-list">
            <button class="lesson-btn" onclick="loadLesson(&#39;u3-1&#39;, event)">1. è¿åŠ¨å’ŒåŠ›(åŸºç¡€)</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u3-2&#39;, event)">2. ç”¨æ°”çƒé©±åŠ¨å°è½¦</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u3-3&#39;, event)">3. ç”¨æ©¡çš®ç­‹é©±åŠ¨å°è½¦</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u3-4&#39;, event)">4. å¼¹ç°§æµ‹åŠ›è®¡</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u3-5&#39;, event)">5. è¿åŠ¨ä¸æ‘©æ“¦åŠ›</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u3-6&#39;, event)">6. è¿åŠ¨çš„å°è½¦</button>
            <button class="lesson-btn" onclick="loadLesson(&#39;u3-78&#39;, event)">7&amp;8. è®¾è®¡åˆ¶ä½œå°è½¦</button>
        </div>
    </aside>

    <!-- å³ä¾§æ˜¾ç¤ºåŒº -->
    <main>
        <div id="welcome" class="welcome-screen" style="display: none;">
            <div class="welcome-icon">ğŸš€</div>
            <h2>æ¬¢è¿æ¥åˆ°ç§‘å­¦å¤§é—¯å…³ï¼</h2>
            <p>ğŸ‘ˆ è¯·ç‚¹å‡»å·¦ä¾§èœå•é€‰æ‹©è¯¾ç¨‹</p>
            <p style="font-size:0.8rem; color:#999; margin-top:30px;">
                æç¤ºï¼šè¯·ç¡®ä¿å„è¯¾çš„ä»£ç å·²ç²˜è´´åœ¨ä¸‹æ–¹çš„ textarea åŒºåŸŸä¸­ã€‚
            </p>
        </div>
        <iframe id="content-frame" title="Lesson Content" src="./å°å­¦ç§‘å­¦å››ä¸Šï¼šç§‘å­¦å¤§é—¯å…³æ€»ç«™_files/saved_resource.html"></iframe>
    </main>
</div>

<!-- ============================================================ -->
<!-- === æ ¸å¿ƒåŒºåŸŸï¼šè¯¾ç¨‹ä»£ç ç²˜è´´åŒº (è¯·å°†ç”Ÿæˆçš„HTMLç²˜è´´åœ¨å¯¹åº”æ ‡ç­¾å†…) === -->
<!-- ============================================================ -->

<!-- ç¬¬ä¸€å•å…ƒ -->
<textarea id="u1-1" style="display:none;">    &lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;ç¬¬ä¸€å•å…ƒç¬¬ä¸€è¯¾ï¼šå¤ä¹ ä¸35é¢˜å¤§é—¯å…³&lt;/title&gt;
    &lt;style&gt;
        :root {
            --bg-color: #E0F7FA;
            --card-bg: #FFFFFF;
            --primary: #4DD0E1; 
            --secondary: #FFAB91; 
            --text: #455A64; /* åŠ æ·±å­—ä½“é¢œè‰²ï¼Œæ›´æ¸…æ™° */
            --font-main: "Microsoft YaHei", -apple-system, BlinkMacSystemFont, sans-serif;
        }

        * {
            box-sizing: border-box; /* å…³é”®ä¿®å¤ï¼šé˜²æ­¢å¸ƒå±€è¢«å†…è¾¹è·æ’‘ç ´ */
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px; /* æ‰‹æœºç«¯å‡å°‘å¤–è¾¹è· */
            min-height: 100vh;
            background-image: radial-gradient(#B2EBF2 15%, transparent 16%);
            background-size: 30px 30px;
            /* ä¿®å¤æ ¸å¿ƒï¼šç§»é™¤ display: flexï¼Œæ”¹ç”¨é»˜è®¤å¸ƒå±€ */
            display: block; 
        }

        .container {
            width: 100%;
            max-width: 800px; /* ç”µè„‘ä¸Šé™åˆ¶æœ€å¤§å®½åº¦ */
            margin: 0 auto; /* å±…ä¸­æ˜¾ç¤º */
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px; /* å†…éƒ¨é—´è·é€‚ä¸­ */
            text-align: center;
            border: 4px solid #B2EBF2;
            overflow: hidden; /* é˜²æ­¢å†…å®¹æº¢å‡º */
        }

        /* æ ‡é¢˜é€‚é… */
        h1 { 
            color: #00ACC1; 
            margin-top: 0;
            margin-bottom: 10px; 
            font-size: 1.8em; /* æ‰‹æœºä¸Šå­—ä½“ç¨å¾®è°ƒå° */
        }
        .subtitle { color: #FF7043; font-size: 1em; margin-bottom: 20px; }

        /* åŒºåŸŸåˆ‡æ¢åŠ¨ç”» */
        .section { display: none; animation: fadeIn 0.3s ease-out; }
        .active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* æŒ‰é’®ä¼˜åŒ– */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0; /* ä¸Šä¸‹æ’‘å¼€ï¼Œå·¦å³è‡ªåŠ¨ */
            width: 100%; /* æ‰‹æœºä¸ŠæŒ‰é’®å æ»¡ä¸€è¡Œï¼Œæ›´æ˜“ç‚¹å‡» */
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 10px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #0097A7;
            transition: 0.1s;
            -webkit-tap-highlight-color: transparent;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #0097A7; }
        .btn-next { background: #FFAB91; box-shadow: 0 4px 0 #D84315; }
        .btn-next:active { box-shadow: 0 1px 0 #D84315; }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #FFFDE7;
            border-radius: 10px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #FBC02D;
            margin-bottom: 15px;
        }
        .knowledge-box h3 { margin-top: 0; color: #F57F17; }
        .knowledge-box p { margin: 8px 0; line-height: 1.6; }

        /* SVG å®¹å™¨è‡ªé€‚åº” */
        .svg-stage {
            background: #E1F5FE;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            border: 2px dashed #4FC3F7;
            width: 100%;
            overflow-x: auto; /* å¦‚æœå›¾ç‰‡å®åœ¨å¤ªå®½ï¼Œå…è®¸æ¨ªå‘æ»‘åŠ¨ */
        }

        /* é¢˜ç›®å¡ç‰‡ */
        .question-card {
            background: #FAFAFA;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border: 2px solid #EEE;
        }
        .q-tag {
            background: #E0F2F1; color: #00695C; padding: 3px 6px; 
            border-radius: 4px; font-size: 0.8em; font-weight: bold;
            display: inline-block; margin-bottom: 5px;
        }
        .q-text { font-size: 1.2em; margin: 10px 0 20px 0; line-height: 1.5; font-weight: bold; color: #37474F; }

        /* é€‰é¡¹æ ·å¼ */
        .options-grid { display: flex; flex-direction: column; gap: 10px; }
        .option-item {
            background: white;
            border: 2px solid #CFD8DC;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            line-height: 1.4;
            -webkit-tap-highlight-color: transparent; /* å»é™¤æ‰‹æœºç‚¹å‡»é«˜äº®èƒŒæ™¯ */
        }
        .option-item.selected { background: #B2EBF2; border-color: #00BCD4; font-weight: bold; }

        /* è¿›åº¦æ¡ */
        .progress-container {
            height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 10px; overflow: hidden;
        }
        .progress-bar { height: 100%; background: #4DD0E1; width: 0%; transition: width 0.3s; }

        /* å¡«ç©ºé¢˜è¾“å…¥æ¡† */
        .fill-input {
            font-size: 1.2em; padding: 10px; width: 100%; 
            border: 3px solid #B2EBF2; border-radius: 8px; text-align: center;
            outline: none; -webkit-appearance: none;
        }

        /* é”™é¢˜æœ¬ */
        .wrong-card {
            background: #FFEBEE; border-left: 5px solid #EF5350;
            padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 5px;
        }
        .score-big { font-size: 3.5em; color: #FF7043; font-weight: bold; margin: 10px 0; }

    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;!-- 1. å¤ä¹ åŒº --&gt;
    &lt;div id="section-review" class="container section active"&gt;
        &lt;h1&gt;ğŸ“– çŸ¥è¯†å¤ä¹ &lt;/h1&gt;
        &lt;p class="subtitle"&gt;å¬å¬å£°éŸ³ Â· ç¬¬ä¸€è¯¾&lt;/p&gt;

        &lt;div class="knowledge-box"&gt;
            &lt;h3&gt;ğŸµ é‡ç‚¹1ï¼šå£°éŸ³çš„åˆ†ç±»&lt;/h3&gt;
            &lt;p&gt;ğŸ¶ &lt;strong&gt;åŠ¨ç‰©å«å£°&lt;/strong&gt;ï¼šç‹—å«ã€çŒ«å«ã€é¸Ÿå«ç­‰ã€‚&lt;/p&gt;
            &lt;p&gt;ğŸŒ§ï¸ &lt;strong&gt;è‡ªç„¶å£°éŸ³&lt;/strong&gt;ï¼šé£å£°ã€é›¨å£°ã€é›·å£°ã€æµæ°´ã€‚&lt;/p&gt;
            &lt;p&gt;ğŸš— &lt;strong&gt;äººç±»æ´»åŠ¨&lt;/strong&gt;ï¼šè¯»ä¹¦ã€å”±æ­Œã€æœºå™¨å£°ã€æ±½è½¦ã€‚&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="knowledge-box"&gt;
            &lt;h3&gt;ğŸµ é‡ç‚¹2ï¼šéŸ³ç¬¦ä¸éŸ³å‰ (åŠ¨ç”»æ¼”ç¤º)&lt;/h3&gt;
            
            &lt;!-- 1. ä¸ƒä¸ªéŸ³ç¬¦æ¼”ç¤º --&gt;
            &lt;div class="svg-stage"&gt;
                &lt;p style="font-weight:bold; color:#0277BD; margin-bottom:5px;"&gt;ğŸ¹ éŸ³ç¬¦é«˜ä½ï¼šæ•°å­—è¶Šå¤§ï¼Œå£°éŸ³è¶Šé«˜&lt;/p&gt;
                &lt;svg width="100%" height="180" viewBox="0 0 380 180" preserveAspectRatio="xMidYMid meet"&gt;
                    &lt;polyline points="40,140 340,20" fill="none" stroke="#CFD8DC" stroke-width="2" stroke-dasharray="5,5"/&gt;
                    
                    &lt;!-- éŸ³ç¬¦ç»„ --&gt;
                    &lt;g transform="translate(40,140)"&gt; &lt;circle r="15" fill="#EF5350"/&gt;&lt;text y="5" text-anchor="middle" fill="white" font-weight="bold" font-size="14"&gt;1&lt;/text&gt;&lt;text y="25" text-anchor="middle" font-size="10" fill="#555"&gt;Do&lt;/text&gt; &lt;/g&gt;
                    &lt;g transform="translate(90,120)"&gt; &lt;circle r="15" fill="#FF7043"/&gt;&lt;text y="5" text-anchor="middle" fill="white" font-weight="bold" font-size="14"&gt;2&lt;/text&gt;&lt;text y="25" text-anchor="middle" font-size="10" fill="#555"&gt;Re&lt;/text&gt; &lt;/g&gt;
                    &lt;g transform="translate(140,100)"&gt; &lt;circle r="15" fill="#FFCA28"/&gt;&lt;text y="5" text-anchor="middle" fill="white" font-weight="bold" font-size="14"&gt;3&lt;/text&gt;&lt;text y="25" text-anchor="middle" font-size="10" fill="#555"&gt;Mi&lt;/text&gt; &lt;/g&gt;
                    &lt;g transform="translate(190,80)"&gt; &lt;circle r="15" fill="#66BB6A"/&gt;&lt;text y="5" text-anchor="middle" fill="white" font-weight="bold" font-size="14"&gt;4&lt;/text&gt;&lt;text y="25" text-anchor="middle" font-size="10" fill="#555"&gt;Fa&lt;/text&gt; &lt;/g&gt;
                    &lt;g transform="translate(240,60)"&gt; &lt;circle r="15" fill="#42A5F5"/&gt;&lt;text y="5" text-anchor="middle" fill="white" font-weight="bold" font-size="14"&gt;5&lt;/text&gt;&lt;text y="25" text-anchor="middle" font-size="10" fill="#555"&gt;Sol&lt;/text&gt; &lt;/g&gt;
                    &lt;g transform="translate(290,40)"&gt; &lt;circle r="15" fill="#5C6BC0"/&gt;&lt;text y="5" text-anchor="middle" fill="white" font-weight="bold" font-size="14"&gt;6&lt;/text&gt;&lt;text y="25" text-anchor="middle" font-size="10" fill="#555"&gt;La&lt;/text&gt; &lt;/g&gt;
                    &lt;g transform="translate(340,20)"&gt; &lt;circle r="15" fill="#AB47BC"/&gt;&lt;text y="5" text-anchor="middle" fill="white" font-weight="bold" font-size="14"&gt;7&lt;/text&gt;&lt;text y="25" text-anchor="middle" font-size="10" fill="#555"&gt;Si&lt;/text&gt; &lt;/g&gt;

                    &lt;text x="10" y="145" font-size="12" fill="#888"&gt;ä½&lt;/text&gt;
                    &lt;text x="360" y="25" font-size="12" fill="#888"&gt;é«˜&lt;/text&gt;
                &lt;/svg&gt;
            &lt;/div&gt;

            &lt;!-- 2. éŸ³å‰æŒ¯åŠ¨æ¼”ç¤º --&gt;
            &lt;div class="svg-stage"&gt;
                &lt;p style="font-weight:bold; color:#E65100; margin-bottom:5px;"&gt;ğŸ”¨ éŸ³å‰çš„ç§˜å¯†ï¼šæ­£åœ¨æŒ¯åŠ¨&lt;/p&gt;
                &lt;svg width="100%" height="160" viewBox="0 0 300 160" preserveAspectRatio="xMidYMid meet"&gt;
                    &lt;rect x="142" y="90" width="16" height="60" rx="5" fill="#78909C"/&gt;
                    &lt;path d="M120,20 L120,90 Q120,110 150,110 Q180,110 180,90 L180,20" fill="none" stroke="#90A4AE" stroke-width="14" stroke-linecap="round"/&gt;
                    
                    &lt;!-- æŒ¯åŠ¨è™šå½± --&gt;
                    &lt;path d="M115,20 L115,90" fill="none" stroke="#FFAB91" stroke-width="4" opacity="0.6"&gt;&lt;animate attributeName="d" values="M115,20 L115,90; M125,20 L125,90; M115,20 L115,90" dur="0.05s" repeatCount="indefinite"/&gt;&lt;/path&gt;
                    &lt;path d="M185,20 L185,90" fill="none" stroke="#FFAB91" stroke-width="4" opacity="0.6"&gt;&lt;animate attributeName="d" values="M185,20 L185,90; M175,20 L175,90; M185,20 L185,90" dur="0.05s" repeatCount="indefinite"/&gt;&lt;/path&gt;
                    
                    &lt;!-- å£°æ³¢ --&gt;
                    &lt;path d="M100,30 Q90,55 100,80" fill="none" stroke="#4DD0E1" stroke-width="3" opacity="0"&gt;&lt;animate attributeName="d" values="M100,30 Q90,55 100,80; M80,20 Q60,55 80,90" dur="1s" repeatCount="indefinite"/&gt;&lt;animate attributeName="opacity" values="1;0" dur="1s" repeatCount="indefinite"/&gt;&lt;/path&gt;
                    &lt;path d="M200,30 Q210,55 200,80" fill="none" stroke="#4DD0E1" stroke-width="3" opacity="0"&gt;&lt;animate attributeName="d" values="M200,30 Q210,55 200,80; M220,20 Q240,55 220,90" dur="1s" repeatCount="indefinite"/&gt;&lt;animate attributeName="opacity" values="1;0" dur="1s" repeatCount="indefinite"/&gt;&lt;/path&gt;

                    &lt;text x="10" y="45" font-size="12" fill="#333"&gt;å­—æ¯=éŸ³è°ƒ&lt;/text&gt;
                    &lt;line x1="120" y1="40" x2="80" y2="40" stroke="#333" stroke-width="1" stroke-dasharray="2"/&gt;
                    &lt;text x="225" y="65" font-size="12" fill="#333"&gt;æ•°å­—=æ¬¡æ•°&lt;/text&gt;
                    &lt;line x1="180" y1="60" x2="220" y2="60" stroke="#333" stroke-width="1" stroke-dasharray="2"/&gt;
                &lt;/svg&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="knowledge-box"&gt;
            &lt;h3&gt;ğŸµ é‡ç‚¹3ï¼šæè¿°å£°éŸ³&lt;/h3&gt;
            &lt;p&gt;ğŸ”Š &lt;strong&gt;é«˜/ä½&lt;/strong&gt;ï¼šå°å­©(é«˜)ã€æˆäºº(ä½)ã€‚&lt;/p&gt;
            &lt;p&gt;ğŸ“¢ &lt;strong&gt;å¼º/å¼±&lt;/strong&gt;ï¼šé›·å£°(å¼º)ã€é›¨å£°(å¼±)ã€‚&lt;/p&gt;
            &lt;p&gt;ğŸ¶ &lt;strong&gt;æ‚¦è€³/åˆºè€³&lt;/strong&gt;ï¼šä¹æ›²(æ‚¦è€³)ã€å™ªéŸ³(åˆºè€³)ã€‚&lt;/p&gt;
        &lt;/div&gt;

        &lt;button class="btn" onclick="startQuiz()"&gt;å¼€å§‹35é¢˜æŒ‘æˆ˜ï¼ğŸš€&lt;/button&gt;
    &lt;/div&gt;

    &lt;!-- 2. é—¯å…³åŒº --&gt;
    &lt;div id="section-quiz" class="container section"&gt;
        &lt;div class="progress-container"&gt;
            &lt;div class="progress-bar" id="progressBar"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div style="text-align:right; font-size:0.9em; color:#888; margin-bottom:5px;"&gt;é¢˜ç›®ï¼š&lt;span id="q-index"&gt;1&lt;/span&gt; / 35&lt;/div&gt;
        
        &lt;div id="question-area"&gt;&lt;/div&gt;
        &lt;button class="btn btn-next" id="nextBtn" onclick="nextQuestion()"&gt;ä¸‹ä¸€é¢˜ â–¶&lt;/button&gt;
    &lt;/div&gt;

    &lt;!-- 3. ç»“ç®—åŒº --&gt;
    &lt;div id="section-result" class="container section"&gt;
        &lt;h1&gt;ğŸ† é—¯å…³æˆç»©&lt;/h1&gt;
        &lt;div class="score-big"&gt;&lt;span id="final-score"&gt;0&lt;/span&gt;&lt;span style="font-size:0.4em"&gt;åˆ†&lt;/span&gt;&lt;/div&gt;
        &lt;p id="reward-text"&gt;æ­£åœ¨è®¡ç®—...&lt;/p&gt;
        
        &lt;div id="wrong-list" style="display:none;"&gt;
            &lt;h3 style="color:#E57373; border-bottom:2px solid #FFEBEE; padding-bottom:10px;"&gt;âŒ é”™é¢˜æœ¬&lt;/h3&gt;
            &lt;!-- é”™é¢˜æ’å…¥åŒº --&gt;
        &lt;/div&gt;

        &lt;button class="btn" onclick="location.reload()"&gt;ğŸ”„ é‡æ–°æŒ‘æˆ˜&lt;/button&gt;
    &lt;/div&gt;

    &lt;script&gt;
        // --- é¢˜åº“é…ç½® (35é“é¢˜) ---
        const quizData = [
            { type: 'mcq', q: 'ä¸‹åˆ—å±äºè‡ªç„¶ç•Œçš„å£°éŸ³çš„æ˜¯ï¼Ÿ', opts: ['è¯»ä¹¦å£°', 'é›·å£°', 'æ±½è½¦å–‡å­'], a: 1, exp: 'è¯»ä¹¦å£°æ˜¯äººç±»æ´»åŠ¨ï¼Œé›·å£°æ˜¯è‡ªç„¶çš„ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å±äºåŠ¨ç‰©å«å£°çš„æ˜¯ï¼Ÿ', opts: ['é£å£°', 'é©¬çš„å˜¶é¸£å£°', 'äºŒèƒ¡å£°'], a: 1, exp: 'é©¬å˜¶é¸£æ˜¯åŠ¨ç‰©çš„å£°éŸ³ã€‚' },
            { type: 'mcq', q: 'å±äºäººç±»ç”Ÿäº§ç”Ÿæ´»çš„å£°éŸ³æ˜¯ï¼Ÿ', opts: ['é¸Ÿå«', 'æœºå™¨è½°é¸£å£°', 'é›¨å£°'], a: 1, exp: 'æœºå™¨è½°é¸£æ˜¯äººç±»ç”Ÿäº§æ´»åŠ¨ã€‚' },
            { type: 'tf', q: 'åˆ¤æ–­ï¼šé£å£°ã€é›¨å£°ã€é›·å£°éƒ½å±äºè‡ªç„¶ç•Œçš„å£°éŸ³ã€‚', a: 1, exp: 'æ­£ç¡®ã€‚' }, 
            { type: 'tf', q: 'åˆ¤æ–­ï¼šæ¼”å¥ä¹å™¨å‘å‡ºçš„å£°éŸ³å±äºè‡ªç„¶ç•Œçš„å£°éŸ³ã€‚', a: 0, exp: 'é”™è¯¯ã€‚ä¹å™¨å£°å±äºäººç±»ç”Ÿæ´»å£°éŸ³ã€‚' },
            { type: 'mcq', q: 'â€œå“—å•¦å•¦â€çš„æµæ°´å£°å±äºï¼Ÿ', opts: ['åŠ¨ç‰©å£°éŸ³', 'è‡ªç„¶ç•Œå£°éŸ³', 'äººç±»å£°éŸ³'], a: 1, exp: 'æµæ°´å£°å±äºè‡ªç„¶ç•Œã€‚' },
            { type: 'mcq', q: 'æ¸…æ™¨çš„è¯»ä¹¦å£°å±äºï¼Ÿ', opts: ['äººç±»ç”Ÿæ´»å£°éŸ³', 'åŠ¨ç‰©å£°éŸ³', 'è‡ªç„¶ç•Œå£°éŸ³'], a: 0, exp: 'è¯»ä¹¦å£°æ˜¯äººç±»å£°éŸ³ã€‚' },
            { type: 'tf', q: 'åˆ¤æ–­ï¼šç‹—å«å£°ã€çŒ«å«å£°éƒ½å±äºåŠ¨ç‰©çš„å«å£°ã€‚', a: 1, exp: 'æ­£ç¡®ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—ä¸å±äºè‡ªç„¶ç•Œå£°éŸ³çš„æ˜¯ï¼Ÿ', opts: ['æµ·æµªå£°', 'é£æœºèµ·é£å£°', 'æš´é£é›¨å£°'], a: 1, exp: 'é£æœºå£°æ˜¯æœºå™¨å£°ã€‚' },
            { type: 'tf', q: 'åˆ¤æ–­ï¼šæˆ‘ä»¬ç”Ÿæ´»åœ¨ä¸€ä¸ªå……æ»¡å£°éŸ³çš„ä¸–ç•Œé‡Œã€‚', a: 1, exp: 'æ­£ç¡®ã€‚' },

            { type: 'mcq', q: 'é€šå¸¸æˆ‘ä»¬ç”¨ä»€ä¹ˆè¯æ¥æè¿°é›·å£°ï¼Ÿ', opts: ['å¼±', 'å¼º', 'ä½'], a: 1, exp: 'é›·å£°å¾ˆå“ï¼Œæè¿°ä¸ºâ€œå¼ºâ€ã€‚' },
            { type: 'mcq', q: 'é€šå¸¸æˆ‘ä»¬ç”¨ä»€ä¹ˆè¯æ¥æè¿°è½»è½»çš„é›¨å£°ï¼Ÿ', opts: ['å¼º', 'åˆºè€³', 'å¼±'], a: 2, exp: 'å°é›¨å£°å¾ˆè½»ï¼Œæè¿°ä¸ºâ€œå¼±â€ã€‚' },
            { type: 'mcq', q: 'å°å­©çš„å£°éŸ³é€šå¸¸æ¯”æˆå¹´äººæ›´___ï¼Ÿ', opts: ['ä½', 'ç²—', 'é«˜'], a: 2, exp: 'å°å­©å£°éŸ³å°–ç»†ï¼Œå³â€œé«˜â€ã€‚' },
            { type: 'mcq', q: 'æˆå¹´äººçš„å£°éŸ³é€šå¸¸æ¯”å°å­©æ›´___ï¼Ÿ', opts: ['é«˜', 'ä½', 'å°–'], a: 1, exp: 'æˆäººå£°éŸ³ç²—çŠ·ï¼Œå³â€œä½â€ã€‚' },
            { type: 'mcq', q: 'é¸Ÿå«å£°å¬èµ·æ¥é€šå¸¸æ¯”è¾ƒ___ï¼Ÿ', opts: ['åˆºè€³', 'æ‚¦è€³', 'å˜ˆæ‚'], a: 1, exp: 'é¸Ÿå«å£°å¥½å¬ï¼Œå³â€œæ‚¦è€³â€ã€‚' },
            { type: 'mcq', q: 'æœºå™¨çš„è½°é¸£å£°å¬èµ·æ¥é€šå¸¸æ¯”è¾ƒ___ï¼Ÿ', opts: ['æ‚¦è€³', 'åˆºè€³', 'ä¼˜ç¾'], a: 1, exp: 'å™ªéŸ³é€šå¸¸æè¿°ä¸ºâ€œåˆºè€³â€ã€‚' },
            { type: 'tf', q: 'åˆ¤æ–­ï¼šå£°éŸ³åªæœ‰é«˜ä½ä¹‹åˆ†ï¼Œæ²¡æœ‰å¼ºå¼±ä¹‹åˆ†ã€‚', a: 0, exp: 'é”™è¯¯ã€‚å£°éŸ³æ—¢æœ‰é«˜ä½ä¹Ÿæœ‰å¼ºå¼±ã€‚' },
            { type: 'fill', q: 'æè¿°å£°éŸ³å¯ä»¥ç”¨é«˜ã€ä½ã€å¼ºã€___ã€æ‚¦è€³ç­‰ã€‚', a: ['å¼±'], exp: 'å¼ºä¸å¼±æ˜¯ç›¸å¯¹çš„ã€‚' },
            { type: 'mcq', q: 'ç”¨åŠ›æ•²å‡»é¼“é¢ï¼Œå£°éŸ³ä¼šï¼Ÿ', opts: ['å¼±', 'å¼º', 'ä½'], a: 1, exp: 'ç”¨åŠ›å¤§ï¼ŒæŒ¯åŠ¨å¤§ï¼Œå£°éŸ³â€œå¼ºâ€ã€‚' },
            { type: 'mcq', q: 'è½»è½»æ‹¨åŠ¨ç´å¼¦ï¼Œå£°éŸ³ä¼šï¼Ÿ', opts: ['å¼±', 'å¼º', 'å°–'], a: 0, exp: 'ç”¨åŠ›å°ï¼Œå£°éŸ³â€œå¼±â€ã€‚' },

            { type: 'mcq', q: 'ä¹è°±ä¸­ï¼ŒéŸ³ç¬¦â€œ1â€ä»£è¡¨ï¼Ÿ', opts: ['Do', 'Re', 'Mi'], a: 0, exp: '1æ˜¯Doã€‚' },
            { type: 'mcq', q: 'ä¹è°±ä¸­ï¼ŒéŸ³ç¬¦â€œ3â€ä»£è¡¨ï¼Ÿ', opts: ['Do', 'Re', 'Mi'], a: 2, exp: '3æ˜¯Miã€‚' },
            { type: 'sort', q: 'æŒ‰å£°éŸ³**ä»é«˜åˆ°ä½**æ’åˆ—â€œ1ã€2ã€3â€ï¼š', opts: ['1, 2, 3', '3, 2, 1', '2, 3, 1'], a: 1, exp: '3(Mi)æœ€é«˜ï¼Œ1(Do)æœ€ä½ã€‚' },
            { type: 'tf', q: 'åˆ¤æ–­ï¼šä¹è°±ä¸­çš„æ•°å­—è¶Šå¤§ï¼Œå£°éŸ³è¶Šä½ã€‚', a: 0, exp: 'é”™è¯¯ã€‚æ•°å­—è¶Šå¤§ï¼Œå£°éŸ³è¶Šé«˜ã€‚' },
            { type: 'fill', q: 'éŸ³ç¬¦â€œ1ã€2ã€3â€ä¸­ï¼Œå£°éŸ³æœ€ä½çš„æ˜¯æ•°å­—___ã€‚', a: ['1'], exp: '1(Do)æ˜¯æœ€ä½çš„ã€‚' },

            { type: 'fill', q: 'éŸ³å‰æ˜¯ç”¨æ¥è°ƒè¯•ä¹å™¨å’Œæµ‹è¯•___çš„ä»ªå™¨ã€‚', a: ['éŸ³é«˜', 'éŸ³è°ƒ'], exp: 'éŸ³å‰æµ‹è¯•éŸ³é«˜ã€‚' },
            { type: 'mcq', q: 'éŸ³å‰ä¸Šçš„å­—æ¯ä»£è¡¨ä»€ä¹ˆï¼Ÿ', opts: ['éŸ³è°ƒ', 'å‚å®¶', 'ä»·æ ¼'], a: 0, exp: 'å­—æ¯ä»£è¡¨éŸ³è°ƒ(å¦‚Cã€D)ã€‚' },
            { type: 'mcq', q: 'éŸ³å‰ä¸Šçš„æ•°å­—ä»£è¡¨ä»€ä¹ˆï¼Ÿ', opts: ['é‡é‡', 'é•¿åº¦', 'æ¯ç§’æŒ¯åŠ¨æ¬¡æ•°'], a: 2, exp: 'æ•°å­—ä»£è¡¨é¢‘ç‡(æŒ¯åŠ¨æ¬¡æ•°)ã€‚' },
            { type: 'mcq', q: 'éŸ³å‰â€œ256â€å’Œâ€œ512â€ï¼Œå“ªä¸ªå£°éŸ³é«˜ï¼Ÿ', opts: ['256', '512', 'ä¸€æ ·'], a: 1, exp: 'æ•°å­—è¶Šå¤§å£°éŸ³è¶Šé«˜ã€‚' },
            { type: 'tf', q: 'åˆ¤æ–­ï¼šè½»æ•²å’Œé‡æ•²éŸ³å‰ï¼Œå£°éŸ³é«˜ä½ä¸åŒã€‚', a: 0, exp: 'é”™è¯¯ã€‚åŒä¸€éŸ³å‰éŸ³é«˜ä¸å˜ï¼Œæ”¹å˜çš„æ˜¯å¼ºå¼±ã€‚' },

            { type: 'mcq', q: 'å£°éŸ³åˆ†ç±»ä¸åŒ…æ‹¬å“ªé¡¹ï¼Ÿ', opts: ['åŠ¨ç‰©å«å£°', 'å¤–æ˜Ÿäººå£°éŸ³', 'äººç±»æ´»åŠ¨å£°éŸ³'], a: 1, exp: 'è¯¾æœ¬åˆ†ä¸‰ç±»ï¼šè‡ªç„¶ã€åŠ¨ç‰©ã€äººç±»ã€‚' },
            { type: 'fill', q: 'é£å£°ã€___å£°ã€é›·å£°æ˜¯è‡ªç„¶ç•Œçš„å£°éŸ³ã€‚', a: ['é›¨', 'æ°´', 'æµª'], exp: 'é›¨å£°æ˜¯è‡ªç„¶çš„ã€‚' },
            { type: 'fill', q: 'æ­Œå£°ã€___å£°æ˜¯äººç±»æ´»åŠ¨çš„å£°éŸ³ã€‚', a: ['è¯»ä¹¦', 'è¯´è¯', 'ç¬‘'], exp: 'è¯»ä¹¦å£°æ˜¯äººç±»çš„ã€‚' },
            { type: 'mcq', q: 'è¦ä½¿éŸ³å‰å£°éŸ³å˜å¼ºï¼Œåº”è¯¥ï¼Ÿ', opts: ['æ¢å¤§éŸ³å‰', 'ç”¨åŠ›æ•²', 'æ‚ä½å®ƒ'], a: 1, exp: 'ç”¨åŠ›æ•²ï¼ŒæŒ¯åŠ¨å¹…åº¦å¤§ï¼Œå£°éŸ³å¼ºã€‚' },
            { type: 'mcq', q: 'å¬åˆ°åˆºè€³å™ªéŸ³æ—¶åº”è¯¥ï¼Ÿ', opts: ['å¤§å«', 'æ‚è€³æœµç¦»å¼€', 'å¬ç€ç©'], a: 1, exp: 'ä¿æŠ¤å¬åŠ›ï¼Œè¿œç¦»å™ªéŸ³ã€‚' }
        ];

        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;

            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now);
                osc.frequency.exponentialRampToValueAtTime(1200, now + 0.1);
                gain.gain.setValueAtTime(0.1, now);
                gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'wrong') {
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(200, now);
                osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now);
                gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.value = 800;
                gain.gain.setValueAtTime(0.05, now);
                gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            currentQIndex = 0; userScoreRaw = 0; userMistakes = [];
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            let pct = ((currentQIndex) / quizData.length) * 100;
            document.getElementById('progressBar').style.width = pct + "%";

            area.innerHTML = '';
            selectedOption = null;
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let typeText = qData.type === 'fill' ? "å¡«ç©ºé¢˜" : (qData.type === 'tf' ? "åˆ¤æ–­é¢˜" : "é€‰æ‹©é¢˜");
            
            const qTitle = document.createElement('div');
            qTitle.className = 'q-text';
            qTitle.innerHTML = `&lt;span class="q-tag"&gt;${typeText}&lt;/span&gt; ` + qData.q;
            card.appendChild(qTitle);

            if (qData.type === 'mcq' || qData.type === 'sort') {
                const grid = document.createElement('div');
                grid.className = 'options-grid';
                qData.opts.forEach((opt, idx) =&gt; {
                    const btn = document.createElement('div');
                    btn.className = 'option-item';
                    btn.innerText = opt;
                    btn.onclick = () =&gt; selectOption(btn, idx);
                    grid.appendChild(btn);
                });
                card.appendChild(grid);
            } else if (qData.type === 'tf') {
                const grid = document.createElement('div');
                grid.className = 'options-grid';
                ['æ­£ç¡® (âˆš)', 'é”™è¯¯ (Ã—)'].forEach((txt, idx) =&gt; {
                    const btn = document.createElement('div');
                    btn.className = 'option-item';
                    btn.innerText = txt;
                    let val = idx === 0 ? 1 : 0;
                    btn.onclick = () =&gt; selectOption(btn, val);
                    grid.appendChild(btn);
                });
                card.appendChild(grid);
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.type = 'text'; input.className = 'fill-input';
                input.placeholder = 'åœ¨æ­¤è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) =&gt; {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            }
            area.appendChild(card);
        }

        function selectOption(el, val) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(d =&gt; d.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = val;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;

            if (qData.type === 'fill') {
                if (qData.a.some(ans =&gt; selectedOption.includes(ans))) isCorrect = true;
            } else {
                if (selectedOption === qData.a) isCorrect = true;
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                let myAnsStr = selectedOption;
                if(qData.type === 'tf') myAnsStr = selectedOption === 1 ? "æ­£ç¡®" : "é”™è¯¯";
                if(qData.type === 'mcq' &amp;&amp; typeof selectedOption === 'number') myAnsStr = qData.opts[selectedOption];
                
                userMistakes.push({
                    q: qData.q,
                    my: myAnsStr,
                    right: (qData.type === 'tf' ? (qData.a===1?'æ­£ç¡®':'é”™è¯¯') : (qData.type === 'mcq' ? qData.opts[qData.a] : qData.a.join('/'))),
                    exp: qData.exp
                });
            }

            currentQIndex++;
            if (currentQIndex &lt; quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() =&gt; {
                if(temp &gt;= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const rewardText = document.getElementById('reward-text');
            if(finalScore === 100) rewardText.innerText = "ğŸ‰ æ»¡åˆ†ï¼ä½ æ˜¯ç§‘å­¦å°åšå£«ï¼";
            else if(finalScore &gt;= 80) rewardText.innerText = "ğŸŒŸ å¾ˆæ£’ï¼ç»§ç»­ä¿æŒï¼";
            else rewardText.innerText = "ğŸ’ª åŠ æ²¹ï¼çœ‹çœ‹é”™é¢˜è§£æï¼";

            const list = document.getElementById('wrong-list');
            if(userMistakes.length &gt; 0) {
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) =&gt; {
                    html += `&lt;div class="wrong-card"&gt;&lt;div style="font-weight:bold;"&gt;${i+1}. ${m.q}&lt;/div&gt;&lt;div style="margin:5px 0; font-size:0.9em;"&gt;&lt;span style="color:#D32F2F"&gt;ä½ çš„ç­”æ¡ˆï¼š${m.my || 'æœªå¡«'}&lt;/span&gt;&lt;br&gt;&lt;span style="color:#388E3C; font-weight:bold;"&gt;æ­£ç¡®ç­”æ¡ˆï¼š${m.right}&lt;/span&gt;&lt;/div&gt;&lt;div style="font-size:0.8em; color:#555;"&gt;ğŸ’¡ ${m.exp}&lt;/div&gt;&lt;/div&gt;`;
                });
                list.innerHTML += html;
            }
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</textarea>
<textarea id="u1-2" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬äºŒè¯¾ï¼šå£°éŸ³æ˜¯æ€æ ·äº§ç”Ÿçš„ - å®éªŒä¸é—¯å…³</title>
    <style>
        :root {
            --bg-color: #E0F2F1; /* æµ…é’è‰²èƒŒæ™¯ */
            --card-bg: #FFFFFF;
            --primary: #009688; /* è“ç»¿è‰²ä¸»è°ƒ */
            --secondary: #FF7043; /* æ´»åŠ›æ©™ */
            --text: #37474F;
            --font-main: "Microsoft YaHei", -apple-system, BlinkMacSystemFont, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            display: block;
            background-image: radial-gradient(#80CBC4 10%, transparent 11%);
            background-size: 20px 20px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #B2DFDB;
            overflow: hidden;
        }

        h1 { color: #00796B; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #FF7043; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.3s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #E0F2F1;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #009688;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #00695C; border-bottom: 1px dashed #B2DFDB; padding-bottom: 5px; }
        .k-point { margin-bottom: 10px; font-size: 1em; line-height: 1.5; }
        .highlight { color: #D84315; font-weight: bold; }

        /* SVG å®éªŒå° */
        .experiment-stage {
            background: #FFF;
            border: 2px dashed #FFB74D;
            border-radius: 10px;
            padding: 10px;
            margin: 10px 0;
            text-align: center;
        }
        .exp-caption { font-size: 0.9em; color: #777; margin-top: 5px; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 10px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #00695C;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #00695C; }
        .btn-next { background: #FF7043; box-shadow: 0 4px 0 #D84315; }

        /* é¢˜ç›®åŒºåŸŸ */
        .progress-bar-container { width: 100%; height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #26A69A; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #EEE; margin-top: 10px; }
        .q-tag { background: #E0F2F1; color: #00796B; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ & è¿çº¿ */
        .option-item {
            background: white; border: 2px solid #CFD8DC; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #B2DFDB; border-color: #009688; font-weight: bold; }

        .fill-input { border: none; border-bottom: 3px solid #009688; background: transparent; width: 100px; text-align: center; font-size: 1.2em; color: #D84315; border-radius: 0; }
        
        /* è¿çº¿é¢˜æ ·å¼ */
        .match-container { display: flex; justify-content: space-between; gap: 10px; }
        .match-col { width: 48%; display: flex; flex-direction: column; gap: 8px; }
        .match-btn { 
            padding: 10px; background: #FFF; border: 2px solid #90A4AE; 
            border-radius: 8px; font-size: 0.9em; text-align: center; cursor: pointer; 
        }
        .match-btn.selected { background: #FFF9C4; border-color: #FBC02D; transform: scale(1.02); }
        .match-btn.matched { background: #C8E6C9; border-color: #43A047; opacity: 0.6; pointer-events: none; }

        /* é”™é¢˜æœ¬ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 3.5em; color: #FF7043; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ”¬ çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬äºŒè¯¾ï¼šå£°éŸ³æ˜¯æ€æ ·äº§ç”Ÿçš„</p>

        <!-- å®éªŒ1ï¼šçš®ç­‹å®éªŒ -->
        <div class="knowledge-box">
            <h3>ğŸ§ª å®éªŒ1ï¼šçš®ç­‹å‘å£°çš„ç§˜å¯†</h3>
            <div class="k-point">âŒ <strong>ä¸å‘å£°</strong>ï¼šæ‹‰ä¼¸ã€æŒ‰å‹ã€æ‰æ“çš®ç­‹ï¼ˆçš®ç­‹æ²¡æœ‰æŒ¯åŠ¨ï¼‰ã€‚</div>
            <div class="k-point">âœ… <strong>å‘å£°</strong>ï¼šè½»è½»å¼¹æ‹¨ã€æ¨ªå‘æ‹‰åŠ¨ï¼ˆçš®ç­‹åœ¨<span class="highlight">æŒ¯åŠ¨</span>ï¼‰ã€‚</div>
            
            <div class="experiment-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- å·¦ï¼šé™æ­¢çš®ç­‹ -->
                    <text x="75" y="20" text-anchor="middle" font-size="12" fill="#555">ç”¨åŠ›æ‹‰ä¼¸(ä¸å‘å£°)</text>
                    <rect x="20" y="30" width="10" height="60" fill="#8D6E63"/> <!-- æ‰‹ -->
                    <rect x="120" y="30" width="10" height="60" fill="#8D6E63"/> <!-- æ‰‹ -->
                    <line x1="30" y1="60" x2="120" y2="60" stroke="#EF5350" stroke-width="4" />

                    <!-- å³ï¼šæŒ¯åŠ¨çš®ç­‹ -->
                    <text x="225" y="20" text-anchor="middle" font-size="12" fill="#555">å¼¹æ‹¨(æŒ¯åŠ¨å‘å£°)</text>
                    <rect x="170" y="30" width="10" height="60" fill="#8D6E63"/>
                    <rect x="270" y="30" width="10" height="60" fill="#8D6E63"/>
                    <!-- æŒ¯åŠ¨åŠ¨ç”» -->
                    <path d="M180,60 Q225,60 270,60" stroke="#EF5350" stroke-width="4" fill="none">
                        <animate attributeName="d" 
                            values="M180,60 Q225,30 270,60; M180,60 Q225,90 270,60; M180,60 Q225,30 270,60" 
                            dur="0.1s" repeatCount="indefinite"/>
                    </path>
                    <!-- å£°éŸ³ç¬¦å· -->
                    <text x="285" y="50" font-size="16">ğŸµ</text>
                </svg>
                <div class="exp-caption">å¯¹æ¯”ï¼šé™æ­¢çš„çš®ç­‹ vs æŒ¯åŠ¨çš„çš®ç­‹</div>
            </div>
        </div>

        <!-- å®éªŒ2ï¼šæ„Ÿå—æŒ¯åŠ¨ -->
        <div class="knowledge-box">
            <h3>ğŸ§ª å®éªŒ2ï¼šå£°éŸ³æ˜¯ç”±æŒ¯åŠ¨äº§ç”Ÿçš„</h3>
            <div class="k-point">ğŸ‘‰ ç”¨æ‰‹è§¦æ‘¸æ­£åœ¨å‘å£°çš„é’¢å°ºã€é¼“é¢ã€éŸ³å‰ï¼Œä¼šæ„Ÿè§‰åˆ°<span class="highlight">éº»éº»çš„æŒ¯åŠ¨</span>ã€‚</div>
            <div class="k-point">ğŸ›‘ å¦‚æœç‰©ä½“åœæ­¢æŒ¯åŠ¨ï¼Œå£°éŸ³ä¹Ÿä¼š<span class="highlight">ç«‹å³åœæ­¢</span>ã€‚</div>

            <div class="experiment-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- é¼“é¢ -->
                    <ellipse cx="150" cy="60" rx="60" ry="20" fill="#FFCC80" stroke="#EF6C00" stroke-width="2"/>
                    <path d="M90,60 L90,90 Q150,110 210,90 L210,60" fill="#FFE0B2" stroke="#EF6C00" stroke-width="2"/>
                    
                    <!-- é¼“æ§Œ -->
                    <g>
                        <line x1="120" y1="10" x2="140" y2="50" stroke="#8D6E63" stroke-width="3">
                             <animateTransform attributeName="transform" type="rotate" values="0 140 50; -10 140 50; 0 140 50" dur="0.5s" repeatCount="indefinite"/>
                        </line>
                        <circle cx="140" cy="50" r="5" fill="#5D4037">
                            <animate attributeName="cy" values="50; 55; 50" dur="0.5s" repeatCount="indefinite"/>
                        </circle>
                    </g>

                    <!-- æŒ¯åŠ¨æ³¢çº¹ -->
                    <ellipse cx="150" cy="60" rx="50" ry="15" fill="none" stroke="#FF5722" stroke-width="2" opacity="0">
                        <animate attributeName="rx" values="50; 70" dur="0.5s" repeatCount="indefinite"/>
                        <animate attributeName="ry" values="15; 25" dur="0.5s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1; 0" dur="0.5s" repeatCount="indefinite"/>
                    </ellipse>
                    
                    <!-- æ‰‹è§¦æ‘¸ -->
                    <text x="230" y="50" font-size="30">ğŸ–ï¸</text>
                    <text x="230" y="80" font-size="10" fill="#555">æ‰‹æ„Ÿè§‰éº»</text>
                </svg>
            </div>
        </div>

        <!-- å®éªŒ3ï¼šç«–ç¬›ä¸å£°å¸¦ -->
        <div class="knowledge-box">
            <h3>ğŸ§ª å®éªŒ3ï¼šçœ‹ä¸è§çš„æŒ¯åŠ¨</h3>
            <div class="k-point">ğŸ’¨ <strong>å¹ç«–ç¬›</strong>ï¼šæ˜¯ç«–ç¬›é‡Œçš„<span class="highlight">ç©ºæ°”æŸ±</span>åœ¨æŒ¯åŠ¨ã€‚</div>
            <div class="k-point">ğŸ—£ï¸ <strong>è¯´è¯</strong>ï¼šä¾èµ–å–‰å’™é‡Œçš„<span class="highlight">å£°å¸¦</span>æŒ¯åŠ¨ã€‚å£°å¸¦è¶Šç´§ï¼Œå£°éŸ³è¶Šé«˜ã€‚</div>

            <div class="experiment-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- ç«–ç¬› -->
                    <rect x="20" y="30" width="100" height="20" fill="#B2DFDB" stroke="#00796B"/>
                    <circle cx="30" cy="40" r="3" fill="black"/>
                    <circle cx="50" cy="40" r="3" fill="black"/>
                    <circle cx="70" cy="40" r="3" fill="black"/>
                    
                    <!-- ç©ºæ°”ç²’å­æŒ¯åŠ¨ -->
                    <circle cx="110" cy="40" r="2" fill="#009688"><animate attributeName="cx" values="110;115;110" dur="0.1s" repeatCount="indefinite"/></circle>
                    <circle cx="100" cy="35" r="2" fill="#009688"><animate attributeName="cx" values="100;105;100" dur="0.1s" repeatCount="indefinite"/></circle>
                    <text x="70" y="80" font-size="10" fill="#555">ç«–ç¬›ï¼šç©ºæ°”æŒ¯åŠ¨</text>

                    <!-- å£°å¸¦ -->
                    <g transform="translate(180, 20)">
                         <path d="M10,10 Q30,30 10,50" fill="none" stroke="#F48FB1" stroke-width="5"/>
                         <path d="M50,10 Q30,30 50,50" fill="none" stroke="#F48FB1" stroke-width="5"/>
                         <!-- æŒ¯åŠ¨ -->
                         <path d="M20,20 L40,20" stroke="#E91E63" stroke-width="2">
                             <animate attributeName="d" values="M25,30 L35,30; M20,30 L40,30; M25,30 L35,30" dur="0.1s" repeatCount="indefinite"/>
                         </path>
                         <text x="60" y="35" font-size="12" fill="#333">å£°å¸¦å˜ç´§</text>
                         <text x="60" y="50" font-size="12" fill="#333">å¿«é€ŸæŒ¯åŠ¨</text>
                    </g>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">æŒ‘æˆ˜35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#888;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#E57373;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜æ’å…¥ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- é¢˜åº“ (35é¢˜ï¼šé€‰æ‹©ã€è¿çº¿ã€å¡«ç©ºã€å®éªŒ) ---
        const quizData = [
            // åŸºç¡€æ¦‚å¿µ (é€‰æ‹©)
            { type: 'mcq', q: 'å£°éŸ³æ˜¯ç”±ç‰©ä½“çš„____äº§ç”Ÿçš„ã€‚', opts: ['å¼¯æ›²', 'æŒ¯åŠ¨', 'æ–­è£‚'], a: 1, exp: 'å£°éŸ³æ˜¯ç”±ç‰©ä½“æŒ¯åŠ¨äº§ç”Ÿçš„ã€‚' },
            { type: 'mcq', q: 'å¦‚æœç‰©ä½“åœæ­¢æŒ¯åŠ¨ï¼Œå£°éŸ³ä¼šï¼Ÿ', opts: ['ç»§ç»­å‘å£°', 'ç«‹å³åœæ­¢', 'å˜å°'], a: 1, exp: 'æŒ¯åŠ¨åœæ­¢ï¼Œå‘å£°ä¹Ÿå°±åœæ­¢äº†ã€‚' },
            { type: 'mcq', q: 'ç”¨åŠ›æ‹‰ä¼¸çš®ç­‹ï¼ˆä¿æŒé™æ­¢ï¼‰ï¼Œçš®ç­‹ä¼šå‘å£°å—ï¼Ÿ', opts: ['ä¼š', 'ä¸ä¼š', 'å£°éŸ³å¾ˆå°'], a: 1, exp: 'çš®ç­‹æ²¡æœ‰æŒ¯åŠ¨ï¼Œæ‰€ä»¥ä¸ä¼šå‘å£°ã€‚' },
            { type: 'mcq', q: 'ç”¨åŠ›æ‰æ“çš®ç­‹ï¼Œçš®ç­‹ä¼šå‘å‡ºä¹éŸ³å—ï¼Ÿ', opts: ['ä¼š', 'ä¸ä¼š', 'çœ‹æƒ…å†µ'], a: 1, exp: 'æ‰æ“ä¸èƒ½è®©çš®ç­‹è¿›è¡Œè§„å¾‹çš„æŒ¯åŠ¨å‘å£°ã€‚' },
            { type: 'mcq', q: 'å¼¹æ‹¨çš®ç­‹æ—¶ï¼Œçš®ç­‹çš„è¿åŠ¨æ–¹å¼æ˜¯ï¼Ÿ', opts: ['å¾€è¿”è¿åŠ¨(æŒ¯åŠ¨)', 'åœ†å‘¨è¿åŠ¨', 'ç›´çº¿è¿åŠ¨'], a: 0, exp: 'æŒ¯åŠ¨æ˜¯ä¸€ç§å¾€è¿”è¿åŠ¨ã€‚' },
            
            // ä¹å™¨ä¸å‘å£° (è¿çº¿ - ç®€åŒ–ä¸ºé€‰æ‹©å½¢å¼ä»¥é€‚é…æ‰‹æœº)
            { type: 'matching', q: 'è¯·å°†ä¸‹åˆ—ä¹å™¨ä¸å…¶æŒ¯åŠ¨çš„éƒ¨ä½è¿çº¿ï¼š', 
              pairs: [ {l:'ç«–ç¬›', r:'ç©ºæ°”æŸ±'}, {l:'é¼“', r:'é¼“é¢'}, {l:'å‰ä»–', r:'ç´å¼¦'} ],
              exp: 'ç«–ç¬›å¹æ°”éœ‡åŠ¨ç©ºæ°”ï¼›é¼“æ•²å‡»éœ‡åŠ¨é¼“é¢ï¼›å‰ä»–å¼¹æ‹¨éœ‡åŠ¨ç´å¼¦ã€‚' 
            },

            // å®éªŒåˆ†æ (åˆ¤æ–­/é€‰æ‹©)
            { type: 'mcq', q: 'ç”¨æ‰‹è§¦æ‘¸æ­£åœ¨å‘å£°çš„éŸ³å‰ï¼Œæ„Ÿè§‰æ‰‹éº»éº»çš„ï¼Œè¿™è¯´æ˜ï¼Ÿ', opts: ['éŸ³å‰åœ¨æ¼ç”µ', 'éŸ³å‰åœ¨æŒ¯åŠ¨', 'éŸ³å‰å¾ˆçƒ­'], a: 1, exp: 'éº»éº»çš„æ„Ÿè§‰æ˜¯éŸ³å‰é«˜é¢‘æŒ¯åŠ¨å¼•èµ·çš„ã€‚' },
            { type: 'mcq', q: 'å‡»é¼“æ—¶ï¼Œé¼“é¢ä¸Šæ”¾å‡ ç²’è±†å­ï¼Œè±†å­ä¼šè·³èµ·æ¥ï¼Œè¯´æ˜ï¼Ÿ', opts: ['è±†å­æ€•å£°éŸ³', 'é¼“é¢åœ¨æŒ¯åŠ¨', 'é£å¹çš„'], a: 1, exp: 'é¼“é¢çš„æŒ¯åŠ¨æŠŠè±†å­å¼¹èµ·æ¥äº†ã€‚' },
            { type: 'mcq', q: 'å¹ç«–ç¬›æ—¶ï¼Œç”¨æ‰‹æŒ‡æŒ‰ä½ä¸åŒçš„å­”ï¼Œæ˜¯ä¸ºäº†æ”¹å˜ï¼Ÿ', opts: ['ç©ºæ°”æŸ±çš„é•¿çŸ­', 'ç«–ç¬›çš„é¢œè‰²', 'å¹æ°”çš„åŠ›åº¦'], a: 0, exp: 'æ”¹å˜ç©ºæ°”æŸ±é•¿çŸ­å¯ä»¥æ”¹å˜éŸ³é«˜ã€‚' },
            { type: 'fill', q: 'æˆ‘ä»¬è¯´è¯ä¸»è¦ä¾èµ–å–‰å’™é‡Œçš„____æŒ¯åŠ¨ã€‚', a: ['å£°å¸¦'], exp: 'å£°å¸¦æŒ¯åŠ¨äº§ç”Ÿäººå£°ã€‚' },
            
            // å£°å¸¦ä¸“é¢˜
            { type: 'mcq', q: 'å‘å£°æ—¶ï¼Œæˆ‘ä»¬çš„å£°å¸¦æ˜¯æ€æ ·çš„ï¼Ÿ', opts: ['æ”¾æ¾çš„', 'æ‹‰ç´§çš„', 'æ–­å¼€çš„'], a: 1, exp: 'å‘å£°æ—¶å£°å¸¦å˜ç´§å¹¶å¿«é€ŸæŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'å£°å¸¦è¶Šç´§ï¼Œå‘å‡ºçš„å£°éŸ³è¶Š____ï¼Ÿ', opts: ['é«˜', 'ä½', 'å¼º'], a: 0, exp: 'å£°å¸¦è¶Šç´§ï¼ŒæŒ¯åŠ¨è¶Šå¿«ï¼Œå£°éŸ³è¶Šé«˜ã€‚' },
            { type: 'mcq', q: 'æŠŠæ‰‹æ”¾åœ¨å–‰ç»“å¤„è¯´è¯ï¼Œæ‰‹ä¼šæ„Ÿè§‰åˆ°æŒ¯åŠ¨å—ï¼Ÿ', opts: ['ä¼š', 'ä¸ä¼š'], a: 0, exp: 'å¯ä»¥æ„Ÿè§‰åˆ°å£°å¸¦çš„æŒ¯åŠ¨ã€‚' },

            // ç»¼åˆæŒ‘æˆ˜
            { type: 'mcq', q: 'æ°´é¾™å¤´çš„æ»´æ°´å£°æ˜¯____æŒ¯åŠ¨äº§ç”Ÿçš„ã€‚', opts: ['æ°´', 'æ°´ç®¡', 'ç©ºæ°”'], a: 0, exp: 'æ°´æ»´æ’å‡»å¼•èµ·æ°´çš„æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'èšŠå­å‘å‡ºçš„â€œå—¡å—¡â€å£°æ˜¯____æŒ¯åŠ¨äº§ç”Ÿçš„ã€‚', opts: ['å˜´å·´', 'ç¿…è†€', 'è…¿'], a: 1, exp: 'èšŠå­ç¿…è†€å¿«é€ŸæŒ¯åŠ¨äº§ç”Ÿå£°éŸ³ã€‚' },
            { type: 'mcq', q: 'åœ¨çœŸç©ºä¸­ï¼ˆæ²¡æœ‰ç©ºæ°”ï¼‰ï¼Œç‰©ä½“æŒ¯åŠ¨èƒ½å¬åˆ°å£°éŸ³å—ï¼Ÿ', opts: ['èƒ½', 'ä¸èƒ½'], a: 1, exp: 'è™½ç„¶æœ‰æŒ¯åŠ¨ï¼Œä½†æ²¡æœ‰ç‰©è´¨ä¼ æ’­ï¼Œæ‰€ä»¥å¬ä¸åˆ°ï¼ˆè¿™æ˜¯ç¬¬ä¸€è¯¾çŸ¥è¯†ç‚¹çš„å»¶ä¼¸ï¼‰ã€‚' },
            { type: 'fill', q: 'ä¸€ä¸ªç‰©ä½“åœ¨åŠ›çš„ä½œç”¨ä¸‹ï¼Œä¸æ–­é‡å¤åœ°åš____è¿åŠ¨ï¼Œç§°ä¸ºæŒ¯åŠ¨ã€‚', a: ['å¾€è¿”'], exp: 'æŒ¯åŠ¨çš„å®šä¹‰ï¼šå¾€è¿”è¿åŠ¨ã€‚' },
            { type: 'mcq', q: 'ç”¨åŠ›æ•²é”£ï¼Œåœæ­¢æ•²å‡»åé”£å£°è¿˜åœ¨æŒç»­ï¼Œæ˜¯å› ä¸ºï¼Ÿ', opts: ['é”£é¢è¿˜åœ¨æŒ¯åŠ¨', 'å£°éŸ³æœ‰å›å£°', 'å¹»è§‰'], a: 0, exp: 'æ•²å‡»åœæ­¢ä½†æŒ¯åŠ¨ä¸ä¼šç«‹åˆ»æ¶ˆå¤±ï¼ˆä½™éŸ³ç»•æ¢ï¼‰ã€‚' },
            { type: 'mcq', q: 'æ€æ ·è®©æ­£åœ¨å‘å£°çš„é”£ç«‹åˆ»åœæ­¢å£°éŸ³ï¼Ÿ', opts: ['ä¸å†æ•²', 'ç”¨æ‰‹æŒ‰ä½é”£é¢', 'å¤§å£°å–Šåœ'], a: 1, exp: 'æŒ‰ä½é”£é¢å¼ºåˆ¶åœæ­¢æŒ¯åŠ¨ã€‚' },

            // æ›´å¤šåŸºç¡€å·©å›º (å‡‘é½35é¢˜)
            { type: 'mcq', q: 'çš®ç­‹ç»·å¾—è¶Šç´§ï¼Œå¼¹æ‹¨æ—¶å£°éŸ³ï¼Ÿ', opts: ['è¶Šé«˜', 'è¶Šä½', 'è¶Šå¼±'], a: 0, exp: 'è¶Šç´§æŒ¯åŠ¨è¶Šå¿«ï¼Œå£°éŸ³è¶Šé«˜ã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬èƒ½å¬åˆ°é£å£°ï¼Œæ˜¯å› ä¸º____åœ¨æŒ¯åŠ¨ã€‚', opts: ['æ ‘å¶', 'ç©ºæ°”', 'è€³æœµ'], a: 1, exp: 'é£æ˜¯ç©ºæ°”çš„æµåŠ¨å’ŒæŒ¯åŠ¨ã€‚' },
            { type: 'matching', q: 'å°†åŠ¨ä½œä¸ç»“æœè¿çº¿ï¼š', 
              pairs: [{l:'æŒ‰å‹çš®ç­‹', r:'ä¸å‘å£°'}, {l:'å¼¹æ‹¨çš®ç­‹', r:'å‘å£°'}, {l:'æ‹‰ä¼¸çš®ç­‹', r:'ä¸å‘å£°'}], 
              exp: 'åªæœ‰å¼¹æ‹¨èƒ½å¼•èµ·æŒç»­æŒ¯åŠ¨ã€‚' 
            },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªä¸ªåŠ¨ä½œèƒ½è®©çš®ç­‹å‘å‡ºå£°éŸ³ï¼Ÿ', opts: ['æ¨ªå‘æ‹‰åŠ¨', 'ç”¨åŠ›æ‹‰é•¿', 'è½»è½»æ‰æ“'], a: 0, exp: 'æ¨ªå‘æ‹‰åŠ¨ï¼ˆå¼¹æ‹¨ï¼‰å¼•èµ·æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'å£°å¸¦å°±åƒä¸€æ ¹____ï¼Œå˜ç´§æ—¶èƒ½å‘å£°ã€‚', opts: ['æœ¨æ£', 'çš®ç­‹', 'é“ä¸'], a: 1, exp: 'å£°å¸¦çš„æ€§è´¨åƒçš®ç­‹ã€‚' },
            { type: 'fill', q: 'å£°éŸ³æ˜¯ç”±ç‰©ä½“____äº§ç”Ÿçš„ã€‚', a: ['æŒ¯åŠ¨'], exp: 'æ ¸å¿ƒæ¦‚å¿µï¼šæŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'ä¸ç®¡æ˜¯ä»€ä¹ˆç‰©ä½“ï¼Œåªè¦å‘å‡ºå£°éŸ³ï¼Œå°±ä¸€å®šåœ¨ï¼Ÿ', opts: ['è¿åŠ¨', 'æŒ¯åŠ¨', 'å‘çƒ­'], a: 1, exp: 'å‘å£°å¿…æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å…³äºå£°éŸ³çš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼Ÿ', opts: ['å£°éŸ³æ˜¯æŒ¯åŠ¨äº§ç”Ÿçš„', 'ç‰©ä½“ä¸æŒ¯åŠ¨ä¹Ÿèƒ½å‘å£°', 'æŒ¯åŠ¨åœæ­¢å£°éŸ³åœæ­¢'], a: 1, exp: 'ç‰©ä½“ä¸æŒ¯åŠ¨æ˜¯ä¸å¯èƒ½å‘å£°çš„ã€‚' },
            { type: 'mcq', q: 'å¹æ°”çƒæ—¶å‘å‡ºçš„å£°éŸ³æ˜¯____æŒ¯åŠ¨äº§ç”Ÿçš„ã€‚', opts: ['æ°”çƒçš®', 'ç©ºæ°”', 'å˜´å·´'], a: 0, exp: 'æ°”æµå†²å‡ºä½¿æ°”çƒçš®æŒ¯åŠ¨ï¼ˆä¹ŸåŒ…å«ç©ºæ°”æŒ¯åŠ¨ï¼‰ã€‚' },
            { type: 'mcq', q: 'æ•²å‡»è£…æ°´çš„ç»ç’ƒæ¯ï¼Œä¸»è¦æŒ¯åŠ¨çš„æ˜¯ï¼Ÿ', opts: ['æ¯å­å’Œæ°´', 'ç©ºæ°”', 'æ¡Œå­'], a: 0, exp: 'æ¯å­å’Œæ°´å…±åŒæŒ¯åŠ¨ã€‚' },
            { type: 'fill', q: 'å¹å£å“¨æ˜¯____åœ¨æŒ¯åŠ¨ã€‚', a: ['ç©ºæ°”', 'æ°”æµ'], exp: 'å£å“¨æ˜¯æ°”æµæŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'ç”¨æ‰‹æ‹æ¡Œå­å¬åˆ°å£°éŸ³ï¼Œæ˜¯å› ä¸ºï¼Ÿ', opts: ['æ‰‹æŒ¯åŠ¨', 'æ¡Œå­æŒ¯åŠ¨', 'æ‰‹å’Œæ¡Œå­éƒ½æŒ¯åŠ¨'], a: 2, exp: 'ç›¸äº’ä½œç”¨ï¼Œéƒ½æœ‰æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'ä¸ºä»€ä¹ˆæ‹‰ä¼¸çš„çš®ç­‹ä¸å‘å£°ï¼Ÿ', opts: ['å› ä¸ºæ‹‰å¾—ä¸å¤Ÿé•¿', 'å› ä¸ºæ²¡æœ‰æŒ¯åŠ¨', 'å› ä¸ºçš®ç­‹å¤ªç»†'], a: 1, exp: 'æ²¡æœ‰åšå¾€è¿”è¿åŠ¨ï¼ˆæŒ¯åŠ¨ï¼‰ã€‚' },
            { type: 'mcq', q: 'è¦æƒ³è®©æ©¡çš®ç­‹å‘å‡ºçš„å£°éŸ³æ›´é«˜ï¼Œåº”è¯¥ï¼Ÿ', opts: ['æ‹‰å¾—æ¾ä¸€ç‚¹', 'æ‹‰å¾—ç´§ä¸€ç‚¹', 'ç”¨åŠ›å¼¹'], a: 1, exp: 'æ‹‰ç´§é¢‘ç‡é«˜ï¼ŒéŸ³é«˜é«˜ã€‚' },
            { type: 'mcq', q: 'äººçš„å£°å¸¦ä½äºï¼Ÿ', opts: ['å£è…”', 'å–‰å’™', 'è‚ºéƒ¨'], a: 1, exp: 'å£°å¸¦åœ¨å–‰å’™é‡Œã€‚' }
        ];

        // çŠ¶æ€å˜é‡
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let matchState = { left: null, right: null, matchedCount: 0 };
        
        // éŸ³é¢‘ä¸Šä¸‹æ–‡
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(500, now); osc.frequency.exponentialRampToValueAtTime(1000, now + 0.1);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'wrong') {
                osc.type = 'square'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.05, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(400, now); gain.gain.setValueAtTime(0.02, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            currentQIndex = 0; userScoreRaw = 0; userMistakes = [];
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            // æ›´æ–°è¿›åº¦
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'è¿çº¿é¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            // æ¸²æŸ“é¢˜ç›®
            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'matching') {
                renderMatching(card, qData);
            }

            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderMatching(card, qData) {
            const container = document.createElement('div');
            container.className = 'match-container';
            const leftCol = document.createElement('div'); leftCol.className = 'match-col';
            const rightCol = document.createElement('div'); rightCol.className = 'match-col';
            
            // æ‰“ä¹±å³ä¾§
            let rItems = [...qData.pairs].sort(()=>Math.random()-0.5);
            matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };

            qData.pairs.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.l; btn.dataset.val = p.l; btn.dataset.side = 'left';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                leftCol.appendChild(btn);
            });
            rItems.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.r; btn.dataset.val = p.r; btn.dataset.side = 'right';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                rightCol.appendChild(btn);
            });

            container.appendChild(leftCol); container.appendChild(rightCol);
            card.appendChild(container);
        }

        function handleMatchClick(el, totalPairs) {
            playSound('click');
            const side = el.dataset.side;
            // æ¸…é™¤åŒä¾§é«˜äº®
            el.parentElement.querySelectorAll('.match-btn').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            
            if (side === 'left') matchState.left = el;
            else matchState.right = el;

            if (matchState.left && matchState.right) {
                // è®°å½•é…å¯¹
                matchState.userPairs.push({l: matchState.left.dataset.val, r: matchState.right.dataset.val});
                
                // è§†è§‰é”å®š
                matchState.left.classList.remove('selected'); matchState.left.classList.add('matched');
                matchState.right.classList.remove('selected'); matchState.right.classList.add('matched');
                
                matchState.left = null; matchState.right = null;
                matchState.matchedCount++;

                if (matchState.matchedCount === totalPairs) {
                    document.getElementById('nextBtn').disabled = false;
                    document.getElementById('nextBtn').style.opacity = 1;
                }
            }
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
            } else if (qData.type === 'matching') {
                // æ£€æŸ¥é…å¯¹æ˜¯å¦å…¨éƒ¨æ­£ç¡®
                let correctCount = 0;
                matchState.userPairs.forEach(up => {
                    if (qData.pairs.some(p => p.l === up.l && p.r === up.r)) correctCount++;
                });
                if (correctCount === qData.pairs.length) isCorrect = true;
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                let myAns = 'å›ç­”é”™è¯¯';
                if(qData.type === 'mcq') myAns = qData.opts[selectedOption];
                if(qData.type === 'fill') myAns = selectedOption;
                
                userMistakes.push({
                    q: qData.q,
                    my: myAns,
                    exp: qData.exp
                });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            // 35é¢˜ï¼Œæ¯é¢˜çº¦2.85åˆ†ï¼Œå››èˆäº”å…¥
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯å£°éŸ³å¤§å¸ˆï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼æŒæ¡å¾—å¾ˆæ£’ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å¼„æ‡‚é”™é¢˜å†æ¥ä¸€æ¬¡ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html></textarea>
<textarea id="u1-3" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬ä¸‰è¯¾ï¼šå£°éŸ³æ˜¯æ€æ ·ä¼ æ’­çš„ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #E3F2FD; /* æµ…è“èƒŒæ™¯ï¼Œä»£è¡¨ç©ºæ°”/ä¼ æ’­ */
            --card-bg: #FFFFFF;
            --primary: #2196F3; /* ç§‘æŠ€è“ */
            --secondary: #FF9800; /* è­¦ç¤ºæ©™ */
            --text: #37474F;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#BBDEFB 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            padding: 20px;
            text-align: center;
            border: 4px solid #90CAF9;
            overflow: hidden;
        }

        h1 { color: #1565C0; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #FF9800; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: slideUp 0.4s ease-out; }
        .active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #F1F8E9; /* ææ·¡ç»¿ */
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #8BC34A;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #558B2F; border-bottom: 1px dashed #C5E1A5; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #E65100; font-weight: bold; background: #FFE0B2; padding: 0 4px; border-radius: 3px; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #2196F3;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
        }
        .svg-caption { font-size: 0.9em; color: #78909C; margin-top: 5px; font-style: italic; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #0D47A1;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #0D47A1; }
        .btn-next { background: #FF9800; box-shadow: 0 4px 0 #E65100; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #2196F3; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #E3F2FD; color: #1565C0; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #B0BEC5; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #BBDEFB; border-color: #2196F3; font-weight: bold; color: #0D47A1; }

        .fill-input { border: none; border-bottom: 3px solid #2196F3; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #E65100; border-radius: 0; }

        /* è¿çº¿é¢˜ */
        .match-row { display: flex; justify-content: space-between; gap: 15px; margin-bottom: 10px; }
        .match-col { width: 45%; display: flex; flex-direction: column; gap: 10px; }
        .match-btn {
            padding: 12px; background: #FFF; border: 2px solid #90A4AE; border-radius: 8px;
            text-align: center; cursor: pointer; font-size: 0.9em;
        }
        .match-btn.selected { background: #FFF9C4; border-color: #FBC02D; transform: scale(1.05); }
        .match-btn.matched { background: #C8E6C9; border-color: #43A047; opacity: 0.6; pointer-events: none; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF5722; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ“¡ çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬ä¸‰è¯¾ï¼šå£°éŸ³æ˜¯æ€æ ·ä¼ æ’­çš„</p>

        <!-- çŸ¥è¯†ç‚¹1 & 5: æ–¹å‘ä¸æ³¢ -->
        <div class="knowledge-box">
            <h3>1. ä¼ æ’­æ–¹å‘ä¸å½¢å¼</h3>
            <div class="k-point">ğŸ”Š <strong>å››é¢å…«æ–¹</strong>ï¼šæ•™å®¤é‡Œä»»ä½•ä½ç½®éƒ½èƒ½å¬åˆ°é¼“å£°ã€‚</div>
            <div class="k-point">ğŸŒŠ <strong>æ³¢çš„å½¢å¼</strong>ï¼šå£°éŸ³åƒæ°´æ³¢ä¸€æ ·ï¼Œé€šè¿‡å‘¨å›´ç‰©è´¨ï¼ˆæ°”ä½“ã€æ¶²ä½“ã€å›ºä½“ï¼‰æŒ¯åŠ¨ä¼ æ’­ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- é¼“ -->
                    <rect x="130" y="40" width="40" height="40" rx="5" fill="#FFAB91" stroke="#D84315" stroke-width="2"/>
                    <text x="150" y="65" text-anchor="middle" font-size="10">é¼“</text>
                    <!-- æ³¢çº¹åŠ¨ç”» -->
                    <circle cx="150" cy="60" r="25" fill="none" stroke="#2196F3" stroke-width="2" opacity="0">
                        <animate attributeName="r" values="25; 80" dur="1.5s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1; 0" dur="1.5s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="150" cy="60" r="25" fill="none" stroke="#2196F3" stroke-width="2" opacity="0">
                        <animate attributeName="r" values="25; 80" dur="1.5s" begin="0.5s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1; 0" dur="1.5s" begin="0.5s" repeatCount="indefinite"/>
                    </circle>
                    <!-- å¬ä¼— -->
                    <text x="20" y="30" font-size="20">ğŸ‘‚</text>
                    <text x="260" y="30" font-size="20">ğŸ‘‚</text>
                    <text x="20" y="100" font-size="20">ğŸ‘‚</text>
                    <text x="260" y="100" font-size="20">ğŸ‘‚</text>
                </svg>
                <div class="svg-caption">å£°éŸ³å‘å››é¢å…«æ–¹ä¼ æ’­</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹2 & 6: çœŸç©ºå®éªŒ -->
        <div class="knowledge-box">
            <h3>2. è°èƒ½ä¼ æ’­å£°éŸ³ï¼Ÿ</h3>
            <div class="k-point">âœ… <strong>èƒ½ä¼ æ’­</strong>ï¼šæ°”ä½“ã€æ¶²ä½“ã€å›ºä½“ã€‚</div>
            <div class="k-point">âŒ <strong>ä¸èƒ½ä¼ æ’­</strong>ï¼š<span class="highlight">çœŸç©º</span>ï¼ˆå¦‚ç»ç’ƒç½©æŠ½æ°”å®éªŒï¼‰ã€‚</div>

            <div class="svg-stage">
                <svg width="100%" height="140" viewBox="0 0 300 140">
                    <!-- ç»ç’ƒç½© -->
                    <path d="M100,120 L100,40 Q150,0 200,40 L200,120 Z" fill="#E3F2FD" stroke="#90A4AE" stroke-width="3" opacity="0.7"/>
                    <rect x="90" y="120" width="120" height="10" fill="#546E7A"/>
                    
                    <!-- é—¹é’Ÿ -->
                    <circle cx="150" cy="80" r="15" fill="#FF7043"/>
                    <line x1="150" y1="80" x2="150" y2="65" stroke="white" stroke-width="2"><animateTransform attributeName="transform" type="rotate" from="0 150 80" to="360 150 80" dur="1s" repeatCount="indefinite"/></line>
                    
                    <!-- ç©ºæ°”ç²’å­ (åŠ¨ç”»æ¶ˆå¤±) -->
                    <g id="air-particles">
                        <circle cx="120" cy="60" r="2" fill="#555"><animate attributeName="opacity" values="1;0" dur="3s" fill="freeze"/></circle>
                        <circle cx="180" cy="100" r="2" fill="#555"><animate attributeName="opacity" values="1;0" dur="3s" fill="freeze"/></circle>
                        <circle cx="140" cy="100" r="2" fill="#555"><animate attributeName="opacity" values="1;0" dur="3s" fill="freeze"/></circle>
                        <circle cx="160" cy="50" r="2" fill="#555"><animate attributeName="opacity" values="1;0" dur="3s" fill="freeze"/></circle>
                    </g>

                    <!-- å£°éŸ³æ³¢çº¹ (éšç©ºæ°”æ¶ˆå¤±è€Œæ¶ˆå¤±) -->
                    <path d="M170,80 Q180,80 180,90" fill="none" stroke="red" stroke-width="2">
                        <animate attributeName="stroke-opacity" values="1;0" dur="3s" fill="freeze"/>
                    </path>
                    
                    <text x="220" y="70" font-size="12" fill="#D84315">ç©ºæ°”å‡å°‘...</text>
                    <text x="220" y="90" font-size="12" fill="#D84315">å£°éŸ³å˜å°!</text>
                </svg>
                <div class="svg-caption">çœŸç©ºä¸èƒ½ä¼ å£°å®éªŒ</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹3 & 8: å›ºä½“ä¼ å£° -->
        <div class="knowledge-box">
            <h3>3. å›ºä½“çš„æœ¬é¢†</h3>
            <div class="k-point">ğŸ“ <strong>åœŸç”µè¯</strong>ï¼šæ£‰çº¿ï¼ˆå›ºä½“ï¼‰èƒ½ä¼ å£°ï¼Œä¸”å¿…é¡»<span class="highlight">æ‹‰ç›´ç»·ç´§</span>ã€‚</div>
            <div class="k-point">ğŸ‘‚ <strong>æŒ æ¡Œå­</strong>ï¼šè€³æœµè´´åœ¨æ¡Œé¢ä¸Šå¬å¾—æ›´æ¸…æ™°ï¼Œè¯´æ˜æ¡Œé¢ï¼ˆå›ºä½“ï¼‰ä¼ å£°æ•ˆæœå¥½ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- çº¸æ¯ -->
                    <path d="M50,30 L30,80 L70,80 L50,30" fill="#FFF59D" stroke="#FBC02D"/>
                    <path d="M250,30 L230,80 L270,80 L250,30" fill="#FFF59D" stroke="#FBC02D"/>
                    
                    <!-- æ£‰çº¿ (æŒ¯åŠ¨åŠ¨ç”») -->
                    <path d="M50,55 L250,55" stroke="#8D6E63" stroke-width="2" fill="none">
                        <animate attributeName="d" values="M50,55 Q150,55 250,55; M50,55 Q150,50 250,55; M50,55 Q150,60 250,55; M50,55 Q150,55 250,55" dur="0.1s" repeatCount="indefinite"/>
                    </path>
                    
                    <text x="150" y="40" text-anchor="middle" font-size="10" fill="#5D4037">ç»·ç´§çš„çº¿ = å›ºä½“ä¼ å£°</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹7: ä¼ æ’­é€Ÿåº¦ -->
        <div class="knowledge-box">
            <h3>4. è°è·‘å¾—å¿«ï¼Ÿ(ä¼ æ’­é€Ÿåº¦)</h3>
            <div class="k-point">ğŸš€ <strong>é€Ÿåº¦æ’å</strong>ï¼š<span class="highlight">å›ºä½“ > æ¶²ä½“ > æ°”ä½“</span></div>
            <div class="k-point">é€šå¸¸å›ºä½“ä¸­ä¼ æ’­æœ€å¿«ï¼Œæ°”ä½“ä¸­æœ€æ…¢ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- å›ºä½“è·‘é“ -->
                    <text x="10" y="30" font-size="12">ğŸ§± å›ºä½“</text>
                    <rect x="60" y="20" width="200" height="15" fill="#E0E0E0"/>
                    <circle cx="70" cy="27" r="5" fill="#FF5722">
                        <animate attributeName="cx" from="70" to="250" dur="1s" repeatCount="indefinite"/>
                    </circle>

                    <!-- æ¶²ä½“è·‘é“ -->
                    <text x="10" y="65" font-size="12">ğŸ’§ æ¶²ä½“</text>
                    <rect x="60" y="55" width="200" height="15" fill="#E1F5FE"/>
                    <circle cx="70" cy="62" r="5" fill="#2196F3">
                        <animate attributeName="cx" from="70" to="250" dur="2s" repeatCount="indefinite"/>
                    </circle>

                    <!-- æ°”ä½“è·‘é“ -->
                    <text x="10" y="100" font-size="12">ğŸ’¨ æ°”ä½“</text>
                    <rect x="60" y="90" width="200" height="15" fill="#F1F8E9"/>
                    <circle cx="70" cy="97" r="5" fill="#4CAF50">
                        <animate attributeName="cx" from="70" to="250" dur="4s" repeatCount="indefinite"/>
                    </circle>
                </svg>
                <div class="svg-caption">å›ºä½“ä¼ å£°æœ€å¿«ï¼Œæ°”ä½“æœ€æ…¢</div>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#90A4AE;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. æ–¹å‘ä¸å½¢å¼ (5é¢˜)
            { type: 'mcq', q: 'åœ¨æ•™å®¤ä»»ä½•è§’è½éƒ½èƒ½å¬åˆ°è€å¸ˆè®²è¯¾ï¼Œè¯´æ˜å£°éŸ³æ˜¯å‘____ä¼ æ’­çš„ã€‚', opts: ['å‰å', 'å·¦å³', 'å››é¢å…«æ–¹'], a: 2, exp: 'å£°éŸ³å‘å››é¢å…«æ–¹ä¼ æ’­ã€‚' },
            { type: 'mcq', q: 'å£°éŸ³æ˜¯ä»¥____çš„å½¢å¼ä¼ æ’­çš„ã€‚', opts: ['æ³¢', 'ç›´çº¿', 'æ°”æµ'], a: 0, exp: 'å£°éŸ³ä»¥å£°æ³¢çš„å½¢å¼ä¼ æ’­ã€‚' },
            { type: 'mcq', q: 'å°†å‡»æ‰“åçš„éŸ³å‰è½»è½»æ¥è§¦æ°´é¢ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Ÿ', opts: ['æ°´é¢å¹³é™', 'äº§ç”Ÿæ³¢çº¹', 'æ°´ç»“å†°'], a: 1, exp: 'éŸ³å‰æŒ¯åŠ¨å¼•èµ·æ°´é¢äº§ç”Ÿæ³¢çº¹ã€‚' },
            { type: 'fill', q: 'ç‰©ä½“æŒ¯åŠ¨æ—¶ä¼šå¼•èµ·å‘¨å›´ç‰©è´¨çš„æŒ¯åŠ¨ï¼ŒæŠŠå£°éŸ³ä»ä¸€ä¸ªåœ°æ–¹____åˆ°å¦ä¸€ä¸ªåœ°æ–¹ã€‚', a: ['ä¼ æ’­'], exp: 'å£°éŸ³çš„ä¼ æ’­è¿‡ç¨‹ã€‚' },
            { type: 'mcq', q: 'æ°´é¢ä¸Šè¡èµ·çš„æ³¢çº¹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£ï¼Ÿ', opts: ['å£°æ³¢', 'å…‰æ³¢', 'ç”µæ³¢'], a: 0, exp: 'ç”¨æ°´æ³¢ç±»æ¯”å£°æ³¢ã€‚' },

            // 2. çœŸç©ºå®éªŒ (5é¢˜)
            { type: 'mcq', q: 'ç»ç’ƒç½©å†…çš„ç©ºæ°”é€æ¸è¢«æŠ½å‡ºï¼Œé—¹é’Ÿçš„å£°éŸ³ä¼šï¼Ÿ', opts: ['å˜å¤§', 'å˜å°', 'ä¸å˜'], a: 1, exp: 'ä»‹è´¨å‡å°‘ï¼Œå£°éŸ³å˜å¼±ã€‚' },
            { type: 'mcq', q: 'å¦‚æœç»ç’ƒç½©å†…å®Œå…¨æ²¡æœ‰ç©ºæ°”ï¼ˆçœŸç©ºï¼‰ï¼Œæˆ‘ä»¬____å¬åˆ°é—¹é’Ÿå£°ã€‚', opts: ['èƒ½', 'ä¸èƒ½'], a: 1, exp: 'çœŸç©ºä¸èƒ½ä¼ å£°ã€‚' },
            { type: 'mcq', q: 'å®‡èˆªå‘˜åœ¨æœˆçƒä¸Šå³ä½¿é¢å¯¹é¢ä¹Ÿå¬ä¸åˆ°å£°éŸ³ï¼Œæ˜¯å› ä¸ºï¼Ÿ', opts: ['æœˆçƒæ²¡æœ‰ç©ºæ°”', 'è€³æœµåäº†', 'ä¸æƒ³å¬'], a: 0, exp: 'æœˆçƒæ˜¯çœŸç©ºç¯å¢ƒï¼Œæ²¡æœ‰ä¼ å£°ä»‹è´¨ã€‚' },
            { type: 'mcq', q: 'ç»ç’ƒç½©å®éªŒè¯´æ˜äº†å£°éŸ³çš„ä¼ æ’­éœ€è¦ï¼Ÿ', opts: ['ç‰©è´¨(ä»‹è´¨)', 'å…‰çº¿', 'æ¸©åº¦'], a: 0, exp: 'å£°éŸ³ä¼ æ’­éœ€è¦æ°”ä½“ã€æ¶²ä½“æˆ–å›ºä½“ç­‰ç‰©è´¨ã€‚' },
            { type: 'fill', q: 'å£°éŸ³å¯ä»¥åœ¨æ°”ä½“ã€æ¶²ä½“ã€å›ºä½“ä¸­ä¼ æ’­ï¼Œ____ä¸èƒ½ä¼ æ’­å£°éŸ³ã€‚', a: ['çœŸç©º'], exp: 'çœŸç©ºæ— ä»‹è´¨ã€‚' },

            // 3. å›ºä½“ä¼ å£°ä¸åœŸç”µè¯ (6é¢˜)
            { type: 'mcq', q: 'åšâ€œåœŸç”µè¯â€æ—¶ï¼Œè¿æ¥çº¸æ¯çš„æ£‰çº¿å¿…é¡»ï¼Ÿ', opts: ['æ”¾æ¾', 'æ‰“ç»“', 'æ‹‰ç›´ç»·ç´§'], a: 2, exp: 'ç»·ç´§çš„çº¿æ‰èƒ½æœ‰æ•ˆä¼ é€’æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'â€œåœŸç”µè¯â€ä¸»è¦åˆ©ç”¨äº†____ä¼ æ’­å£°éŸ³çš„åŸç†ã€‚', opts: ['ç©ºæ°”', 'æ£‰çº¿(å›ºä½“)', 'çº¸æ¯'], a: 1, exp: 'æ ¸å¿ƒæ˜¯æ£‰çº¿è¿™ä¸ªå›ºä½“åœ¨ä¼ å£°ã€‚' },
            { type: 'mcq', q: 'æŠŠè€³æœµè´´åœ¨æ¡Œé¢ä¸Šå¬æŠ“æŒ å£°ï¼Œæ¯”åœ¨ç©ºæ°”ä¸­å¬å¾—æ›´æ¸…æ¥šï¼Œè¯´æ˜ï¼Ÿ', opts: ['æ¡Œé¢ä¼ å£°æ•ˆæœå¥½', 'ç©ºæ°”ä¼ å£°æ•ˆæœå¥½', 'è€³æœµå˜çµæ•'], a: 0, exp: 'å›ºä½“ä¼ å£°æ•ˆæœé€šå¸¸æ¯”æ°”ä½“å¥½ã€‚' },
            { type: 'mcq', q: 'å¤ä»£å£«å…µæ•ç€ç®­ç­’ç¡åœ¨åœ°ä¸Šèƒ½å¬åˆ°è¿œå¤„çš„é©¬è¹„å£°ï¼Œæ˜¯åˆ©ç”¨äº†____ä¼ å£°ã€‚', opts: ['å¤§åœ°(å›ºä½“)', 'ç©ºæ°”', 'è‰'], a: 0, exp: 'å¤§åœ°æ˜¯å›ºä½“ï¼Œä¼ å£°å¿«ä¸”è¿œã€‚' },
            { type: 'mcq', q: 'å¦‚æœä½ æä½â€œåœŸç”µè¯â€çš„æ£‰çº¿ï¼Œå£°éŸ³ä¼šï¼Ÿ', opts: ['å˜å¤§', 'åœæ­¢/å˜å°', 'ä¸å˜'], a: 1, exp: 'æä½æ£‰çº¿é˜»ç¢äº†æŒ¯åŠ¨ä¼ æ’­ã€‚' },
            { type: 'matching', q: 'è¯·è¿æ¥ç°è±¡ä¸åŸç†ï¼š', pairs: [{l:'åœŸç”µè¯', r:'å›ºä½“ä¼ å£°'}, {l:'çœŸç©ºé“ƒ', r:'çœŸç©ºä¸ä¼ å£°'}, {l:'æ°´æ³¢çº¹', r:'å£°æ³¢'}], exp: 'å¯¹åº”ä¸‰ä¸ªæ ¸å¿ƒå®éªŒã€‚' },

            // 4. ä¼ æ’­é€Ÿåº¦ (5é¢˜)
            { type: 'mcq', q: 'å£°éŸ³åœ¨ä¸‹åˆ—å“ªç§ç‰©è´¨ä¸­ä¼ æ’­é€Ÿåº¦æœ€å¿«ï¼Ÿ', opts: ['ç©ºæ°”', 'æ°´', 'é’¢é“'], a: 2, exp: 'å›ºä½“(é’¢é“) > æ¶²ä½“(æ°´) > æ°”ä½“(ç©ºæ°”)ã€‚' },
            { type: 'mcq', q: 'å£°éŸ³åœ¨ä¸‹åˆ—å“ªç§ç‰©è´¨ä¸­ä¼ æ’­é€Ÿåº¦æœ€æ…¢ï¼Ÿ', opts: ['ç©ºæ°”', 'æ°´', 'æœ¨å¤´'], a: 0, exp: 'æ°”ä½“ä¼ æ’­æœ€æ…¢ã€‚' },
            { type: 'fill', q: 'å£°éŸ³åœ¨å›ºä½“ã€æ¶²ä½“ã€æ°”ä½“ä¸­çš„ä¼ æ’­é€Ÿåº¦____ï¼ˆå¡«â€œç›¸åŒâ€æˆ–â€œä¸åŒâ€ï¼‰ã€‚', a: ['ä¸åŒ'], exp: 'ä»‹è´¨å¯†åº¦ä¸åŒï¼Œé€Ÿåº¦ä¸åŒã€‚' },
            { type: 'mcq', q: 'é€šå¸¸æƒ…å†µä¸‹ï¼Œå£°éŸ³ä¼ æ’­é€Ÿåº¦çš„æ’åºæ˜¯ï¼Ÿ', opts: ['å›ºä½“>æ¶²ä½“>æ°”ä½“', 'æ°”ä½“>æ¶²ä½“>å›ºä½“', 'æ¶²ä½“>å›ºä½“>æ°”ä½“'], a: 0, exp: 'å›º>æ¶²>æ°”ã€‚' },
            { type: 'mcq', q: 'ç«è½¦å¿«æ¥æ—¶ï¼Œè¶´åœ¨é“è½¨ä¸Šèƒ½æ›´æ—©å¬åˆ°å£°éŸ³ï¼Œæ˜¯å› ä¸ºï¼Ÿ', opts: ['é“è½¨ä¼ å£°æ¯”ç©ºæ°”å¿«', 'é“è½¨ä¼ å£°æ¯”ç©ºæ°”æ…¢', 'å¥½ç©'], a: 0, exp: 'å›ºä½“(é“è½¨)ä¼ å£°é€Ÿåº¦å¿«ã€‚' },

            // 5. æ¶²ä½“ä¼ å£° (4é¢˜)
            { type: 'mcq', q: 'é’“é±¼æ—¶ï¼Œå²¸è¾¹å¤§å£°è¯´è¯ä¼šå“è·‘é±¼ï¼Œè¯´æ˜____èƒ½ä¼ å£°ã€‚', opts: ['é±¼ç«¿', 'æ°´(æ¶²ä½“)', 'ç©ºæ°”'], a: 1, exp: 'å£°éŸ³é€šè¿‡ç©ºæ°”ä¼ åˆ°æ°´ï¼Œæ°´ä¼ ç»™é±¼ã€‚' },
            { type: 'mcq', q: 'æ½œæ°´å‘˜åœ¨æ°´ä¸‹èƒ½å¬åˆ°å²¸ä¸Šçš„å£°éŸ³å—ï¼Ÿ', opts: ['èƒ½', 'ä¸èƒ½'], a: 0, exp: 'æ°´å¯ä»¥ä¼ æ’­å£°éŸ³ã€‚' },
            { type: 'mcq', q: 'å°†æ­£åœ¨å‘å£°çš„é˜²æ°´æ‰‹è¡¨æ”¾å…¥æ°´ä¸­ï¼Œæˆ‘ä»¬åœ¨å¤–é¢èƒ½å¬åˆ°å£°éŸ³å—ï¼Ÿ', opts: ['èƒ½', 'ä¸èƒ½'], a: 0, exp: 'æ°´å’Œç»ç’ƒ/ç©ºæ°”éƒ½èƒ½ä¼ å£°ã€‚' },
            { type: 'fill', q: 'éŸ³å‰æ¥è§¦æ°´é¢äº§ç”Ÿæ³¢çº¹ï¼Œè¯´æ˜å£°éŸ³ä»¥____çš„å½¢å¼ä¼ æ’­ï¼Œä¸”æ°´èƒ½ä¼ å£°ã€‚', a: ['æ³¢'], exp: 'å£°æ³¢ã€‚' },

            // 6. ç»¼åˆåº”ç”¨ (5é¢˜)
            { type: 'mcq', q: 'å¦‚æœåœ¨æœˆçƒä¸Šä¸¤ä¸ªå®‡èˆªå‘˜è¦èŠå¤©ï¼Œä»–ä»¬å¿…é¡»ï¼Ÿ', opts: ['å¤§å£°å–Š', 'ç”¨æ— çº¿ç”µ', 'ç”¨åœŸç”µè¯'], a: 1, exp: 'æ— çº¿ç”µæ³¢å¯ä»¥åœ¨çœŸç©ºä¸­ä¼ æ’­ï¼Œå£°æ³¢ä¸è¡Œã€‚' },
            { type: 'matching', q: 'å£°éŸ³åœ¨ä¸‹åˆ—æƒ…æ™¯ä¸­ä¾é ä»€ä¹ˆä¼ æ’­ï¼Ÿ', pairs: [{l:'æ½œæ°´å¬å£°', r:'æ¶²ä½“'}, {l:'éš”å¢™æœ‰è€³', r:'å›ºä½“'}, {l:'é¢å¯¹é¢èŠå¤©', r:'æ°”ä½“'}], exp: 'ç”Ÿæ´»ä¸­çš„ä»‹è´¨åˆ†è¾¨ã€‚' },
            { type: 'mcq', q: 'å£°éŸ³ä¸ä»…èƒ½ä¼ æ’­ä¿¡æ¯ï¼Œè¿˜èƒ½ä¼ æ’­ï¼Ÿ', opts: ['èƒ½é‡', 'ç‰©è´¨', 'æ¸©åº¦'], a: 0, exp: 'å£°éŸ³æ˜¯ä¸€ç§èƒ½é‡ï¼ˆå¦‚éœ‡ç¢ç»ç’ƒï¼‰ã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬å¬åˆ°é›·å£°é€šå¸¸æ¯”çœ‹åˆ°é—ªç”µæ™šï¼Œæ˜¯å› ä¸ºï¼Ÿ', opts: ['å…‰é€Ÿæ¯”å£°é€Ÿå¿«', 'å£°é€Ÿæ¯”å…‰é€Ÿå¿«', 'çœ¼ç›æ¯”è€³æœµå¿«'], a: 0, exp: 'å¸¸è¯†è¡¥å……ï¼šå…‰é€Ÿè¿œå¿«äºå£°é€Ÿã€‚' },
            { type: 'fill', q: 'åªè¦é¼“å£°è¶³å¤Ÿå¤§ï¼Œæˆ‘ä»¬åœ¨æ•™å®¤____ä½ç½®éƒ½èƒ½å¬åˆ°ã€‚', a: ['ä»»ä½•', 'æ‰€æœ‰'], exp: 'å››é¢å…«æ–¹ä¼ æ’­ã€‚' },

            // 7. å®éªŒæ¢ç©¶ (5é¢˜)
            { type: 'mcq', q: 'åœ¨åšçœŸç©ºé“ƒå®éªŒæ—¶ï¼Œé—¹é’Ÿå¹¶æ²¡æœ‰ç›´æ¥æ¥è§¦ç»ç’ƒç½©ï¼Œæ˜¯ä¸ºäº†ï¼Ÿ', opts: ['é˜²æ­¢é—¹é’ŸæŒ¯åŠ¨ä¼ ç»™ç»ç’ƒåº•åº§', 'æ€•é—¹é’Ÿæ‘”å', 'å¥½çœ‹'], a: 0, exp: 'æ’é™¤å›ºä½“ä¼ å£°çš„å¹²æ‰°ï¼ŒåªéªŒè¯ç©ºæ°”ã€‚' },
            { type: 'mcq', q: 'åœŸç”µè¯çš„æ£‰çº¿å¦‚æœæ¾æ¾å®å®ï¼Œå£°éŸ³ï¼Ÿ', opts: ['ä¼ æ’­æ¸…æ™°', 'æ— æ³•ä¼ æ’­/å¬ä¸æ¸…', 'å˜å¤§'], a: 1, exp: 'æ¾å¼›çš„çº¿æ— æ³•æœ‰æ•ˆä¼ é€’æŒ¯åŠ¨æ³¢ã€‚' },
            { type: 'mcq', q: 'æƒ³è®©â€œåœŸç”µè¯â€ä¼ å£°æ•ˆæœæ›´å¥½ï¼Œå¯ä»¥ï¼Ÿ', opts: ['æŠŠçº¿å¼„æ¹¿', 'æ¢æˆé‡‘å±ä¸', 'æŠŠçº¿å‰ªæ–­'], a: 1, exp: 'é‡‘å±ä¸æ˜¯æ›´å¥½çš„å›ºä½“å¯¼ä½“ã€‚' },
            { type: 'matching', q: 'ç»™å£°éŸ³èµ›è·‘æ’ä¸ªåº(1æœ€å¿«)ï¼š', pairs: [{l:'é’¢é“', r:'ç¬¬ä¸€å'}, {l:'æ°´', r:'ç¬¬äºŒå'}, {l:'ç©ºæ°”', r:'ç¬¬ä¸‰å'}], exp: 'é€Ÿåº¦æ’åºã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—ç‰©è´¨ä¸­ï¼Œä¼ å£°æ•ˆæœæœ€å¥½çš„æ˜¯ï¼Ÿ', opts: ['æ£‰èŠ±', 'é“ç®”å°º', 'ç©ºæ°”'], a: 1, exp: 'é“ç®”å°ºæ˜¯åšç¡¬å›ºä½“ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };
        
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(800, now); gain.gain.setValueAtTime(0.02, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'è¿çº¿é¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'matching') {
                renderMatching(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderMatching(card, qData) {
            const container = document.createElement('div');
            const leftCol = document.createElement('div'); leftCol.className = 'match-col';
            const rightCol = document.createElement('div'); rightCol.className = 'match-col';
            const row = document.createElement('div'); row.className = 'match-row';

            let rItems = [...qData.pairs].sort(()=>Math.random()-0.5);
            matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };

            qData.pairs.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.l; btn.dataset.val = p.l; btn.dataset.side = 'left';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                leftCol.appendChild(btn);
            });
            rItems.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.r; btn.dataset.val = p.r; btn.dataset.side = 'right';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                rightCol.appendChild(btn);
            });

            row.appendChild(leftCol); row.appendChild(rightCol);
            card.appendChild(row);
        }

        function handleMatchClick(el, totalPairs) {
            playSound('click');
            const side = el.dataset.side;
            el.parentElement.querySelectorAll('.match-btn').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            
            if (side === 'left') matchState.left = el;
            else matchState.right = el;

            if (matchState.left && matchState.right) {
                matchState.userPairs.push({l: matchState.left.dataset.val, r: matchState.right.dataset.val});
                matchState.left.classList.remove('selected'); matchState.left.classList.add('matched');
                matchState.right.classList.remove('selected'); matchState.right.classList.add('matched');
                matchState.left = null; matchState.right = null;
                matchState.matchedCount++;
                if (matchState.matchedCount === totalPairs) {
                    document.getElementById('nextBtn').disabled = false;
                    document.getElementById('nextBtn').style.opacity = 1;
                }
            }
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'matching') {
                let correctCount = 0;
                matchState.userPairs.forEach(up => {
                    if (qData.pairs.some(p => p.l === up.l && p.r === up.r)) correctCount++;
                });
                if (correctCount === qData.pairs.length) isCorrect = true;
                myAns = "é…å¯¹é”™è¯¯";
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ æ»¡åˆ†ï¼ä½ æ˜¯ä¼ æ’­å¤§å¸ˆï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼çŸ¥è¯†æŒæ¡å¾—å¾ˆç‰¢å›ºï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å¤ä¹ ä¸€ä¸‹é”™é¢˜å§ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html></textarea>
<textarea id="u1-4" style="display:none;">è¿™æ˜¯ä¸€ä¸ªä¸ºæ‚¨å®šåˆ¶çš„ **å°å­¦ç§‘å­¦å››ä¸Š ç¬¬ä¸€å•å…ƒç¬¬å››è¯¾ï¼šæˆ‘ä»¬æ˜¯æ€æ ·å¬åˆ°å£°éŸ³çš„** å¤ä¹ ä¸é—¯å…³ç½‘é¡µã€‚

æœ¬ç½‘é¡µé’ˆå¯¹**ç¬¬å››è¯¾**å†…å®¹æ·±åº¦å®šåˆ¶ï¼ŒåŒ…å«**4ç»„æ ¸å¿ƒSVGäº’åŠ¨æ¼”ç¤ºåŠ¨ç”»**ï¼ˆè€³çš„ç»“æ„ã€é¼“è†œæ¨¡æ‹Ÿå®éªŒã€å¬è§‰è·¯å¾„ç­‰ï¼‰ï¼Œä»¥åŠ**35é“å…¨æ–¹ä½é—¯å…³æµ‹è¯•é¢˜**ã€‚

### ä½¿ç”¨æ–¹æ³•ï¼š
1.  å¤åˆ¶ä¸‹æ–¹ä»£ç ã€‚
2.  æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç²˜è´´ä»£ç ã€‚
3.  ä¿å­˜ä¸º `æˆ‘ä»¬æ˜¯æ€æ ·å¬åˆ°å£°éŸ³çš„.html`ã€‚
4.  ç”¨æµè§ˆå™¨ï¼ˆæ¨èæ‰‹æœºæ¨ªå±æˆ–ç«–å±ï¼‰æ‰“å¼€ä½“éªŒã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬å››è¯¾ï¼šæˆ‘ä»¬æ˜¯æ€æ ·å¬åˆ°å£°éŸ³çš„ - ç§‘å­¦é—¯å…³</title>
    <style>
        :root {
            --bg-color: #FFF3E0; /* è‚¤è‰²ç³»èƒŒæ™¯ï¼Œå‘¼åº”â€œäººä½“/è€³æœµâ€ */
            --card-bg: #FFFFFF;
            --primary: #FF7043; /* æ´»åŠ›æ©™ */
            --secondary: #42A5F5; /* ç§‘æŠ€è“ */
            --text: #3E2723;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#FFE0B2 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #FFCC80;
            overflow: hidden;
        }

        h1 { color: #E64A19; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #5D4037; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #FFF8E1;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #FFA726;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #E65100; border-bottom: 1px dashed #FFE0B2; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #D84315; font-weight: bold; background: #FFCCBC; padding: 0 4px; border-radius: 3px; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #FFAB91;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .svg-caption { font-size: 0.9em; color: #8D6E63; margin-top: 5px; font-style: italic; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #BF360C;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #BF360C; }
        .btn-next { background: #42A5F5; box-shadow: 0 4px 0 #1565C0; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #42A5F5; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #E3F2FD; color: #1565C0; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #B0BEC5; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #BBDEFB; border-color: #2196F3; font-weight: bold; color: #0D47A1; }

        .fill-input { border: none; border-bottom: 3px solid #42A5F5; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #E65100; border-radius: 0; }

        /* è¿çº¿é¢˜ */
        .match-row { display: flex; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
        .match-col { width: 48%; display: flex; flex-direction: column; gap: 10px; }
        .match-btn {
            padding: 10px; background: #FFF; border: 2px solid #90A4AE; border-radius: 8px;
            text-align: center; cursor: pointer; font-size: 0.9em;
        }
        .match-btn.selected { background: #FFF9C4; border-color: #FBC02D; transform: scale(1.05); }
        .match-btn.matched { background: #C8E6C9; border-color: #43A047; opacity: 0.6; pointer-events: none; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF5722; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ‘‚ çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬å››è¯¾ï¼šæˆ‘ä»¬æ˜¯æ€æ ·å¬åˆ°å£°éŸ³çš„</p>

        <!-- çŸ¥è¯†ç‚¹1: è€³æœµç»“æ„ä¸åŠŸèƒ½ -->
        <div class="knowledge-box">
            <h3>1. è€³æœµçš„â€œä¸‰å‰‘å®¢â€</h3>
            <div class="k-point">ğŸ‘‚ <strong>å¤–è€³</strong>ï¼ˆè€³éƒ­ã€å¤–è€³é“ï¼‰ï¼š<span class="highlight">æ”¶é›†</span>å¹¶ä¼ é€’å£°éŸ³ã€‚</div>
            <div class="k-point">ğŸ¥ <strong>ä¸­è€³</strong>ï¼ˆé¼“è†œã€å¬å°éª¨ï¼‰ï¼šäº§ç”Ÿå¹¶<span class="highlight">ä¼ é€’æŒ¯åŠ¨</span>ã€‚</div>
            <div class="k-point">ğŸ§  <strong>å†…è€³</strong>ï¼ˆè€³èœ—ï¼‰ï¼šäº§ç”Ÿ<span class="highlight">ä¿¡å·</span>å¹¶ä¼ ç»™å¤§è„‘ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="150" viewBox="0 0 350 150">
                    <!-- å¤–è€³ -->
                    <path d="M30,30 Q10,75 30,120 Q50,120 60,100" fill="#FFCC80" stroke="#E65100" stroke-width="2"/>
                    <text x="20" y="25" font-size="12" fill="#E65100">è€³éƒ­(æ”¶é›†)</text>
                    <rect x="60" y="90" width="60" height="20" fill="#FFE0B2"/>
                    <text x="70" y="125" font-size="10" fill="#555">å¤–è€³é“</text>

                    <!-- ä¸­è€³ -->
                    <line x1="120" y1="85" x2="120" y2="115" stroke="#D84315" stroke-width="3"/>
                    <text x="110" y="75" font-size="10" fill="#D84315">é¼“è†œ</text>
                    <path d="M125,100 L155,100" stroke="#5D4037" stroke-width="4"/>
                    <text x="130" y="125" font-size="10" fill="#5D4037">å¬å°éª¨</text>

                    <!-- å†…è€³ -->
                    <path d="M160,100 Q180,70 200,100 Q220,130 200,100" fill="none" stroke="#8E24AA" stroke-width="5"/>
                    <circle cx="190" cy="100" r="15" fill="#E1BEE7"/>
                    <text x="175" y="75" font-size="10" fill="#8E24AA">è€³èœ—(ä¿¡å·)</text>

                    <!-- å¤§è„‘ -->
                    <path d="M280,80 Q300,50 320,80 Q340,110 320,110 Q280,110 280,80" fill="#B3E5FC" stroke="#0288D1"/>
                    <text x="295" y="100" font-size="10">å¤§è„‘</text>

                    <!-- å£°éŸ³ä¼ æ’­åŠ¨ç”» -->
                    <circle cx="10" cy="100" r="3" fill="#FF5722">
                        <animate attributeName="cx" values="10;120;160;280" keyTimes="0;0.4;0.6;1" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;1;0.5;0" keyTimes="0;0.8;0.9;1" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    
                    <!-- é¼“è†œæŒ¯åŠ¨ -->
                    <animate xlink:href="#drum" attributeName="stroke-width" values="3;5;3" dur="0.2s" begin="0.8s" repeatCount="indefinite"/>
                </svg>
                <div class="svg-caption">å£°éŸ³ä¹‹æ—…ï¼šå¤–è€³â†’ä¸­è€³â†’å†…è€³â†’å¤§è„‘</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹2, 4, 5: é¼“è†œå®éªŒ -->
        <div class="knowledge-box">
            <h3>2. æ¨¡æ‹Ÿé¼“è†œçš„æŒ¯åŠ¨</h3>
            <div class="k-point">ğŸˆ <strong>æ°”çƒçš®</strong>ï¼šæ¨¡æ‹Ÿé¼“è†œï¼ˆè–„ä¸”æœ‰å¼¹æ€§ï¼‰ã€‚</div>
            <div class="k-point">ğŸ§‚ <strong>ç¢çº¸å±‘/ç»†æ²™</strong>ï¼šä¸ºäº†è®©æŒ¯åŠ¨ç°è±¡æ›´æ˜æ˜¾ã€‚</div>
            <div class="k-point">ğŸ”Š <strong>è§„å¾‹</strong>ï¼šå£°éŸ³è¶Š<span class="highlight">å¼º</span>ã€ç¦»å¾—è¶Š<span class="highlight">è¿‘</span>ï¼Œé¼“è†œæŒ¯åŠ¨è¶Šæ˜æ˜¾ï¼ˆçº¸å±‘è·³å¾—è¶Šé«˜ï¼‰ã€‚</div>

            <div class="svg-stage">
                <svg width="100%" height="140" viewBox="0 0 300 140">
                    <!-- æ¯å­ -->
                    <rect x="100" y="80" width="100" height="50" fill="#B3E5FC" stroke="#0288D1"/>
                    <!-- é¼“è†œ(æ°”çƒçš®) -->
                    <line x1="100" y1="80" x2="200" y2="80" stroke="#FF7043" stroke-width="4">
                         <animate attributeName="y1" values="80;82;78;80" dur="0.2s" repeatCount="indefinite"/>
                         <animate attributeName="y2" values="80;82;78;80" dur="0.2s" repeatCount="indefinite"/>
                    </line>
                    <text x="130" y="135" font-size="12">æ¨¡æ‹Ÿé¼“è†œ</text>

                    <!-- çº¸å±‘ (è·³åŠ¨åŠ¨ç”») -->
                    <circle cx="120" cy="78" r="2" fill="#555"><animate attributeName="cy" values="78;60;78" dur="0.2s" repeatCount="indefinite"/></circle>
                    <circle cx="150" cy="78" r="2" fill="#555"><animate attributeName="cy" values="78;50;78" dur="0.2s" repeatCount="indefinite"/></circle>
                    <circle cx="180" cy="78" r="2" fill="#555"><animate attributeName="cy" values="78;65;78" dur="0.2s" repeatCount="indefinite"/></circle>
                    
                    <!-- éŸ³å‰/å£°æº -->
                    <rect x="30" y="40" width="10" height="40" rx="2" fill="#78909C"/>
                    <path d="M25,40 Q35,10 45,40" fill="none" stroke="#78909C" stroke-width="3"/>
                    <!-- å£°æ³¢ -->
                    <path d="M50,60 Q70,60 80,60" stroke="#FF5722" stroke-width="2" fill="none">
                        <animate attributeName="d" values="M50,60 Q70,60 80,60; M50,60 Q70,80 90,80" dur="0.5s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0" dur="0.5s" repeatCount="indefinite"/>
                    </path>
                    <text x="10" y="100" font-size="12">å£°æº(éŸ³å‰)</text>
                </svg>
                <div class="svg-caption">å£°éŸ³å¼º=æŒ¯åŠ¨å¹…åº¦å¤§=çº¸å±‘è·³å¾—é«˜</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹3, 7: è¾…åŠ©å·¥å…· -->
        <div class="knowledge-box">
            <h3>3. è€³éƒ­ä¸å¬è¯Šå™¨</h3>
            <div class="k-point">ğŸ“£ <strong>çº¸å–‡å­</strong>ï¼šæ¨¡æ‹Ÿè€³éƒ­ï¼Œä½œç”¨æ˜¯æ”¶é›†å£°éŸ³ï¼Œä½¿å£°éŸ³æ›´å“äº®ã€‚</div>
            <div class="k-point">ğŸ©º <strong>å¬è¯Šå™¨</strong>ï¼š
                <br>- å¬è¯Šå¤´ = è€³éƒ­ (æ”¶é›†)
                <br>- èƒ¶ç®¡ = å¤–è€³é“ (ä¼ é€’)
            </div>
            
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- å¬è¯Šå¤´ -->
                    <circle cx="50" cy="50" r="20" fill="#BDBDBD" stroke="#616161" stroke-width="2"/>
                    <text x="50" y="85" text-anchor="middle" font-size="10">å¬è¯Šå¤´(æ”¶é›†)</text>
                    
                    <!-- èƒ¶ç®¡ -->
                    <path d="M70,50 Q150,50 230,50" fill="none" stroke="#424242" stroke-width="6"/>
                    <text x="150" y="40" text-anchor="middle" font-size="10">èƒ¶ç®¡(ä¼ é€’)</text>
                    
                    <!-- è€³æŒ‚ -->
                    <path d="M230,50 L260,30 M230,50 L260,70" stroke="#BDBDBD" stroke-width="4"/>
                    
                    <!-- æ”¶é›†æ•ˆæœ -->
                    <path d="M10,30 L30,50 M10,70 L30,50" stroke="#FF5722" stroke-width="2">
                        <animate attributeName="stroke-dasharray" values="0,20; 20,0" dur="1s" repeatCount="indefinite"/>
                    </path>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#78909C;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. ç»“æ„è®¤çŸ¥ (10é¢˜)
            { type: 'mcq', q: 'äººçš„è€³æœµä¸»è¦åˆ†ä¸º____ä¸‰éƒ¨åˆ†ã€‚', opts: ['å¤–è€³ã€ä¸­è€³ã€å†…è€³', 'è€³éƒ­ã€è€³é“ã€é¼“è†œ', 'å¬å°éª¨ã€è€³èœ—ã€ç¥ç»'], a: 0, exp: 'è€³æœµç”±å¤–è€³ã€ä¸­è€³ã€å†…è€³æ„æˆã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å±äºå¤–è€³çš„æ˜¯ï¼Ÿ', opts: ['é¼“è†œ', 'å¬å°éª¨', 'è€³éƒ­'], a: 2, exp: 'å¤–è€³åŒ…æ‹¬è€³éƒ­å’Œå¤–è€³é“ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å±äºä¸­è€³çš„æ˜¯ï¼Ÿ', opts: ['è€³èœ—', 'é¼“è†œ', 'å¬è§‰ç¥ç»'], a: 1, exp: 'ä¸­è€³åŒ…æ‹¬é¼“è†œå’Œå¬å°éª¨ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å±äºå†…è€³çš„æ˜¯ï¼Ÿ', opts: ['è€³éƒ­', 'å¤–è€³é“', 'è€³èœ—'], a: 2, exp: 'å†…è€³ä¸»è¦åŒ…æ‹¬è€³èœ—ã€‚' },
            { type: 'matching', q: 'è¯·å°†è€³æœµç»“æ„ä¸éƒ¨ä½è¿çº¿ï¼š', pairs: [{l:'è€³éƒ­', r:'å¤–è€³'}, {l:'å¬å°éª¨', r:'ä¸­è€³'}, {l:'è€³èœ—', r:'å†…è€³'}], exp: 'ç»“æ„å½’å±ã€‚' },
            { type: 'fill', q: 'æˆ‘ä»¬çš„å¤–è€³å°±åƒä¸€ä¸ª____ï¼Œå£°éŸ³é€šè¿‡å®ƒåˆ°è¾¾é¼“è†œã€‚', a: ['éš§é“'], exp: 'å¤–è€³é“åƒéš§é“ã€‚' },
            { type: 'mcq', q: 'è€³æœµä¸­å¾ˆè–„è€Œä¸”æœ‰å¼¹æ€§ï¼Œåƒé¼“çš®ä¸€æ ·çš„ç»“æ„æ˜¯ï¼Ÿ', opts: ['å¬å°éª¨', 'é¼“è†œ', 'è€³èœ—'], a: 1, exp: 'é¼“è†œçš„ç‰¹ç‚¹ï¼šè–„ä¸”æœ‰å¼¹æ€§ã€‚' },
            { type: 'mcq', q: 'äººè€³ä¸­æœ€å°çš„éª¨å¤´å«____ï¼Œå®ƒåœ¨é¼“è†œåé¢ã€‚', opts: ['å¬å°éª¨', 'å¤´éª¨', 'æŒ‡éª¨'], a: 0, exp: 'å¬å°éª¨æ˜¯äººä½“æœ€å°éª¨å¤´ã€‚' },
            { type: 'mcq', q: 'å½¢çŠ¶åƒèœ—ç‰›å£³çš„ç»“æ„æ˜¯ï¼Ÿ', opts: ['è€³éƒ­', 'è€³èœ—', 'é¼“è†œ'], a: 1, exp: 'è€³èœ—å½¢çŠ¶åƒèœ—ç‰›ã€‚' },
            { type: 'fill', q: 'å¤–è€³åŒ…æ‹¬è€³éƒ­å’Œ____ã€‚', a: ['å¤–è€³é“'], exp: 'å¤–è€³çš„ç»„æˆã€‚' },

            // 2. åŠŸèƒ½è®¤çŸ¥ (10é¢˜)
            { type: 'mcq', q: 'è€³éƒ­çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['ç¾è§‚', 'æ”¶é›†å£°éŸ³', 'äº§ç”ŸæŒ¯åŠ¨'], a: 1, exp: 'è€³éƒ­æ”¶é›†å£°æ³¢ã€‚' },
            { type: 'mcq', q: 'å¤–è€³é“çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['ä¼ é€’å£°éŸ³', 'æ”¶é›†å£°éŸ³', 'è½¬åŒ–ä¿¡å·'], a: 0, exp: 'å¤–è€³é“æ˜¯å£°éŸ³ä¼ å‘é¼“è†œçš„é€šé“ã€‚' },
            { type: 'mcq', q: 'é¼“è†œçš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['å°†å£°éŸ³è½¬åŒ–ä¸ºæŒ¯åŠ¨', 'å°†æŒ¯åŠ¨è½¬åŒ–ä¸ºä¿¡å·', 'æ”¶é›†å£°éŸ³'], a: 0, exp: 'å£°æ³¢æ’å‡»é¼“è†œäº§ç”ŸæŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'å¬å°éª¨çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['æ”¶é›†å£°éŸ³', 'äº§ç”Ÿä¿¡å·', 'ä¼ é€’æŒ¯åŠ¨'], a: 2, exp: 'å¬å°éª¨å°†é¼“è†œçš„æŒ¯åŠ¨ä¼ ç»™å†…è€³ã€‚' },
            { type: 'mcq', q: 'è€³èœ—çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['ä¼ é€’æŒ¯åŠ¨', 'å°†æŒ¯åŠ¨è½¬åŒ–ä¸ºä¿¡å·', 'ä¿æŠ¤è€³æœµ'], a: 1, exp: 'è€³èœ—å°†ç‰©ç†æŒ¯åŠ¨è½¬ä¸ºç”Ÿç‰©ä¿¡å·ã€‚' },
            { type: 'mcq', q: 'å¬è§‰ç¥ç»çš„ä½œç”¨æ˜¯ï¼Ÿ', opts: ['å°†ä¿¡å·ä¼ ç»™å¤§è„‘', 'äº§ç”ŸæŒ¯åŠ¨', 'æ”¶é›†å£°éŸ³'], a: 0, exp: 'ç¥ç»è´Ÿè´£ä¼ è¾“ä¿¡å·ã€‚' },
            { type: 'matching', q: 'è¯·å°†ç»“æ„ä¸åŠŸèƒ½è¿çº¿ï¼š', pairs: [{l:'è€³éƒ­', r:'æ”¶é›†å£°éŸ³'}, {l:'é¼“è†œ', r:'äº§ç”ŸæŒ¯åŠ¨'}, {l:'å¤§è„‘', r:'æ„Ÿå—å£°éŸ³'}], exp: 'å„éƒ¨åˆ†åŠŸèƒ½ã€‚' },
            { type: 'mcq', q: 'å¦‚æœæˆ‘ä»¬æŠŠæ‰‹æŒæ”¾åœ¨è€³åï¼Œå¬åˆ°çš„å£°éŸ³ä¼šï¼Ÿ', opts: ['å˜å°', 'å˜å¤§/æ›´æ¸…æ¥š', 'ä¸å˜'], a: 1, exp: 'æ‰‹æŒå¢å¤§äº†æ”¶é›†å£°éŸ³çš„é¢ç§¯ï¼ˆæ¨¡æ‹Ÿè€³éƒ­ï¼‰ã€‚' },
            { type: 'mcq', q: 'å³ä½¿æ˜¯è½»å¾®çš„å£°éŸ³ï¼Œä¹Ÿèƒ½è®©____äº§ç”ŸæŒ¯åŠ¨ã€‚', opts: ['è€³éƒ­', 'é¼“è†œ', 'å¤´éª¨'], a: 1, exp: 'é¼“è†œéå¸¸çµæ•ã€‚' },
            { type: 'fill', q: 'å†…è€³çš„ä½œç”¨æ˜¯äº§ç”Ÿ____å¹¶ä¼ é€’ç»™å¤§è„‘ã€‚', a: ['ä¿¡å·'], exp: 'æŒ¯åŠ¨è½¬ä¿¡å·ã€‚' },

            // 3. å®éªŒæ¢ç©¶ (8é¢˜)
            { type: 'mcq', q: 'åœ¨æ¨¡æ‹Ÿé¼“è†œæŒ¯åŠ¨çš„å®éªŒä¸­ï¼Œæ°”çƒçš®æ¨¡æ‹Ÿçš„æ˜¯ï¼Ÿ', opts: ['è€³éƒ­', 'é¼“è†œ', 'å¬å°éª¨'], a: 1, exp: 'æ°”çƒçš®æ¨¡æ‹Ÿé¼“è†œã€‚' },
            { type: 'mcq', q: 'åœ¨æ¨¡æ‹Ÿé¼“è†œæŒ¯åŠ¨çš„å®éªŒä¸­ï¼Œæ’’ç¢çº¸å±‘æ˜¯ä¸ºäº†ï¼Ÿ', opts: ['å¥½çœ‹', 'è®©æŒ¯åŠ¨ç°è±¡æ›´æ˜æ˜¾', 'é˜²æ­¢æ°”çƒçš®ç ´'], a: 1, exp: 'å¯è§†åŒ–å¾®å°çš„æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'åœ¨â€œé¼“è†œâ€ä¸Šæ–¹åˆ¶é€ çš„å£°éŸ³è¶Šå¼ºï¼Œçº¸å±‘è·³å¾—ï¼Ÿ', opts: ['è¶Šä½', 'è¶Šé«˜', 'ä¸åŠ¨'], a: 1, exp: 'å£°éŸ³å¼ºï¼ŒæŒ¯å¹…å¤§ï¼Œè·³å¾—é«˜ã€‚' },
            { type: 'mcq', q: 'éŸ³å‰ç¦»â€œé¼“è†œâ€è¶Šè¿‘ï¼Œçº¸å±‘è·³å¾—ï¼Ÿ', opts: ['è¶Šä½', 'è¶Šé«˜', 'ä¸å˜'], a: 1, exp: 'è·ç¦»è¿‘ï¼Œå£°èƒ½è¡°å‡å°ï¼ŒæŒ¯åŠ¨å¼ºã€‚' },
            { type: 'mcq', q: 'ç”¨â€œçº¸å–‡å­â€å¬å£°éŸ³ï¼Œå£°éŸ³å˜æ¸…æ¥šäº†ï¼Œæ˜¯å› ä¸ºçº¸å–‡å­æ¨¡æ‹Ÿäº†ï¼Ÿ', opts: ['é¼“è†œ', 'è€³éƒ­', 'è€³èœ—'], a: 1, exp: 'çº¸å–‡å­èµ·åˆ°äº†æ”¶é›†å£°éŸ³çš„ä½œç”¨ã€‚' },
            { type: 'mcq', q: 'æ¨¡æ‹Ÿå®éªŒä¸­ï¼Œå£æ¯å£çš„æ°”çƒçš®ç»·å¾—ç´§ï¼ŒæŒ¯åŠ¨ï¼Ÿ', opts: ['ä¸æ˜æ˜¾', 'æ›´æ˜æ˜¾', 'æ²¡åŒºåˆ«'], a: 1, exp: 'ç»·ç´§çš„è†œæ›´å®¹æ˜“ä¼ å¯¼æŒ¯åŠ¨ã€‚' },
            { type: 'fill', q: 'å¬è¯Šå™¨ä¸Šçš„å¬è¯Šå¤´ç›¸å½“äº____ï¼Œå¯ä»¥æ”¶é›†å£°éŸ³ã€‚', a: ['è€³éƒ­'], exp: 'å¬è¯Šå¤´é¢ç§¯å¤§ï¼Œç”¨äºæ”¶é›†ã€‚' },
            { type: 'fill', q: 'å¬è¯Šå™¨ä¸Šçš„èƒ¶ç®¡ç›¸å½“äº____ï¼Œå¯ä»¥æ›´å¥½åœ°ä¼ é€’å£°éŸ³ã€‚', a: ['å¤–è€³é“'], exp: 'ç®¡çŠ¶ç»“æ„ä¼ é€’å£°éŸ³ã€‚' },

            // 4. è¿‡ç¨‹ä¸ç»¼åˆ (7é¢˜)
            { type: 'matching', q: 'è¯·æ’åºå¬è§‰äº§ç”Ÿçš„è¿‡ç¨‹(1->3)ï¼š', pairs: [{l:'ç‰©ä½“æŒ¯åŠ¨', r:'ç¬¬1æ­¥'}, {l:'é¼“è†œæŒ¯åŠ¨', r:'ç¬¬2æ­¥'}, {l:'å¤§è„‘æ¥æ”¶', r:'ç¬¬3æ­¥'}], exp: 'å£°éŸ³ä¼ æ’­é¡ºåºã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬å¬åˆ°å£°éŸ³çš„æ­£ç¡®è·¯å¾„æ˜¯ï¼Ÿ', opts: ['å¤–è€³â†’ä¸­è€³â†’å†…è€³', 'ä¸­è€³â†’å¤–è€³â†’å†…è€³', 'å†…è€³â†’ä¸­è€³â†’å¤–è€³'], a: 0, exp: 'ä»å¤–åˆ°å†…ã€‚' },
            { type: 'mcq', q: 'å¦‚æœå¬å°éª¨å—æŸï¼Œæˆ‘ä»¬ï¼Ÿ', opts: ['å®Œå…¨å¬ä¸åˆ°', 'å¬åŠ›ä¼šä¸‹é™', 'æ›´æ¸…æ¥š'], a: 1, exp: 'æŒ¯åŠ¨ä¼ é€’å—é˜»ï¼Œå¬åŠ›ä¸‹é™ã€‚' },
            { type: 'mcq', q: 'é¼“è†œç ´è£‚ä¼šå¯¼è‡´ï¼Ÿ', opts: ['è€³è‹/å¬åŠ›ä¸‹é™', 'å˜å“‘å·´', 'å¤´æ™•'], a: 0, exp: 'é¼“è†œæ— æ³•æ­£å¸¸æŒ¯åŠ¨ï¼Œå¯¼è‡´å¬åŠ›å—æŸã€‚' },
            { type: 'fill', q: 'ç‰©ä½“æŒ¯åŠ¨â†’ç©ºæ°”æŒ¯åŠ¨â†’____æŒ¯åŠ¨â†’å¬å°éª¨â†’è€³èœ—ã€‚', a: ['é¼“è†œ'], exp: 'è¡¥å…¨è·¯å¾„ã€‚' },
            { type: 'mcq', q: 'å¤§è„‘æ¥æ”¶åˆ°____ä¼ è¿‡æ¥çš„ä¿¡å·ï¼Œæˆ‘ä»¬å°±æ„Ÿå—åˆ°äº†å£°éŸ³ã€‚', opts: ['å¬è§‰ç¥ç»', 'è¡€ç®¡', 'éª¨å¤´'], a: 0, exp: 'ç¥ç»ä¼ è¾“ä¿¡å·ã€‚' },
            { type: 'mcq', q: 'ä¿æŠ¤å¬åŠ›ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ï¼Ÿ', opts: ['è¿œç¦»å™ªéŸ³', 'é•¿æ—¶é—´æˆ´è€³æœº', 'å®šæœŸæ£€æŸ¥'], a: 1, exp: 'é•¿æ—¶é—´æˆ´è€³æœºä¼šæŸä¼¤å¬åŠ›ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };
        
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'sawtooth'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(800, now); gain.gain.setValueAtTime(0.02, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'è¿çº¿é¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'matching') {
                renderMatching(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderMatching(card, qData) {
            const container = document.createElement('div');
            const leftCol = document.createElement('div'); leftCol.className = 'match-col';
            const rightCol = document.createElement('div'); rightCol.className = 'match-col';
            const row = document.createElement('div'); row.className = 'match-row';

            let rItems = [...qData.pairs].sort(()=>Math.random()-0.5);
            matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };

            qData.pairs.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.l; btn.dataset.val = p.l; btn.dataset.side = 'left';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                leftCol.appendChild(btn);
            });
            rItems.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.r; btn.dataset.val = p.r; btn.dataset.side = 'right';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                rightCol.appendChild(btn);
            });

            row.appendChild(leftCol); row.appendChild(rightCol);
            card.appendChild(row);
        }

        function handleMatchClick(el, totalPairs) {
            playSound('click');
            const side = el.dataset.side;
            el.parentElement.querySelectorAll('.match-btn').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            
            if (side === 'left') matchState.left = el;
            else matchState.right = el;

            if (matchState.left && matchState.right) {
                matchState.userPairs.push({l: matchState.left.dataset.val, r: matchState.right.dataset.val});
                matchState.left.classList.remove('selected'); matchState.left.classList.add('matched');
                matchState.right.classList.remove('selected'); matchState.right.classList.add('matched');
                matchState.left = null; matchState.right = null;
                matchState.matchedCount++;
                if (matchState.matchedCount === totalPairs) {
                    document.getElementById('nextBtn').disabled = false;
                    document.getElementById('nextBtn').style.opacity = 1;
                }
            }
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'matching') {
                let correctCount = 0;
                matchState.userPairs.forEach(up => {
                    if (qData.pairs.some(p => p.l === up.l && p.r === up.r)) correctCount++;
                });
                if (correctCount === qData.pairs.length) isCorrect = true;
                myAns = "é…å¯¹é”™è¯¯";
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ æ»¡åˆ†ï¼ä½ æ˜¯å¬åŠ›å°åšå£«ï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼å¯¹è€³æœµçš„ç§˜å¯†å¾ˆäº†è§£ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å¤ä¹ ä¸€ä¸‹é”™é¢˜å§ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html>
```</textarea>
<textarea id="u1-5" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬äº”è¯¾ï¼šå£°éŸ³çš„å¼ºä¸å¼± - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #F3E5F5;
            --card-bg: #FFFFFF;
            --primary: #9C27B0;
            --secondary: #FFCA28;
            --text: #4A148C;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#E1BEE7 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #CE93D8;
            overflow: hidden;
        }

        h1 { color: #7B1FA2; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #FB8C00; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: zoomIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes zoomIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #F3E5F5;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #AB47BC;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #6A1B9A; border-bottom: 1px dashed #CE93D8; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #C2185B; font-weight: bold; background: #F8BBD0; padding: 0 4px; border-radius: 3px; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #BA68C8;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
        }
        .svg-caption { font-size: 0.9em; color: #757575; margin-top: 5px; font-style: italic; }
        
        .ctrl-btn {
            background: #AB47BC; color: white; border: none; padding: 8px 20px; 
            border-radius: 20px; margin: 5px; cursor: pointer; font-size: 0.9em;
            box-shadow: 0 3px 0 #7B1FA2; transition: 0.1s;
        }
        .ctrl-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #7B1FA2; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #6A1B9A;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #6A1B9A; }
        .btn-next { background: #FFCA28; box-shadow: 0 4px 0 #F57F17; color: #3E2723; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #EDE7F6; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #9C27B0; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #E1BEE7; color: #4A148C; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #D1C4E9; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #E1BEE7; border-color: #8E24AA; font-weight: bold; color: #4A148C; }

        .fill-input { border: none; border-bottom: 3px solid #9C27B0; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #C2185B; border-radius: 0; }

        /* è¿çº¿é¢˜ */
        .match-row { display: flex; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
        .match-col { width: 48%; display: flex; flex-direction: column; gap: 10px; }
        .match-btn {
            padding: 10px; background: #FFF; border: 2px solid #B39DDB; border-radius: 8px;
            text-align: center; cursor: pointer; font-size: 0.9em;
        }
        .match-btn.selected { background: #FFF59D; border-color: #FBC02D; transform: scale(1.05); }
        .match-btn.matched { background: #C8E6C9; border-color: #43A047; opacity: 0.6; pointer-events: none; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF9800; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ”Š çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬äº”è¯¾ï¼šå£°éŸ³çš„å¼ºä¸å¼±</p>

        <!-- çŸ¥è¯†ç‚¹ 1 & 2: å®šä¹‰ -->
        <div class="knowledge-box">
            <h3>1. å£°éŸ³çš„å¼ºå¼±ï¼ˆéŸ³é‡ï¼‰</h3>
            <div class="k-point">ğŸ”ˆ <strong>å¼ºå¼±</strong>ï¼šæŒ‡å£°éŸ³çš„è½»é‡ã€‚</div>
            <div class="k-point">ğŸ“ <strong>æè¿°</strong>ï¼šå¯ä»¥ç”¨<span class="highlight">éŸ³é‡</span>æ¥æè¿°ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="80" viewBox="0 0 300 80">
                    <!-- å¼±å£°éŸ³ -->
                    <text x="50" y="30" font-size="12">è½»è½»è¯´ (å¼±)</text>
                    <path d="M50,50 L100,50" stroke="#BA68C8" stroke-width="2">
                        <animate attributeName="d" values="M50,50 Q75,48 100,50; M50,50 Q75,52 100,50; M50,50 Q75,48 100,50" dur="1s" repeatCount="indefinite"/>
                    </path>
                    <!-- å¼ºå£°éŸ³ -->
                    <text x="200" y="30" font-size="12" font-weight="bold">å¤§å£°å–Š (å¼º)</text>
                    <path d="M200,50 L250,50" stroke="#4A148C" stroke-width="4">
                        <animate attributeName="d" values="M200,50 Q225,30 250,50; M200,50 Q225,70 250,50; M200,50 Q225,30 250,50" dur="0.5s" repeatCount="indefinite"/>
                    </path>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 3: é¼“é¢ä¸è±†å­ -->
        <div class="knowledge-box">
            <h3>2. é¼“é¢ä¸è±†å­ (æŒ¯åŠ¨å¹…åº¦)</h3>
            <div class="k-point">ğŸ¥ <strong>å®éªŒ</strong>ï¼šé¼“é¢ä¸Šæ”¾è±†å­/çº¸å±‘ï¼Œä¸ºäº†çœ‹æ¸…æŒ¯åŠ¨ã€‚</div>
            <div class="k-point">ğŸ’¥ <strong>è§„å¾‹</strong>ï¼š
                <br>è½»è½»æ•² -> æŒ¯åŠ¨å¹…åº¦<span class="highlight">å°</span> -> å£°éŸ³<span class="highlight">å¼±</span>
                <br>ç”¨åŠ›æ•² -> æŒ¯åŠ¨å¹…åº¦<span class="highlight">å¤§</span> -> å£°éŸ³<span class="highlight">å¼º</span>
            </div>
            
            <div class="svg-stage">
                <button class="ctrl-btn" onclick="animDrum('weak')">è½»è½»æ•²</button>
                <button class="ctrl-btn" onclick="animDrum('strong')">ç”¨åŠ›æ•²</button>
                <br>
                <svg width="100%" height="120" viewBox="0 0 200 120" id="svg-drum">
                    <!-- é¼“èº« -->
                    <ellipse cx="100" cy="80" rx="60" ry="20" fill="#FFAB91" stroke="#E64A19" stroke-width="2"/>
                    <path d="M40,80 L40,110 Q100,130 160,110 L160,80" fill="#FFCCBC" stroke="#E64A19" stroke-width="2"/>
                    <!-- é¼“æ§Œ -->
                    <g id="drumstick" transform="rotate(-30 150 20)">
                        <rect x="140" y="20" width="10" height="60" fill="#5D4037"/>
                        <circle cx="145" cy="80" r="10" fill="#8D6E63"/>
                    </g>
                    <!-- è±†å­ -->
                    <circle id="bean1" cx="80" cy="85" r="3" fill="#4CAF50"/>
                    <circle id="bean2" cx="100" cy="80" r="3" fill="#4CAF50"/>
                    <circle id="bean3" cx="120" cy="85" r="3" fill="#4CAF50"/>
                    <!-- æŒ¯åŠ¨æ³¢ -->
                    <path id="drum-wave" d="M50,80 Q100,80 150,80" stroke="#E64A19" stroke-width="2" fill="none" opacity="0"/>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 4: é’¢å°ºå®éªŒ -->
        <div class="knowledge-box">
            <h3>3. é’¢å°ºçš„æŒ¯åŠ¨</h3>
            <div class="k-point">ğŸ“ <strong>æ“ä½œ</strong>ï¼šä¼¸å‡ºçº¦20cmï¼Œå‹ä½ä¸€ç«¯ã€‚</div>
            <div class="k-point">ğŸ” <strong>æ ¸å¿ƒ</strong>ï¼šå£°éŸ³å¼ºå¼±ä¸<span class="highlight">æŒ¯åŠ¨å¹…åº¦</span>æœ‰å…³ã€‚</div>
            <div class="k-point">ğŸ‘‰ <strong>ç»“è®º</strong>ï¼š
                <br>æŒ¯å¹…å¤§ = å£°éŸ³å¼º
                <br>æŒ¯å¹…å° = å£°éŸ³å¼±
            </div>

            <div class="svg-stage">
                <button class="ctrl-btn" onclick="animRuler('weak')">è½»è½»æ‹¨ (æŒ¯å¹…å°)</button>
                <button class="ctrl-btn" onclick="animRuler('strong')">ç”¨åŠ›æ‹¨ (æŒ¯å¹…å¤§)</button>
                <svg width="100%" height="120" viewBox="0 0 200 120" id="svg-ruler">
                    <!-- æ¡Œå­ -->
                    <rect x="0" y="60" width="80" height="60" fill="#8D6E63"/>
                    <text x="20" y="90" fill="white" font-size="12">æ¡Œé¢</text>
                    <!-- æ‰‹å‹ä½ -->
                    <ellipse cx="70" cy="55" rx="15" ry="10" fill="#FFCCBC" stroke="#E64A19"/>
                    <!-- é’¢å°º -->
                    <path id="ruler-blade" d="M80,60 L180,60" stroke="#607D8B" stroke-width="6"/>
                    <!-- æŒ¯åŠ¨å¹…åº¦æŒ‡ç¤ºè™šçº¿ -->
                    <path id="amp-line" d="M180,40 L180,80" stroke="#AB47BC" stroke-width="2" stroke-dasharray="4" opacity="0"/>
                    <text id="amp-text" x="160" y="30" font-size="10" fill="#AB47BC" opacity="0">æŒ¯åŠ¨å¹…åº¦</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 5: éŸ³å‰ä¸å°çƒ -->
        <div class="knowledge-box">
            <h3>4. éŸ³å‰ä¸ä¹’ä¹“çƒ</h3>
            <div class="k-point">ğŸ± <strong>å°çƒä½œç”¨</strong>ï¼šæŠŠéŸ³å‰å¾®å°çš„æŒ¯åŠ¨<span class="highlight">æ”¾å¤§</span>ã€‚</div>
            <div class="k-point">ğŸ“ <strong>è§„å¾‹</strong>ï¼š
                <br>å°çƒå¼¹å¾—è¿œ -> æŒ¯å¹…å¤§ -> å£°éŸ³å¼º
                <br>å°çƒå¼¹å¾—è¿‘ -> æŒ¯å¹…å° -> å£°éŸ³å¼±
            </div>
            
            <div class="svg-stage">
                <button class="ctrl-btn" onclick="animFork('weak')">è½»æ•² (å¼±éŸ³)</button>
                <button class="ctrl-btn" onclick="animFork('strong')">é‡æ•² (å¼ºéŸ³)</button>
                <svg width="100%" height="120" viewBox="0 0 200 120" id="svg-fork-container">
                    <!-- éŸ³å‰ -->
                    <path id="fork-body" d="M50,110 L50,70 Q50,40 70,40 Q90,40 90,70 L90,110" fill="none" stroke="#90A4AE" stroke-width="8" stroke-linecap="round"/>
                    <rect x="65" y="110" width="10" height="10" fill="#546E7A"/>
                    <!-- æ‚¬æŒ‚çº¿ -->
                    <line x1="110" y1="10" x2="110" y2="50" stroke="#333" stroke-width="1"/>
                    <!-- å°çƒ -->
                    <circle id="ball" cx="110" cy="55" r="8" fill="#FF5722"/>
                    <text x="130" y="110" font-size="10" fill="#555">å°çƒå¼¹å¼€è·ç¦»</text>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#7B1FA2;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- SVG åŠ¨ç”»é€»è¾‘ ---
        
        function animDrum(type) {
            const wave = document.getElementById('drum-wave');
            const beans = [document.getElementById('bean1'), document.getElementById('bean2'), document.getElementById('bean3')];
            const stick = document.getElementById('drumstick');
            
            // é¼“æ§ŒåŠ¨ç”»
            // å…ˆæ¸…é™¤æ—§åŠ¨ç”»
            while(stick.firstChild) stick.removeChild(stick.firstChild);
            
            // åˆ›å»ºæ–°åŠ¨ç”»
            const stickAnim = document.createElementNS("http://www.w3.org/2000/svg", "animateTransform");
            stickAnim.setAttribute("attributeName", "transform");
            stickAnim.setAttribute("type", "rotate");
            stickAnim.setAttribute("values", "-30 150 20; -50 150 20; -30 150 20");
            stickAnim.setAttribute("dur", "0.15s");
            stickAnim.setAttribute("repeatCount", "1");
            stick.appendChild(stickAnim);
            stickAnim.beginElement();

            let jumpH = type === 'strong' ? 40 : 10; // è·³è·ƒé«˜åº¦
            let waveH = type === 'strong' ? 15 : 5;  // æŒ¯åŠ¨å¹…åº¦

            // è±†å­è·³åŠ¨
            beans.forEach((b, i) => {
                let cy = 80 + (i%2)*5;
                while(b.firstChild) b.removeChild(b.firstChild); // Clear
                const bAnim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
                bAnim.setAttribute("attributeName", "cy");
                bAnim.setAttribute("values", `${cy};${cy-jumpH};${cy}`);
                bAnim.setAttribute("dur", "0.4s");
                bAnim.setAttribute("begin", "0.15s");
                bAnim.setAttribute("repeatCount", "2");
                b.appendChild(bAnim);
                bAnim.beginElement();
            });

            // é¼“é¢æŒ¯åŠ¨
            wave.setAttribute('opacity', '1');
            while(wave.firstChild) wave.removeChild(wave.firstChild);
            const wAnim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            wAnim.setAttribute("attributeName", "d");
            wAnim.setAttribute("values", `M50,80 Q100,${80-waveH} 150,80; M50,80 Q100,${80+waveH} 150,80; M50,80 Q100,80 150,80`);
            wAnim.setAttribute("dur", "0.1s");
            wAnim.setAttribute("begin", "0.15s");
            wAnim.setAttribute("repeatCount", "5");
            wave.appendChild(wAnim);
            wAnim.beginElement();
            
            setTimeout(()=> wave.setAttribute('opacity', '0'), 800);
        }

        function animRuler(type) {
            const blade = document.getElementById('ruler-blade');
            const ampLine = document.getElementById('amp-line');
            const ampText = document.getElementById('amp-text');
            
            let swing = type === 'strong' ? 30 : 8;
            
            while(blade.firstChild) blade.removeChild(blade.firstChild);
            
            const rAnim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            rAnim.setAttribute("attributeName", "d");
            rAnim.setAttribute("values", `M80,60 Q130,${60-swing} 180,${60-swing}; M80,60 Q130,${60+swing} 180,${60+swing}; M80,60 L180,60`);
            rAnim.setAttribute("dur", "0.1s");
            rAnim.setAttribute("repeatCount", "10");
            blade.appendChild(rAnim);
            rAnim.beginElement();
            
            // å¹…åº¦æŒ‡ç¤º
            ampLine.setAttribute('opacity', 1);
            ampText.setAttribute('opacity', 1);
            ampLine.setAttribute('d', `M180,${60-swing} L180,${60+swing}`);
            
            setTimeout(() => {
                ampLine.setAttribute('opacity', 0);
                ampText.setAttribute('opacity', 0);
            }, 1200);
        }

        function animFork(type) {
            const ball = document.getElementById('ball');
            const forkBody = document.getElementById('fork-body');
            
            // æ¸…é™¤æ—§åŠ¨ç”»
            while(ball.firstChild) ball.removeChild(ball.firstChild);
            while(forkBody.firstChild) forkBody.removeChild(forkBody.firstChild);

            // 1. å°çƒå¼¹å¼€åŠ¨ç”»
            let targetX = type === 'strong' ? 170 : 125; 
            const ballAnim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            ballAnim.setAttribute("attributeName", "cx");
            // æ¨¡æ‹Ÿå¼¹å¼€ï¼šåŸç‚¹ -> æœ€è¿œ -> åŸç‚¹ -> å°å¼¹ -> åŸç‚¹
            ballAnim.setAttribute("values", `110; ${targetX}; 110; ${110 + (targetX-110)*0.3}; 110`);
            ballAnim.setAttribute("dur", "1s");
            ballAnim.setAttribute("fill", "freeze");
            ball.appendChild(ballAnim);
            ballAnim.beginElement();

            // 2. éŸ³å‰æŒ¯åŠ¨æ•ˆæœ (æè¾¹ç²—ç»†å˜åŒ–æ¨¡æ‹ŸæŒ¯åŠ¨)
            const forkAnim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            forkAnim.setAttribute("attributeName", "stroke-width");
            forkAnim.setAttribute("values", "8; 6; 8");
            forkAnim.setAttribute("dur", "0.05s");
            forkAnim.setAttribute("repeatCount", type === 'strong' ? "20" : "10");
            forkBody.appendChild(forkAnim);
            forkAnim.beginElement();
        }

        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. åŸºç¡€æ¦‚å¿µ (6é¢˜)
            { type: 'mcq', q: 'åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠå£°éŸ³çš„è½»é‡ç§°ä¸ºå£°éŸ³çš„ï¼Ÿ', opts: ['é«˜ä½', 'å¼ºå¼±', 'éŸ³è‰²'], a: 1, exp: 'å£°éŸ³çš„è½»é‡ = å¼ºå¼±ã€‚' },
            { type: 'mcq', q: 'å£°éŸ³çš„å¼ºå¼±å¯ä»¥ç”¨____æ¥æè¿°ã€‚', opts: ['éŸ³é«˜', 'éŸ³é‡', 'é¢‘ç‡'], a: 1, exp: 'éŸ³é‡æè¿°å¼ºå¼±ï¼ŒéŸ³é«˜æè¿°é«˜ä½ã€‚' },
            { type: 'mcq', q: 'å¤§å£°è¯´è¯å’Œè½»å£°ç»†è¯­ï¼Œä¸»è¦æ˜¯å£°éŸ³çš„____ä¸åŒã€‚', opts: ['å¼ºå¼±', 'é«˜ä½', 'å¥½å¬ç¨‹åº¦'], a: 0, exp: 'å¤§å£°=å¼ºï¼Œè½»å£°=å¼±ã€‚' },
            { type: 'fill', q: 'ç‰©ä½“æŒ¯åŠ¨çš„å¹…åº¦è¶Šå¤§ï¼Œå£°éŸ³è¶Š____ã€‚', a: ['å¼º'], exp: 'æŒ¯å¹…å¤§=å£°éŸ³å¼ºã€‚' },
            { type: 'fill', q: 'ç‰©ä½“æŒ¯åŠ¨çš„å¹…åº¦è¶Šå°ï¼Œå£°éŸ³è¶Š____ã€‚', a: ['å¼±'], exp: 'æŒ¯å¹…å°=å£°éŸ³å¼±ã€‚' },
            { type: 'matching', q: 'è¯·è¿çº¿æè¿°ï¼š', pairs: [{l:'ç”¨åŠ›æ•²', r:'å£°éŸ³å¼º'}, {l:'è½»è½»æ•²', r:'å£°éŸ³å¼±'}, {l:'æŒ¯å¹…å¤§', r:'éŸ³é‡å¤§'}], exp: 'åŠ›ã€æŒ¯å¹…ä¸éŸ³é‡çš„å…³ç³»ã€‚' },

            // 2. é’¢å°ºå®éªŒ (8é¢˜)
            { type: 'mcq', q: 'åšé’¢å°ºå®éªŒæ—¶ï¼Œé’¢å°ºä¼¸å‡ºæ¡Œé¢çš„é•¿åº¦åº”è¯¥ï¼Ÿ', opts: ['ä¸æ–­å˜åŒ–', 'ä¿æŒä¸å˜(çº¦20cm)', 'è¶Šé•¿è¶Šå¥½'], a: 1, exp: 'ç ”ç©¶å¼ºå¼±æ—¶ï¼Œè¦æ§åˆ¶é•¿åº¦ä¸å˜ï¼ˆæ§åˆ¶å˜é‡ï¼‰ã€‚' },
            { type: 'mcq', q: 'è½»è½»æ‹¨åŠ¨é’¢å°ºï¼Œé’¢å°ºçš„æŒ¯åŠ¨å¹…åº¦____ï¼Œå‘å‡ºçš„å£°éŸ³____ã€‚', opts: ['å¤§ï¼Œå¼º', 'å°ï¼Œå¼±', 'å°ï¼Œå¼º'], a: 1, exp: 'åŠ›å°->æŒ¯å¹…å°->å£°éŸ³å¼±ã€‚' },
            { type: 'mcq', q: 'ç”¨åŠ›æ‹¨åŠ¨é’¢å°ºï¼Œé’¢å°ºçš„æŒ¯åŠ¨å¹…åº¦____ï¼Œå‘å‡ºçš„å£°éŸ³____ã€‚', opts: ['å¤§ï¼Œå¼º', 'å°ï¼Œå¼±', 'å¤§ï¼Œå¼±'], a: 0, exp: 'åŠ›å¤§->æŒ¯å¹…å¤§->å£°éŸ³å¼ºã€‚' },
            { type: 'mcq', q: 'å¦‚æœæŠŠé’¢å°ºä¼¸å‡ºé•¿åº¦å˜é•¿ï¼Œæˆ‘ä»¬ç ”ç©¶çš„æ˜¯å£°éŸ³çš„ï¼Ÿ', opts: ['å¼ºå¼±', 'é«˜ä½', 'ä¼ æ’­'], a: 1, exp: 'æ”¹å˜é•¿åº¦æ˜¯ç ”ç©¶éŸ³é«˜ï¼ˆé«˜ä½ï¼‰çš„å®éªŒã€‚' },
            { type: 'fill', q: 'å£°éŸ³çš„å¼ºå¼±å’Œç‰©ä½“çš„____æœ‰å…³ã€‚', a: ['æŒ¯åŠ¨å¹…åº¦'], exp: 'æ ¸å¿ƒç»“è®ºï¼šå¼ºå¼±çœ‹æŒ¯å¹…ã€‚' },
            { type: 'mcq', q: 'åšå®éªŒæ—¶ï¼Œè¦ç”¨æ‰‹____é’¢å°ºåœ¨æ¡Œé¢ä¸Šçš„ä¸€ç«¯ã€‚', opts: ['å‹ä½', 'æ‹¿ç€', 'æ‚¬ç©º'], a: 0, exp: 'å‹ä½é˜²æ­¢å°ºå­æ‰è½æˆ–äº§ç”Ÿæ‚éŸ³ã€‚' },
            { type: 'mcq', q: 'é€šè¿‡é’¢å°ºå®éªŒï¼Œæˆ‘ä»¬å‘ç°ç”¨åŠ›è¶Šå¤§ï¼Œé’¢å°ºä¸Šä¸‹æ‘†åŠ¨çš„å¹…åº¦ï¼Ÿ', opts: ['è¶Šå°', 'è¶Šå¤§', 'ä¸å˜'], a: 1, exp: 'åŠ›å¤§æŒ¯å¹…å¤§ã€‚' },
            { type: 'matching', q: 'è¿çº¿é’¢å°ºå®éªŒç°è±¡ï¼š', pairs: [{l:'è½»è½»æ‹¨', r:'æŒ¯åŠ¨å¹…åº¦å°'}, {l:'ç”¨åŠ›æ‹¨', r:'æŒ¯åŠ¨å¹…åº¦å¤§'}, {l:'å£°éŸ³å¼º', r:'ç”¨åŠ›å¤§'}], exp: 'å®éªŒç°è±¡å¯¹åº”ã€‚' },

            // 3. é¼“é¢ä¸è±†å­ (6é¢˜)
            { type: 'mcq', q: 'åœ¨é¼“é¢ä¸Šæ”¾è±†å­æ˜¯ä¸ºäº†ï¼Ÿ', opts: ['ä¸ºäº†å¥½å¬', 'ä¸ºäº†çœ‹æ¸…é¼“é¢çš„æŒ¯åŠ¨', 'ä¸ºäº†å¢åŠ é‡é‡'], a: 1, exp: 'æ”¾å¤§æŒ¯åŠ¨ç°è±¡ï¼ˆè½¬æ¢æ³•ï¼‰ã€‚' },
            { type: 'mcq', q: 'ç”¨åŠ›æ•²é¼“ï¼Œè±†å­è·³å¾—____ï¼Œé¼“å£°è¶Š____ã€‚', opts: ['ä½ï¼Œå¼±', 'é«˜ï¼Œå¼º', 'é«˜ï¼Œå¼±'], a: 1, exp: 'åŠ›å¤§ï¼ŒæŒ¯å¹…å¤§ï¼Œè±†å­é«˜ï¼Œå£°å¼ºã€‚' },
            { type: 'mcq', q: 'è½»è½»æ•²é¼“ï¼Œè±†å­è·³å¾—____ï¼Œé¼“å£°è¶Š____ã€‚', opts: ['ä½ï¼Œå¼±', 'é«˜ï¼Œå¼º', 'ä½ï¼Œå¼º'], a: 0, exp: 'åŠ›å°ï¼ŒæŒ¯å¹…å°ï¼Œè±†å­ä½ï¼Œå£°å¼±ã€‚' },
            { type: 'mcq', q: 'è±†å­è·³èµ·çš„é«˜åº¦ä»£è¡¨äº†é¼“é¢æŒ¯åŠ¨çš„ï¼Ÿ', opts: ['å¿«æ…¢', 'å¹…åº¦', 'æ—¶é—´'], a: 1, exp: 'é«˜åº¦=å¹…åº¦ã€‚' },
            { type: 'fill', q: 'æˆ‘ä»¬ç”¨ä¸åŒçš„____æ•²å‡»é¼“é¢ï¼Œæ¥ç ”ç©¶å£°éŸ³å¼ºå¼±ã€‚', a: ['åŠ›é‡', 'åŠ›'], exp: 'æ”¹å˜ç”¨åŠ›å¤§å°ã€‚' },
            { type: 'mcq', q: 'å¦‚æœé¼“é¢ä¸Šä¸æ”¾è±†å­ï¼Œç”¨åŠ›æ•²é¼“æ—¶ï¼Ÿ', opts: ['é¼“é¢ä¸æŒ¯åŠ¨', 'æŒ¯åŠ¨ä½†ä¸æ˜æ˜¾', 'å£°éŸ³å˜å°'], a: 1, exp: 'ä¾ç„¶æŒ¯åŠ¨ï¼Œåªæ˜¯è‚‰çœ¼ä¸æ˜“è§‚å¯Ÿã€‚' },

            // 4. éŸ³å‰ä¸å°çƒ (6é¢˜)
            { type: 'mcq', q: 'æ‚¬æŒ‚ä¸€ä¸ªå°çƒé è¿‘éŸ³å‰ï¼Œæ˜¯ä¸ºäº†ï¼Ÿ', opts: ['è£…é¥°', 'æ˜¾ç¤ºéŸ³å‰æŒ¯åŠ¨å¹…åº¦çš„å˜åŒ–', 'æ”¹å˜éŸ³è‰²'], a: 1, exp: 'æ”¾å¤§æŒ¯åŠ¨å¹…åº¦ã€‚' },
            { type: 'mcq', q: 'å°çƒè¢«å¼¹å¾—è¶Šè¿œï¼Œè¯´æ˜éŸ³å‰æŒ¯åŠ¨çš„å¹…åº¦ï¼Ÿ', opts: ['è¶Šå°', 'è¶Šå¤§', 'ä¸å˜'], a: 1, exp: 'å¼¹å¾—è¿œ=æŒ¯å¹…å¤§ã€‚' },
            { type: 'mcq', q: 'å½“å°çƒè¢«å¼¹å¾—è¶Šè¿‘æ—¶ï¼Œæˆ‘ä»¬å¬åˆ°çš„å£°éŸ³ï¼Ÿ', opts: ['è¶Šå¼º', 'è¶Šå¼±', 'è¶Šé«˜'], a: 1, exp: 'å¼¹å¾—è¿‘=æŒ¯å¹…å°=å£°éŸ³å¼±ã€‚' },
            { type: 'matching', q: 'è¿çº¿éŸ³å‰å®éªŒï¼š', pairs: [{l:'é‡æ•²éŸ³å‰', r:'å°çƒå¼¹å¾—è¿œ'}, {l:'è½»æ•²éŸ³å‰', r:'å°çƒå¼¹å¾—è¿‘'}, {l:'å°çƒä¸åŠ¨', r:'æ— å£°éŸ³'}], exp: 'ç°è±¡å¯¹åº”ã€‚' },
            { type: 'fill', q: 'éŸ³å‰æŒ¯åŠ¨çš„å¹…åº¦è¶Š____ï¼Œå°çƒè¢«å¼¹å¼€çš„è·ç¦»è¶Šè¿œã€‚', a: ['å¤§'], exp: 'æŒ¯å¹…å¤§å¼¹å¾—è¿œã€‚' },
            { type: 'mcq', q: 'è¿™ä¸ªå®éªŒè¯´æ˜ï¼Œå£°éŸ³çš„å¼ºå¼±æ˜¯ç”±____å†³å®šçš„ã€‚', opts: ['æŒ¯åŠ¨å¿«æ…¢', 'æŒ¯åŠ¨å¹…åº¦', 'ç‰©ä½“ææ–™'], a: 1, exp: 'å¼ºå¼±ç”±æŒ¯å¹…å†³å®šã€‚' },

            // 5. ç»¼åˆä¸è¾¨æ (9é¢˜)
            { type: 'mcq', q: 'å…³äºå£°éŸ³çš„å¼ºå¼±ï¼Œä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ', opts: ['æŒ¯åŠ¨è¶Šå¿«å£°éŸ³è¶Šå¼º', 'æŒ¯åŠ¨å¹…åº¦è¶Šå¤§å£°éŸ³è¶Šå¼º', 'ç‰©ä½“è¶Šé•¿å£°éŸ³è¶Šå¼º'], a: 1, exp: 'å¼ºå¼±çœ‹å¹…åº¦ã€‚' },
            { type: 'mcq', q: 'è°ƒèŠ‚ç”µè§†æœºçš„éŸ³é‡æŒ‰é’®ï¼Œæ”¹å˜çš„æ˜¯å£°éŸ³çš„ï¼Ÿ', opts: ['é«˜ä½', 'å¼ºå¼±', 'éŸ³è‰²'], a: 1, exp: 'éŸ³é‡=å¼ºå¼±ã€‚' },
            { type: 'mcq', q: 'è€å¸ˆè®©ä½ â€œå¤§å£°ç‚¹â€ï¼Œæ˜¯è®©ä½ æ”¹å˜å£°éŸ³çš„ï¼Ÿ', opts: ['å¼ºå¼±', 'é«˜ä½', 'é€Ÿåº¦'], a: 0, exp: 'å¤§å£°=å¢å¼ºéŸ³é‡ã€‚' },
            { type: 'mcq', q: 'èšŠå­çš„å«å£°è™½ç„¶é«˜ï¼Œä½†æ˜¯å¾ˆ____ã€‚', opts: ['å¼º', 'å¼±'], a: 1, exp: 'èšŠå­å£°éŸ³å°–ï¼ˆé«˜ï¼‰ä½†éŸ³é‡å°ï¼ˆå¼±ï¼‰ã€‚' },
            { type: 'mcq', q: 'é›·å£°é€šå¸¸å¾ˆ____ï¼Œé›¨å£°é€šå¸¸å¾ˆ____ã€‚', opts: ['å¼±ï¼Œå¼º', 'å¼ºï¼Œå¼±', 'é«˜ï¼Œä½'], a: 1, exp: 'é›·å£°å¼ºï¼Œé›¨å£°å¼±ã€‚' },
            { type: 'fill', q: 'å£°éŸ³çš„å¼ºå¼±å•ä½æ˜¯åˆ†è´ï¼Œåˆ†è´æ•°è¶Š____ï¼Œå£°éŸ³è¶Šå¼ºã€‚', a: ['å¤§', 'é«˜'], exp: 'æ‹“å±•ï¼šåˆ†è´è¶Šå¤§è¶Šåµã€‚' },
            { type: 'mcq', q: 'è¦æƒ³è®©çš®ç­‹å‘å‡ºçš„å£°éŸ³å˜å¼ºï¼Œåº”è¯¥ï¼Ÿ', opts: ['æŠŠçš®ç­‹æ‹‰ç´§ç‚¹', 'ç”¨åŠ›æ‹¨åŠ¨çš®ç­‹', 'æ¢æ ¹ç²—çš®ç­‹'], a: 1, exp: 'ç”¨åŠ›æ‹¨åŠ¨å¢å¤§æŒ¯å¹…ã€‚' },
            { type: 'mcq', q: 'æŒ¯åŠ¨å¹…åº¦æ˜¯æŒ‡ç‰©ä½“æŒ¯åŠ¨æ—¶åç¦»ä¸­å¿ƒä½ç½®çš„ï¼Ÿ', opts: ['é€Ÿåº¦', 'è·ç¦»', 'æ¬¡æ•°'], a: 1, exp: 'æŒ¯å¹…æ˜¯åç¦»çš„è·ç¦»ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªä¸ªåŠ¨ä½œèƒ½è®©å£°éŸ³å˜å¼±ï¼Ÿ', opts: ['ç”¨åŠ›å¹', 'è½»è½»æ•²', 'ä½¿åŠ²å–Š'], a: 1, exp: 'è½»è½»æ•²å‡å°æŒ¯å¹…ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };
        
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(800, now); gain.gain.setValueAtTime(0.02, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'è¿çº¿é¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'matching') {
                renderMatching(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderMatching(card, qData) {
            const container = document.createElement('div');
            const leftCol = document.createElement('div'); leftCol.className = 'match-col';
            const rightCol = document.createElement('div'); rightCol.className = 'match-col';
            const row = document.createElement('div'); row.className = 'match-row';

            let rItems = [...qData.pairs].sort(()=>Math.random()-0.5);
            matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };

            qData.pairs.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.l; btn.dataset.val = p.l; btn.dataset.side = 'left';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                leftCol.appendChild(btn);
            });
            rItems.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.r; btn.dataset.val = p.r; btn.dataset.side = 'right';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                rightCol.appendChild(btn);
            });

            row.appendChild(leftCol); row.appendChild(rightCol);
            card.appendChild(row);
        }

        function handleMatchClick(el, totalPairs) {
            playSound('click');
            const side = el.dataset.side;
            el.parentElement.querySelectorAll('.match-btn').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            
            if (side === 'left') matchState.left = el;
            else matchState.right = el;

            if (matchState.left && matchState.right) {
                matchState.userPairs.push({l: matchState.left.dataset.val, r: matchState.right.dataset.val});
                matchState.left.classList.remove('selected'); matchState.left.classList.add('matched');
                matchState.right.classList.remove('selected'); matchState.right.classList.add('matched');
                matchState.left = null; matchState.right = null;
                matchState.matchedCount++;
                if (matchState.matchedCount === totalPairs) {
                    document.getElementById('nextBtn').disabled = false;
                    document.getElementById('nextBtn').style.opacity = 1;
                }
            }
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'matching') {
                let correctCount = 0;
                matchState.userPairs.forEach(up => {
                    if (qData.pairs.some(p => p.l === up.l && p.r === up.r)) correctCount++;
                });
                if (correctCount === qData.pairs.length) isCorrect = true;
                myAns = "é…å¯¹é”™è¯¯";
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯éŸ³é‡æŒæ§è€…ï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼å¯¹å£°éŸ³å¼ºå¼±å¾ˆæ•æ„Ÿï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å†å¤ä¹ ä¸€ä¸‹æŒ¯åŠ¨å¹…åº¦çš„ç§˜å¯†ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html></textarea>
<textarea id="u1-6" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬å…­è¯¾ï¼šå£°éŸ³çš„é«˜ä¸ä½ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #E0F7FA; /* æµ…é’èƒŒæ™¯ */
            --card-bg: #FFFFFF;
            --primary: #00BCD4; /* ç§‘æŠ€è“ */
            --high-pitch: #FF5252; /* é«˜éŸ³çº¢ */
            --low-pitch: #3F51B5; /* ä½éŸ³è“ */
            --text: #37474F;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#B2EBF2 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #80DEEA;
            overflow: hidden;
        }

        h1 { color: #0097A7; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #FF9800; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: slideUp 0.4s ease-out; }
        .active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #E0F2F1;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #00BCD4;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #00838F; border-bottom: 1px dashed #80DEEA; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #D84315; font-weight: bold; background: #FFCCBC; padding: 0 4px; border-radius: 3px; }
        .high-mark { color: var(--high-pitch); font-weight: bold; }
        .low-mark { color: var(--low-pitch); font-weight: bold; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #4DD0E1;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
        }
        .svg-caption { font-size: 0.9em; color: #78909C; margin-top: 5px; font-style: italic; }

        .ctrl-btn {
            background: #00BCD4; color: white; border: none; padding: 8px 20px; 
            border-radius: 20px; margin: 5px; cursor: pointer; font-size: 0.9em;
            box-shadow: 0 3px 0 #0097A7; transition: 0.1s;
        }
        .ctrl-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #0097A7; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #0097A7;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #0097A7; }
        .btn-next { background: #FFCA28; box-shadow: 0 4px 0 #F57F17; color: #3E2723; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #00BCD4; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #B2EBF2; color: #006064; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #B2DFDB; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #B2EBF2; border-color: #00BCD4; font-weight: bold; color: #006064; }

        .fill-input { border: none; border-bottom: 3px solid #00BCD4; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #00838F; border-radius: 0; }

        /* è¿çº¿é¢˜ */
        .match-row { display: flex; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
        .match-col { width: 48%; display: flex; flex-direction: column; gap: 10px; }
        .match-btn {
            padding: 10px; background: #FFF; border: 2px solid #B0BEC5; border-radius: 8px;
            text-align: center; cursor: pointer; font-size: 0.9em;
        }
        .match-btn.selected { background: #FFF59D; border-color: #FBC02D; transform: scale(1.05); }
        .match-btn.matched { background: #C8E6C9; border-color: #43A047; opacity: 0.6; pointer-events: none; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF9800; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ¼ çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬å…­è¯¾ï¼šå£°éŸ³çš„é«˜ä¸ä½</p>

        <!-- çŸ¥è¯†ç‚¹ 1 & 2: éŸ³é«˜ä¸æŒ¯åŠ¨å¿«æ…¢ -->
        <div class="knowledge-box">
            <h3>1. éŸ³é«˜ä¸æŒ¯åŠ¨å¿«æ…¢</h3>
            <div class="k-point">ğŸµ <strong>éŸ³é«˜</strong>ï¼šæè¿°å£°éŸ³çš„é«˜ä½ã€‚</div>
            <div class="k-point">âš¡ <strong>è§„å¾‹</strong>ï¼š
                <br>æŒ¯åŠ¨è¶Š<span class="high-mark">å¿«</span> â†’ å£°éŸ³è¶Š<span class="high-mark">é«˜</span>
                <br>æŒ¯åŠ¨è¶Š<span class="low-mark">æ…¢</span> â†’ å£°éŸ³è¶Š<span class="low-mark">ä½</span>
            </div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- ä½éŸ³æ³¢å½¢ -->
                    <text x="20" y="30" font-size="12" fill="#3F51B5">ä½éŸ³ (æ…¢)</text>
                    <path d="M20,60 Q45,20 70,60 T120,60" fill="none" stroke="#3F51B5" stroke-width="3"/>
                    
                    <!-- é«˜éŸ³æ³¢å½¢ -->
                    <text x="180" y="30" font-size="12" fill="#FF5252">é«˜éŸ³ (å¿«)</text>
                    <path d="M180,60 Q190,40 200,60 T220,60 T240,60 T260,60 T280,60" fill="none" stroke="#FF5252" stroke-width="3"/>
                    
                    <!-- åŠ¨ç”»æŒ‡ç¤º -->
                    <circle cx="70" cy="60" r="5" fill="#3F51B5"><animate attributeName="cy" values="60;40;80;60" dur="1s" repeatCount="indefinite"/></circle>
                    <circle cx="230" cy="60" r="5" fill="#FF5252"><animate attributeName="cy" values="60;40;80;60" dur="0.2s" repeatCount="indefinite"/></circle>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 3 & 4: é’¢å°ºå®éªŒ -->
        <div class="knowledge-box">
            <h3>2. é’¢å°ºå®éªŒ (é•¿åº¦ä¸é«˜ä½)</h3>
            <div class="k-point">ğŸ“ <strong>æ“ä½œ</strong>ï¼šæ”¹å˜é’¢å°ºä¼¸å‡ºæ¡Œé¢çš„<span class="highlight">é•¿åº¦</span>ï¼Œç”¨åŠ›ç›¸åŒã€‚</div>
            <div class="k-point">ğŸ“Š <strong>ç»“è®º</strong>ï¼š
                <br>ä¼¸å‡ºè¶Š<span class="low-mark">é•¿</span> â†’ æŒ¯åŠ¨<span class="low-mark">æ…¢</span> â†’ å£°éŸ³<span class="low-mark">ä½</span>
                <br>ä¼¸å‡ºè¶Š<span class="high-mark">çŸ­</span> â†’ æŒ¯åŠ¨<span class="high-mark">å¿«</span> â†’ å£°éŸ³<span class="high-mark">é«˜</span>
            </div>
            <div class="k-point">ğŸ”„ <strong>å‡†ç¡®æ€§</strong>ï¼šæ¯æ¬¡å®éªŒé‡å¤<span class="highlight">3æ¬¡</span>ã€‚</div>

            <div class="svg-stage">
                <button class="ctrl-btn" onclick="animRuler('long')">ä¼¸å‡ºé•¿ (ä½éŸ³)</button>
                <button class="ctrl-btn" onclick="animRuler('short')">ä¼¸å‡ºçŸ­ (é«˜éŸ³)</button>
                <svg width="100%" height="140" viewBox="0 0 300 140" id="svg-ruler">
                    <!-- æ¡Œå­ -->
                    <rect x="0" y="80" width="100" height="60" fill="#8D6E63"/>
                    <text x="20" y="110" fill="white" font-size="12">æ¡Œé¢</text>
                    <!-- æ‰‹ -->
                    <ellipse cx="90" cy="75" rx="15" ry="10" fill="#FFCCBC" stroke="#E64A19"/>
                    <!-- é’¢å°º -->
                    <path id="ruler-blade" d="M100,80 L250,80" stroke="#607D8B" stroke-width="8" stroke-linecap="round"/>
                    <!-- æ–‡å­—æŒ‡ç¤º -->
                    <text id="vib-text" x="150" y="50" text-anchor="middle" font-size="12" fill="#555">ç‚¹å‡»æŒ‰é’®å¼€å§‹å®éªŒ</text>
                </svg>
            </div>

            <!-- æŸ±å½¢å›¾æ¼”ç¤º -->
            <div class="svg-stage">
                <p style="font-size:0.9em; margin:0;">éŸ³é«˜å˜åŒ–æŸ±å½¢å›¾</p>
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- åæ ‡è½´ -->
                    <line x1="40" y1="100" x2="280" y2="100" stroke="#333" stroke-width="2"/>
                    <line x1="40" y1="100" x2="40" y2="20" stroke="#333" stroke-width="2"/>
                    <text x="10" y="60" font-size="10" transform="rotate(-90, 10, 60)">éŸ³é«˜</text>
                    <text x="150" y="115" font-size="10">é’¢å°ºä¼¸å‡ºæ¡Œé¢çš„é•¿åº¦</text>

                    <!-- æŸ±å­ -->
                    <g>
                        <rect x="60" y="30" width="30" height="70" fill="#FF5252"><animate attributeName="height" from="0" to="70" dur="1s" fill="freeze"/><animate attributeName="y" from="100" to="30" dur="1s" fill="freeze"/></rect>
                        <text x="65" y="112" font-size="10">8cm</text>
                        <text x="65" y="25" font-size="10" fill="#FF5252">é«˜</text>
                    </g>
                    <g>
                        <rect x="120" y="50" width="30" height="50" fill="#FF9800"><animate attributeName="height" from="0" to="50" dur="1s" fill="freeze"/><animate attributeName="y" from="100" to="50" dur="1s" fill="freeze"/></rect>
                        <text x="125" y="112" font-size="10">12cm</text>
                    </g>
                    <g>
                        <rect x="180" y="70" width="30" height="30" fill="#2196F3"><animate attributeName="height" from="0" to="30" dur="1s" fill="freeze"/><animate attributeName="y" from="100" to="70" dur="1s" fill="freeze"/></rect>
                        <text x="185" y="112" font-size="10">16cm</text>
                    </g>
                    <g>
                        <rect x="240" y="85" width="30" height="15" fill="#3F51B5"><animate attributeName="height" from="0" to="15" dur="1s" fill="freeze"/><animate attributeName="y" from="100" to="85" dur="1s" fill="freeze"/></rect>
                        <text x="245" y="112" font-size="10">20cm</text>
                        <text x="245" y="80" font-size="10" fill="#3F51B5">ä½</text>
                    </g>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 5 & 6: é•¿çŸ­ç²—ç»† -->
        <div class="knowledge-box">
            <h3>3. ç‰©ä½“çš„é•¿çŸ­ä¸ç²—ç»†</h3>
            <div class="k-point">ğŸ”¨ <strong>é“é’‰(é•¿çŸ­)</strong>ï¼š
                <br>é•¿ â†’ æŒ¯åŠ¨æ…¢ â†’ <span class="low-mark">ä½éŸ³</span>
                <br>çŸ­ â†’ æŒ¯åŠ¨å¿« â†’ <span class="high-mark">é«˜éŸ³</span>
            </div>
            <div class="k-point">â­• <strong>é“ç®¡(ç²—ç»†)</strong>ï¼š
                <br>ç²— â†’ æŒ¯åŠ¨æ…¢ â†’ <span class="low-mark">ä½éŸ³</span>
                <br>ç»† â†’ æŒ¯åŠ¨å¿« â†’ <span class="high-mark">é«˜éŸ³</span>
            </div>
            
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- é•¿çŸ­å¯¹æ¯” -->
                    <g transform="translate(20, 10)">
                        <rect x="0" y="0" width="10" height="80" fill="#757575"/>
                        <text x="15" y="45" font-size="12" fill="#3F51B5">é•¿(ä½)</text>
                        <path d="M5,40 L5,40" stroke="#3F51B5" stroke-width="2">
                            <animate attributeName="d" values="M5,0 L5,80; M0,0 L0,80; M10,0 L10,80; M5,0 L5,80" dur="0.5s" repeatCount="indefinite"/>
                        </path>
                    </g>
                    <g transform="translate(80, 40)">
                        <rect x="0" y="0" width="10" height="50" fill="#757575"/>
                        <text x="15" y="30" font-size="12" fill="#FF5252">çŸ­(é«˜)</text>
                        <path d="M5,25 L5,25" stroke="#FF5252" stroke-width="2">
                             <animate attributeName="d" values="M5,0 L5,50; M0,0 L0,50; M10,0 L10,50; M5,0 L5,50" dur="0.1s" repeatCount="indefinite"/>
                        </path>
                    </g>

                    <!-- ç²—ç»†å¯¹æ¯” -->
                    <g transform="translate(160, 20)">
                        <rect x="0" y="0" width="30" height="60" fill="#BDBDBD" stroke="#757575"/>
                        <text x="35" y="35" font-size="12" fill="#3F51B5">ç²—(ä½)</text>
                         <animate attributeName="opacity" values="1;0.7;1" dur="0.5s" repeatCount="indefinite"/>
                    </g>
                    <g transform="translate(240, 20)">
                        <rect x="0" y="0" width="10" height="60" fill="#BDBDBD" stroke="#757575"/>
                        <text x="15" y="35" font-size="12" fill="#FF5252">ç»†(é«˜)</text>
                        <animate attributeName="opacity" values="1;0.5;1" dur="0.1s" repeatCount="indefinite"/>
                    </g>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#0097A7;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- SVG åŠ¨ç”»é€»è¾‘ ---
        
        function animRuler(type) {
            const blade = document.getElementById('ruler-blade');
            const text = document.getElementById('vib-text');
            
            // æ¸…é™¤æ—§åŠ¨ç”»
            while(blade.firstChild) blade.removeChild(blade.firstChild);
            
            const anim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            anim.setAttribute("attributeName", "d");
            anim.setAttribute("repeatCount", "indefinite");
            
            if (type === 'long') {
                // é•¿ï¼šä¼¸å‡ºåˆ°250ï¼ŒæŒ¯åŠ¨æ…¢(0.5s)ï¼Œå¹…åº¦å¤§
                anim.setAttribute("values", "M100,80 Q175,40 250,40; M100,80 Q175,120 250,120; M100,80 L250,80");
                anim.setAttribute("dur", "0.5s");
                text.innerHTML = "ä¼¸å‡ºé•¿ â†’ æŒ¯åŠ¨æ…¢ â†’ å£°éŸ³ä½";
                text.setAttribute("fill", "#3F51B5");
            } else {
                // çŸ­ï¼šä¼¸å‡ºåˆ°160ï¼ŒæŒ¯åŠ¨å¿«(0.1s)ï¼Œå¹…åº¦å°
                anim.setAttribute("values", "M100,80 Q130,60 160,60; M100,80 Q130,100 160,100; M100,80 L160,80");
                anim.setAttribute("dur", "0.1s");
                text.innerHTML = "ä¼¸å‡ºçŸ­ â†’ æŒ¯åŠ¨å¿« â†’ å£°éŸ³é«˜";
                text.setAttribute("fill", "#FF5252");
            }
            
            blade.appendChild(anim);
            anim.beginElement();
        }

        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. éŸ³é«˜ä¸æŒ¯åŠ¨å¿«æ…¢ (7é¢˜)
            { type: 'mcq', q: 'å£°éŸ³çš„é«˜ä½å¯ä»¥ç”¨____æ¥æè¿°ã€‚', opts: ['éŸ³é‡', 'éŸ³é«˜', 'éŸ³è‰²'], a: 1, exp: 'é«˜ä½ç”¨éŸ³é«˜æè¿°ã€‚' },
            { type: 'mcq', q: 'ç‰©ä½“æŒ¯åŠ¨å¾—è¶Šå¿«ï¼Œå‘å‡ºçš„å£°éŸ³å°±____ã€‚', opts: ['è¶Šä½', 'è¶Šé«˜', 'è¶Šå¼º'], a: 1, exp: 'æŒ¯åŠ¨å¿«=å£°éŸ³é«˜ã€‚' },
            { type: 'mcq', q: 'ç‰©ä½“æŒ¯åŠ¨å¾—è¶Šæ…¢ï¼Œå‘å‡ºçš„å£°éŸ³å°±____ã€‚', opts: ['è¶Šä½', 'è¶Šé«˜', 'è¶Šå¼±'], a: 0, exp: 'æŒ¯åŠ¨æ…¢=å£°éŸ³ä½ã€‚' },
            { type: 'fill', q: 'å£°éŸ³çš„é«˜ä½å’Œç‰©ä½“æŒ¯åŠ¨çš„____æœ‰å…³ã€‚', a: ['å¿«æ…¢'], exp: 'å¿«æ…¢å†³å®šé«˜ä½ã€‚' },
            { type: 'matching', q: 'è¯·è¿çº¿è§„å¾‹ï¼š', pairs: [{l:'æŒ¯åŠ¨å¿«', r:'å£°éŸ³é«˜'}, {l:'æŒ¯åŠ¨æ…¢', r:'å£°éŸ³ä½'}, {l:'æŒ¯å¹…å¤§', r:'å£°éŸ³å¼º'}], exp: 'åŒºåˆ†éŸ³é«˜å’ŒéŸ³é‡ã€‚' },
            { type: 'mcq', q: 'èšŠå­çš„å«å£°è™½ç„¶å¼±ï¼Œä½†æ˜¯å¾ˆ____ï¼Œè¯´æ˜å®ƒç¿…è†€æŒ¯åŠ¨å¾ˆå¿«ã€‚', opts: ['é«˜', 'ä½'], a: 0, exp: 'èšŠå­å£°éŸ³é«˜ï¼ˆå°–ï¼‰ã€‚' },
            { type: 'mcq', q: 'ç‰›çš„å«å£°â€œå“â€å¾ˆç²—åšï¼Œè¯´æ˜å®ƒå£°å¸¦æŒ¯åŠ¨æ¯”è¾ƒ____ã€‚', opts: ['å¿«', 'æ…¢'], a: 1, exp: 'å£°éŸ³ä½æ²‰=æŒ¯åŠ¨æ…¢ã€‚' },

            // 2. é’¢å°ºå®éªŒ (10é¢˜)
            { type: 'mcq', q: 'ç ”ç©¶é’¢å°ºéŸ³é«˜å˜åŒ–æ—¶ï¼Œæˆ‘ä»¬è¦æ”¹å˜çš„æ˜¯ï¼Ÿ', opts: ['æ‹¨åŠ¨çš„åŠ›é‡', 'é’¢å°ºä¼¸å‡ºæ¡Œé¢çš„é•¿åº¦', 'é’¢å°ºçš„å®½åº¦'], a: 1, exp: 'æ”¹å˜é•¿åº¦æ¥æ”¹å˜æŒ¯åŠ¨å¿«æ…¢ã€‚' },
            { type: 'mcq', q: 'å®éªŒä¸­ï¼Œæ‹¨åŠ¨é’¢å°ºçš„åŠ›åº¦åº”è¯¥ï¼Ÿ', opts: ['ä¿æŒç›¸åŒ', 'å¿½å¤§å¿½å°', 'è¶Šæ¥è¶Šå¤§'], a: 0, exp: 'æ§åˆ¶å˜é‡æ³•ï¼ŒåŠ›åº¦è¦ä¸€è‡´ã€‚' },
            { type: 'mcq', q: 'é’¢å°ºä¼¸å‡ºæ¡Œé¢è¶Šé•¿ï¼ŒæŒ¯åŠ¨è¶Š____ï¼Œå£°éŸ³è¶Š____ã€‚', opts: ['å¿«ï¼Œé«˜', 'æ…¢ï¼Œä½', 'æ…¢ï¼Œé«˜'], a: 1, exp: 'é•¿=æ…¢=ä½ã€‚' },
            { type: 'mcq', q: 'é’¢å°ºä¼¸å‡ºæ¡Œé¢è¶ŠçŸ­ï¼ŒæŒ¯åŠ¨è¶Š____ï¼Œå£°éŸ³è¶Š____ã€‚', opts: ['å¿«ï¼Œé«˜', 'æ…¢ï¼Œä½', 'å¿«ï¼Œä½'], a: 0, exp: 'çŸ­=å¿«=é«˜ã€‚' },
            { type: 'fill', q: 'æˆ‘ä»¬å¯ä»¥ç”¨____å›¾è¡¨ç¤ºå£°éŸ³é«˜ä½ä¸é’¢å°ºé•¿åº¦çš„å…³ç³»ã€‚', a: ['æŸ±å½¢', 'æŸ±çŠ¶'], exp: 'æŸ±å½¢å›¾ç›´è§‚å±•ç¤ºæ•°æ®ã€‚' },
            { type: 'mcq', q: 'ä¸ºäº†è®©å®éªŒç»“æœæ›´å‡†ç¡®ï¼Œæ¯æ¬¡å®éªŒè¦é‡å¤____æ¬¡ã€‚', opts: ['1', '3', '100'], a: 1, exp: 'é‡å¤3æ¬¡é¿å…å¶ç„¶æ€§ã€‚' },
            { type: 'matching', q: 'è¿çº¿é’¢å°ºå®éªŒç°è±¡ï¼š', pairs: [{l:'ä¼¸å‡º8cm', r:'å£°éŸ³æœ€é«˜'}, {l:'ä¼¸å‡º12cm', r:'å£°éŸ³è¾ƒé«˜'}, {l:'ä¼¸å‡º20cm', r:'å£°éŸ³æœ€ä½'}], exp: 'è¶ŠçŸ­è¶Šé«˜ã€‚' },
            { type: 'mcq', q: 'åœ¨æŸ±å½¢å›¾ä¸­ï¼Œéšç€é’¢å°ºé•¿åº¦å˜é•¿ï¼Œä»£è¡¨éŸ³é«˜çš„æŸ±å­é«˜åº¦åº”è¯¥ï¼Ÿ', opts: ['å˜é«˜', 'å˜ä½', 'ä¸å˜'], a: 1, exp: 'é•¿åº¦å¢åŠ ï¼ŒéŸ³é«˜é™ä½ã€‚' },
            { type: 'mcq', q: 'å¦‚æœæƒ³è®©é’¢å°ºå‘å‡ºæœ€é«˜çš„å£°éŸ³ï¼Œåº”è¯¥æŠŠä¼¸å‡ºéƒ¨åˆ†è°ƒåˆ°ï¼Ÿ', opts: ['5cm', '15cm', '25cm'], a: 0, exp: 'æœ€çŸ­çš„5cmå£°éŸ³æœ€é«˜ã€‚' },
            { type: 'mcq', q: 'ç”¨æ‰‹å‹ä½é’¢å°ºæ˜¯ä¸ºäº†ï¼Ÿ', opts: ['æ”¹å˜éŸ³è‰²', 'é˜²æ­¢å°ºå­æ‰è½æˆ–äº§ç”Ÿæ‚éŸ³', 'å¢åŠ éš¾åº¦'], a: 1, exp: 'å›ºå®šå°ºå­ã€‚' },

            // 3. ç‰©ä½“çš„é•¿çŸ­ä¸å£°éŸ³ (6é¢˜)
            { type: 'mcq', q: 'æ•²å‡»ç²—ç»†ç›¸åŒã€é•¿çŸ­ä¸åŒçš„é“é’‰ï¼Œé•¿é“é’‰å‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['é«˜', 'ä½', 'å¼º'], a: 1, exp: 'é•¿=æ…¢=ä½ã€‚' },
            { type: 'mcq', q: 'æ•²å‡»ç²—ç»†ç›¸åŒã€é•¿çŸ­ä¸åŒçš„é“é’‰ï¼ŒçŸ­é“é’‰å‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['é«˜', 'ä½', 'å¼±'], a: 0, exp: 'çŸ­=å¿«=é«˜ã€‚' },
            { type: 'matching', q: 'è¿çº¿ç‰©ä½“é•¿çŸ­ä¸éŸ³é«˜ï¼š', pairs: [{l:'é•¿ç‰©ä½“', r:'å£°éŸ³ä½'}, {l:'çŸ­ç‰©ä½“', r:'å£°éŸ³é«˜'}, {l:'ä¸­ç­‰ç‰©ä½“', r:'å£°éŸ³ä¸­ç­‰'}], exp: 'æ™®éè§„å¾‹ã€‚' },
            { type: 'mcq', q: 'ç¼–é’Ÿé‡Œä¸ªå¤´è¶Šå¤§çš„é’Ÿï¼Œæ•²å‡»æ—¶å‘å‡ºçš„å£°éŸ³è¶Šï¼Ÿ', opts: ['é«˜', 'ä½'], a: 1, exp: 'å¤§/é•¿ç‰©ä½“å£°éŸ³ä½ã€‚' },
            { type: 'mcq', q: 'å£ç´é‡Œé•¿çš„ç°§ç‰‡å‘å‡ºçš„å£°éŸ³æ¯”çŸ­ç°§ç‰‡ï¼Ÿ', opts: ['é«˜', 'ä½'], a: 1, exp: 'é•¿=ä½ã€‚' },
            { type: 'fill', q: 'å£°éŸ³çš„é«˜ä½å’Œå‘å£°ç‰©ä½“çš„____æœ‰å…³ã€‚', a: ['é•¿çŸ­', 'é•¿åº¦'], exp: 'é•¿åº¦å½±å“é¢‘ç‡ã€‚' },

            // 4. ç‰©ä½“çš„ç²—ç»†ä¸å£°éŸ³ (6é¢˜)
            { type: 'mcq', q: 'æ•²å‡»é•¿åº¦ç›¸åŒã€ç²—ç»†ä¸åŒçš„é“ç®¡ï¼Œç²—é“ç®¡å‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['é«˜', 'ä½'], a: 1, exp: 'ç²—=æ…¢=ä½ã€‚' },
            { type: 'mcq', q: 'æ•²å‡»é•¿åº¦ç›¸åŒã€ç²—ç»†ä¸åŒçš„é“ç®¡ï¼Œç»†é“ç®¡å‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['é«˜', 'ä½'], a: 0, exp: 'ç»†=å¿«=é«˜ã€‚' },
            { type: 'fill', q: 'å£°éŸ³çš„é«˜ä½å’Œå‘å£°ç‰©ä½“çš„____æœ‰å…³ã€‚', a: ['ç²—ç»†'], exp: 'ç²—ç»†å½±å“é¢‘ç‡ã€‚' },
            { type: 'mcq', q: 'å‰ä»–ä¸Šæ¯”è¾ƒç²—çš„å¼¦ï¼Œå¼¹æ‹¨æ—¶å‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['é«˜', 'ä½'], a: 1, exp: 'ç²—å¼¦ä½éŸ³ã€‚' },
            { type: 'matching', q: 'è¿çº¿ç‰©ä½“ç²—ç»†ä¸éŸ³é«˜ï¼š', pairs: [{l:'ç²—ç‰©ä½“', r:'å£°éŸ³ä½'}, {l:'ç»†ç‰©ä½“', r:'å£°éŸ³é«˜'}], exp: 'ç²—ç»†è§„å¾‹ã€‚' },
            { type: 'mcq', q: 'å°æç´çš„å››æ ¹å¼¦ç²—ç»†ä¸åŒï¼Œæœ€ç»†çš„é‚£æ ¹å¼¦å£°éŸ³æœ€ï¼Ÿ', opts: ['é«˜', 'ä½'], a: 0, exp: 'è¶Šç»†è¶Šé«˜ã€‚' },

            // 5. ç»¼åˆåº”ç”¨ (6é¢˜)
            { type: 'mcq', q: 'è¦ä½¿å°æç´å‘å‡ºçš„å£°éŸ³å˜é«˜ï¼Œå¯ä»¥ï¼Ÿ', opts: ['æŠŠå¼¦æ‹§æ¾', 'æŠŠå¼¦æ‹§ç´§', 'æ¢æ ¹ç²—å¼¦'], a: 1, exp: 'æ‹§ç´§=å˜ç´§=æŒ¯åŠ¨å¿«=é«˜éŸ³ã€‚' },
            { type: 'mcq', q: 'å‘æš–æ°´ç“¶å€’æ°´æ—¶ï¼Œéšç€æ°´è¶Šæ¥è¶Šå¤šï¼ˆç©ºæ°”æŸ±å˜çŸ­ï¼‰ï¼Œå£°éŸ³ä¼šï¼Ÿ', opts: ['å˜é«˜', 'å˜ä½', 'ä¸å˜'], a: 0, exp: 'ç©ºæ°”æŸ±å˜çŸ­=æŒ¯åŠ¨å¿«=å£°éŸ³å˜é«˜ã€‚' },
            { type: 'mcq', q: 'å¹å¥ç«–ç¬›æ—¶ï¼ŒæŒ‰ä½çš„å­”è¶Šå¤šï¼ˆç©ºæ°”æŸ±è¶Šé•¿ï¼‰ï¼Œå£°éŸ³è¶Šï¼Ÿ', opts: ['é«˜', 'ä½'], a: 1, exp: 'ç©ºæ°”æŸ±é•¿=ä½éŸ³ã€‚' },
            { type: 'mcq', q: 'åˆ¶ä½œâ€œæ°´æ¯ç´â€æ—¶ï¼Œæ°´è¶Šå¤šçš„æ¯å­æ•²å‡»æ—¶å£°éŸ³è¶Šï¼Ÿ', opts: ['é«˜', 'ä½'], a: 1, exp: 'æ•²å‡»æ—¶æ˜¯æ¯å­+æ°´æŒ¯åŠ¨ï¼Œæ°´å¤š=é‡/é•¿=æ…¢=ä½ã€‚' },
            { type: 'mcq', q: 'è¶ŠçŸ­ã€è¶Šå°ã€è¶Šå°‘ã€è¶Šç»†çš„ç‰©ä½“ï¼ŒæŒ¯åŠ¨è¶Š____ï¼Œå£°éŸ³è¶Š____ã€‚', opts: ['å¿«ï¼Œé«˜', 'æ…¢ï¼Œä½', 'å¿«ï¼Œä½'], a: 0, exp: 'æ€»ç»“æ€§è§„å¾‹ï¼šå°/çŸ­/ç»†/ç´§ = é«˜ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å…³äºå£°éŸ³é«˜ä½çš„è¯´æ³•ï¼Œé”™è¯¯çš„æ˜¯ï¼Ÿ', opts: ['éŸ³é«˜ç”±æŒ¯åŠ¨å¿«æ…¢å†³å®š', 'ç‰©ä½“è¶Šé•¿å£°éŸ³è¶Šé«˜', 'ç‰©ä½“è¶Šç´§å£°éŸ³è¶Šé«˜'], a: 1, exp: 'ç‰©ä½“è¶Šé•¿å£°éŸ³åº”è¯¥è¶Šä½ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };
        
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(880, now); osc.frequency.exponentialRampToValueAtTime(1760, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'square'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(600, now); gain.gain.setValueAtTime(0.02, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'è¿çº¿é¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'matching') {
                renderMatching(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderMatching(card, qData) {
            const container = document.createElement('div');
            const leftCol = document.createElement('div'); leftCol.className = 'match-col';
            const rightCol = document.createElement('div'); rightCol.className = 'match-col';
            const row = document.createElement('div'); row.className = 'match-row';

            let rItems = [...qData.pairs].sort(()=>Math.random()-0.5);
            matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };

            qData.pairs.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.l; btn.dataset.val = p.l; btn.dataset.side = 'left';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                leftCol.appendChild(btn);
            });
            rItems.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.r; btn.dataset.val = p.r; btn.dataset.side = 'right';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                rightCol.appendChild(btn);
            });

            row.appendChild(leftCol); row.appendChild(rightCol);
            card.appendChild(row);
        }

        function handleMatchClick(el, totalPairs) {
            playSound('click');
            const side = el.dataset.side;
            el.parentElement.querySelectorAll('.match-btn').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            
            if (side === 'left') matchState.left = el;
            else matchState.right = el;

            if (matchState.left && matchState.right) {
                matchState.userPairs.push({l: matchState.left.dataset.val, r: matchState.right.dataset.val});
                matchState.left.classList.remove('selected'); matchState.left.classList.add('matched');
                matchState.right.classList.remove('selected'); matchState.right.classList.add('matched');
                matchState.left = null; matchState.right = null;
                matchState.matchedCount++;
                if (matchState.matchedCount === totalPairs) {
                    document.getElementById('nextBtn').disabled = false;
                    document.getElementById('nextBtn').style.opacity = 1;
                }
            }
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'matching') {
                let correctCount = 0;
                matchState.userPairs.forEach(up => {
                    if (qData.pairs.some(p => p.l === up.l && p.r === up.r)) correctCount++;
                });
                if (correctCount === qData.pairs.length) isCorrect = true;
                myAns = "é…å¯¹é”™è¯¯";
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯é«˜éŸ³æ­Œå”±å®¶ï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼å¯¹éŸ³é«˜æŒæ¡å¾—å¾ˆæ£’ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼è®°ä½ï¼šçŸ­ç´§ç»†å¿«é«˜ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html></textarea>
<textarea id="u1-78" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬ä¸ƒã€å…«è¯¾ï¼šå¼¦ä¸å°ä¹å™¨ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #FFF3E0; /* æ¸©æš–æœ¨è‰²èƒŒæ™¯ï¼Œå‘¼åº”ä¹å™¨ */
            --card-bg: #FFFFFF;
            --primary: #FF5722; /* çƒ­æƒ…æ©™ */
            --high-tone: #E91E63; /* é«˜éŸ³è‰² */
            --low-tone: #3F51B5; /* ä½éŸ³è‰² */
            --text: #3E2723;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#FFE0B2 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #FFCC80;
            overflow: hidden;
        }

        h1 { color: #E65100; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #795548; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: slideUp 0.4s ease-out; }
        .active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #FFF8E1;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #FF9800;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #EF6C00; border-bottom: 1px dashed #FFE0B2; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #C2185B; font-weight: bold; background: #F8BBD0; padding: 0 4px; border-radius: 3px; }
        .high-mark { color: var(--high-tone); font-weight: bold; }
        .low-mark { color: var(--low-tone); font-weight: bold; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #FFAB91;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
        }
        .svg-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        .svg-caption { font-size: 0.9em; color: #8D6E63; margin-top: 5px; font-style: italic; }

        .ctrl-btn {
            background: #FF5722; color: white; border: none; padding: 6px 15px; 
            border-radius: 15px; margin: 3px; cursor: pointer; font-size: 0.85em;
            box-shadow: 0 3px 0 #E64A19; transition: 0.1s;
        }
        .ctrl-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #E64A19; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #E64A19;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #E64A19; }
        .btn-next { background: #FFB74D; box-shadow: 0 4px 0 #F57C00; color: #3E2723; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #FF5722; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #FFCCBC; color: #BF360C; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #FFCCBC; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #FFAB91; border-color: #FF5722; font-weight: bold; color: #BF360C; }

        .fill-input { border: none; border-bottom: 3px solid #FF5722; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #E64A19; border-radius: 0; }

        /* è¿çº¿é¢˜ */
        .match-row { display: flex; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
        .match-col { width: 48%; display: flex; flex-direction: column; gap: 10px; }
        .match-btn {
            padding: 10px; background: #FFF; border: 2px solid #BCAAA4; border-radius: 8px;
            text-align: center; cursor: pointer; font-size: 0.9em;
        }
        .match-btn.selected { background: #FFF59D; border-color: #FBC02D; transform: scale(1.05); }
        .match-btn.matched { background: #C8E6C9; border-color: #43A047; opacity: 0.6; pointer-events: none; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF5722; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ¸ çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬ä¸ƒè¯¾ï¼šå¼¦çš„éŸ³é«˜ & ç¬¬å…«è¯¾ï¼šåˆ¶ä½œå°ä¹å™¨</p>

        <!-- çŸ¥è¯†ç‚¹ 1: å¼¦ä¹å™¨ -->
        <div class="knowledge-box">
            <h3>1. å¼¦ä¹å™¨çš„ç§˜å¯†</h3>
            <div class="k-point">ğŸ» <strong>ä¹å™¨</strong>ï¼šäºŒèƒ¡ã€å°æç´ã€å‰ä»–ï¼ˆé <span class="highlight">å¼¦æŒ¯åŠ¨</span>å‘å£°ï¼‰ã€‚</div>
            <div class="svg-stage">
                <div class="svg-grid">
                    <svg width="100%" height="80" viewBox="0 0 100 80">
                        <text x="50" y="70" text-anchor="middle" font-size="10">å‰ä»–</text>
                        <path d="M30,10 Q20,40 30,70 L70,70 Q80,40 70,10 L50,5 Z" fill="#8D6E63" stroke="#5D4037"/>
                        <line x1="45" y1="10" x2="45" y2="70" stroke="#FFF" stroke-width="1"/>
                        <line x1="55" y1="10" x2="55" y2="70" stroke="#FFF" stroke-width="1"/>
                    </svg>
                    <svg width="100%" height="80" viewBox="0 0 100 80">
                        <text x="50" y="70" text-anchor="middle" font-size="10">äºŒèƒ¡</text>
                        <rect x="45" y="10" width="10" height="50" fill="#3E2723"/>
                        <path d="M35,50 L65,50 L65,65 L35,65 Z" fill="#5D4037"/>
                        <line x1="50" y1="10" x2="50" y2="50" stroke="#FFF"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 2-5: å¼¦çš„å˜åŒ–è§„å¾‹ (æ ¸å¿ƒé‡ç‚¹) -->
        <div class="knowledge-box">
            <h3>2. æ€æ ·è®©å¼¦å‘å‡ºé«˜ä½ä¸åŒçš„å£°éŸ³ï¼Ÿ</h3>
            <p style="font-size:0.9em; color:#777;">ç‚¹å‡»æŒ‰é’®è§‚å¯Ÿå¼¦çš„æŒ¯åŠ¨ï¼</p>
            
            <div class="k-point">ğŸ“ <strong>é•¿çŸ­</strong>ï¼šæ‰‹æŒ‡æŒ‰å‹æ”¹å˜æŒ¯åŠ¨é•¿åº¦ã€‚
                <br>æŒ¯åŠ¨éƒ¨åˆ†<span class="low-mark">é•¿</span> â†’ æ…¢ â†’ <span class="low-mark">ä½éŸ³</span>
                <br>æŒ¯åŠ¨éƒ¨åˆ†<span class="high-mark">çŸ­</span> â†’ å¿« â†’ <span class="high-mark">é«˜éŸ³</span>
            </div>
            <div class="svg-stage">
                <button class="ctrl-btn" onclick="animString('long')">é•¿å¼¦(ä½)</button>
                <button class="ctrl-btn" onclick="animString('short')">çŸ­å¼¦(é«˜)</button>
                <svg width="100%" height="60" viewBox="0 0 300 60" id="svg-string-len">
                    <line x1="20" y1="30" x2="280" y2="30" stroke="#9E9E9E" stroke-width="2"/>
                    <!-- å¼¦ (åŠ¨æ€) -->
                    <path id="str-len-path" d="M20,30 L280,30" stroke="#FF5722" stroke-width="3" fill="none"/>
                    <!-- æ‰‹æŒ‡ -->
                    <circle id="finger" cx="-20" cy="30" r="8" fill="#795548" opacity="0"/>
                    <text x="20" y="55" font-size="10">ç´æ•</text>
                    <text x="280" y="55" font-size="10">ç´ç </text>
                </svg>
            </div>

            <div class="k-point">ğŸ”§ <strong>æ¾ç´§</strong>ï¼šè°ƒèŠ‚æ—‹é’®ã€‚
                <br>å¼¦è¶Š<span class="low-mark">æ¾</span> â†’ æ…¢ â†’ <span class="low-mark">ä½éŸ³</span>
                <br>å¼¦è¶Š<span class="high-mark">ç´§</span> â†’ å¿« â†’ <span class="high-mark">é«˜éŸ³</span>
            </div>
            <div class="svg-stage">
                <button class="ctrl-btn" onclick="animStringTight('loose')">æ¾å¼¦(ä½)</button>
                <button class="ctrl-btn" onclick="animStringTight('tight')">ç´§å¼¦(é«˜)</button>
                <svg width="100%" height="50" viewBox="0 0 300 50">
                    <path id="str-tight-path" d="M20,25 L280,25" stroke="#3F51B5" stroke-width="3" fill="none"/>
                    <text id="tight-label" x="150" y="45" text-anchor="middle" font-size="10">ç‚¹å‡»æŒ‰é’®</text>
                </svg>
            </div>

            <div class="k-point">ğŸ§¶ <strong>ç²—ç»†</strong>ï¼šä¸åŒç²—ç»†çš„ç´å¼¦ã€‚
                <br>å¼¦è¶Š<span class="low-mark">ç²—</span> â†’ æ…¢ â†’ <span class="low-mark">ä½éŸ³</span>
                <br>å¼¦è¶Š<span class="high-mark">ç»†</span> â†’ å¿« â†’ <span class="high-mark">é«˜éŸ³</span>
            </div>
            <div class="svg-stage">
                <div class="svg-grid">
                    <div>
                        <svg width="100%" height="40" viewBox="0 0 100 40">
                            <path d="M10,20 Q50,25 90,20 T90,20" stroke="#5D4037" stroke-width="6" fill="none">
                                <animate attributeName="d" values="M10,20 Q50,25 90,20; M10,20 Q50,15 90,20; M10,20 Q50,25 90,20" dur="0.5s" repeatCount="indefinite"/>
                            </path>
                            <text x="50" y="38" text-anchor="middle" font-size="10" fill="#3F51B5">ç²—å¼¦(æ…¢/ä½)</text>
                        </svg>
                    </div>
                    <div>
                        <svg width="100%" height="40" viewBox="0 0 100 40">
                            <path d="M10,20 Q50,25 90,20 T90,20" stroke="#FF5722" stroke-width="2" fill="none">
                                <animate attributeName="d" values="M10,20 Q50,25 90,20; M10,20 Q50,15 90,20; M10,20 Q50,25 90,20" dur="0.1s" repeatCount="indefinite"/>
                            </path>
                            <text x="50" y="38" text-anchor="middle" font-size="10" fill="#E91E63">ç»†å¼¦(å¿«/é«˜)</text>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ å…«: å°ä¹å™¨ -->
        <div class="knowledge-box">
            <h3>3. åˆ¶ä½œå°ä¹å™¨ (ç®¡ä¹å™¨ä¸æ‰“å‡»ä¹å™¨)</h3>
            <div class="k-point">ğŸ’¨ <strong>ç®¡ä¹å™¨</strong>ï¼šæ’ç®«ã€ç¬›å­ï¼ˆé <span class="highlight">ç©ºæ°”æŸ±æŒ¯åŠ¨</span>ï¼‰ã€‚</div>
            <div class="k-point">ğŸ“ <strong>æ’ç®«è§„å¾‹</strong>ï¼š
                <br>ç®¡å­<span class="low-mark">é•¿</span> â†’ ç©ºæ°”æŸ±é•¿ â†’ <span class="low-mark">ä½éŸ³</span>
                <br>ç®¡å­<span class="high-mark">çŸ­</span> â†’ ç©ºæ°”æŸ±çŸ­ â†’ <span class="high-mark">é«˜éŸ³</span>
            </div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 200 100">
                    <!-- é•¿ç®¡ -->
                    <rect x="40" y="10" width="20" height="80" fill="#FFF9C4" stroke="#FBC02D"/>
                    <text x="50" y="50" text-anchor="middle" font-size="10">ç©ºæ°”æŸ±é•¿</text>
                    <text x="50" y="98" text-anchor="middle" font-size="10" fill="#3F51B5">ä½éŸ³</text>
                    <!-- çŸ­ç®¡ -->
                    <rect x="140" y="10" width="20" height="40" fill="#FFF9C4" stroke="#FBC02D"/>
                    <text x="150" y="30" text-anchor="middle" font-size="10">çŸ­</text>
                    <text x="150" y="60" text-anchor="middle" font-size="10" fill="#E91E63">é«˜éŸ³</text>
                    <!-- å¹æ°” -->
                    <path d="M30,5 Q50,0 70,5" fill="none" stroke="#aaa" stroke-dasharray="2"/>
                    <text x="100" y="8" text-anchor="middle" font-size="10">å¹æ°”</text>
                </svg>
            </div>

            <div class="k-point">ğŸ¥› <strong>æ°´ç“¶ç´ (é‡ç‚¹è¾¨æ)</strong>ï¼š
                <br>ğŸ”¨ <strong>æ•²å‡»</strong>ï¼ˆç“¶+æ°´æŒ¯åŠ¨ï¼‰ï¼šæ°´<span class="low-mark">å¤š</span>(é‡) â†’ <span class="low-mark">ä½</span>ï¼›æ°´<span class="high-mark">å°‘</span> â†’ <span class="high-mark">é«˜</span>
                <br>ğŸŒ¬ï¸ <strong>å¹å¥</strong>ï¼ˆç©ºæ°”æŸ±æŒ¯åŠ¨ï¼‰ï¼šæ°´å¤š(ç©º<span class="high-mark">çŸ­</span>) â†’ <span class="high-mark">é«˜</span>ï¼›æ°´å°‘(ç©º<span class="low-mark">é•¿</span>) â†’ <span class="low-mark">ä½</span>
            </div>
            <div class="svg-stage">
                <svg width="100%" height="140" viewBox="0 0 300 140">
                    <!-- ç“¶1ï¼šæ°´å°‘ -->
                    <g transform="translate(50,20)">
                        <rect x="0" y="0" width="40" height="100" fill="#E3F2FD" stroke="#2196F3"/>
                        <rect x="0" y="70" width="40" height="30" fill="#2196F3"/> <!-- æ°´å°‘ -->
                        <text x="20" y="120" text-anchor="middle" font-size="10" fill="#E91E63">æ•²: é«˜éŸ³</text>
                        <text x="20" y="135" text-anchor="middle" font-size="10" fill="#3F51B5">å¹: ä½éŸ³</text>
                        <text x="20" y="50" text-anchor="middle" font-size="10" fill="#aaa">ç©ºæ°”é•¿</text>
                    </g>
                    <!-- ç“¶2ï¼šæ°´å¤š -->
                    <g transform="translate(210,20)">
                        <rect x="0" y="0" width="40" height="100" fill="#E3F2FD" stroke="#2196F3"/>
                        <rect x="0" y="20" width="40" height="80" fill="#2196F3"/> <!-- æ°´å¤š -->
                        <text x="20" y="120" text-anchor="middle" font-size="10" fill="#3F51B5">æ•²: ä½éŸ³</text>
                        <text x="20" y="135" text-anchor="middle" font-size="10" fill="#E91E63">å¹: é«˜éŸ³</text>
                         <text x="20" y="15" text-anchor="middle" font-size="10" fill="#aaa">ç©ºæ°”çŸ­</text>
                    </g>
                </svg>
            </div>

            <div class="k-point">ğŸµ <strong>éŸ³è°ƒç­‰çº§</strong>ï¼šä½ã€è¾ƒä½ã€è¾ƒé«˜ã€é«˜ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="40" viewBox="0 0 300 40">
                    <rect x="10" y="20" width="60" height="10" fill="#3F51B5"/>
                    <rect x="80" y="15" width="60" height="15" fill="#5C6BC0"/>
                    <rect x="150" y="10" width="60" height="20" fill="#EC407A"/>
                    <rect x="220" y="5" width="60" height="25" fill="#E91E63"/>
                    <text x="40" y="38" text-anchor="middle" font-size="8" fill="#fff">ä½</text>
                    <text x="110" y="38" text-anchor="middle" font-size="8" fill="#fff">è¾ƒä½</text>
                    <text x="180" y="38" text-anchor="middle" font-size="8" fill="#fff">è¾ƒé«˜</text>
                    <text x="250" y="38" text-anchor="middle" font-size="8" fill="#fff">é«˜</text>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#E65100;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- SVG åŠ¨ç”»é€»è¾‘ ---
        
        function animString(type) {
            const path = document.getElementById('str-len-path');
            const finger = document.getElementById('finger');
            
            // æ¸…é™¤æ—§åŠ¨ç”»
            while(path.firstChild) path.removeChild(path.firstChild);
            
            const anim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            anim.setAttribute("attributeName", "d");
            anim.setAttribute("dur", type === 'short' ? "0.1s" : "0.3s"); // çŸ­å¿«é•¿æ…¢
            anim.setAttribute("repeatCount", "10");
            
            if(type === 'long') {
                // 20åˆ°280å…¨é•¿æŒ¯åŠ¨
                anim.setAttribute("values", "M20,30 Q150,10 280,30; M20,30 Q150,50 280,30; M20,30 L280,30");
                finger.setAttribute("opacity", 0);
            } else {
                // æ‰‹æŒ‡æŒ‰åœ¨ä¸­é—´(150)ï¼Œåªæœ‰150åˆ°280æŒ¯åŠ¨
                finger.setAttribute("opacity", 1);
                finger.setAttribute("cx", 150);
                // è·¯å¾„ï¼šå·¦è¾¹ç›´çº¿ï¼Œå³è¾¹æŒ¯åŠ¨
                anim.setAttribute("values", "M20,30 L150,30 Q215,20 280,30; M20,30 L150,30 Q215,40 280,30; M20,30 L280,30");
            }
            path.appendChild(anim);
            anim.beginElement();
        }

        function animStringTight(type) {
            const path = document.getElementById('str-tight-path');
            const label = document.getElementById('tight-label');
            
            while(path.firstChild) path.removeChild(path.firstChild);
            const anim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            anim.setAttribute("attributeName", "d");
            anim.setAttribute("repeatCount", "10");
            
            if(type === 'loose') {
                // æ¾ï¼šæŒ¯å¹…å¤§ï¼Œé¢‘ç‡æ…¢
                anim.setAttribute("values", "M20,25 Q150,5 280,25; M20,25 Q150,45 280,25; M20,25 L280,25");
                anim.setAttribute("dur", "0.4s");
                label.textContent = "æ¾å¼¦ -> æŒ¯åŠ¨æ…¢ -> å£°éŸ³ä½";
            } else {
                // ç´§ï¼šæŒ¯å¹…å°ï¼Œé¢‘ç‡å¿«
                anim.setAttribute("values", "M20,25 Q150,15 280,25; M20,25 Q150,35 280,25; M20,25 L280,25");
                anim.setAttribute("dur", "0.1s");
                label.textContent = "ç´§å¼¦ -> æŒ¯åŠ¨å¿« -> å£°éŸ³é«˜";
            }
            path.appendChild(anim);
            anim.beginElement();
        }

        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. å¼¦ä¹å™¨åŸºç¡€ (5é¢˜)
            { type: 'mcq', q: 'é å¼¦çš„æŒ¯åŠ¨å‘å‡ºé«˜ä½ä¸åŒå£°éŸ³çš„ä¹å™¨æœ‰ï¼Ÿ', opts: ['äºŒèƒ¡ã€å‰ä»–', 'ç¬›å­ã€æ’ç®«', 'é¼“ã€é”£'], a: 0, exp: 'äºŒèƒ¡å‰ä»–æ˜¯å¼¦ä¹å™¨ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—ä¸å±äºå¼¦ä¹å™¨çš„æ˜¯ï¼Ÿ', opts: ['å°æç´', 'å¤ç­', 'å°å·'], a: 2, exp: 'å°å·æ˜¯ç®¡ä¹å™¨ã€‚' },
            { type: 'fill', q: 'å¼¦çš„éŸ³é«˜å’Œå¼¦æŒ¯åŠ¨éƒ¨åˆ†çš„____ã€æ¾ç´§ç¨‹åº¦ã€ç²—ç»†æœ‰å…³ã€‚', a: ['é•¿çŸ­', 'é•¿åº¦'], exp: 'ä¸‰å¤§å› ç´ ï¼šé•¿çŸ­ã€æ¾ç´§ã€ç²—ç»†ã€‚' },
            { type: 'mcq', q: 'å‰ä»–å‘å£°æ—¶ï¼ŒæŒ¯åŠ¨çš„æ˜¯ï¼Ÿ', opts: ['ç´å¼¦', 'ç´ç®±', 'ç©ºæ°”'], a: 0, exp: 'å£°æºæ˜¯ç´å¼¦ã€‚' },
            { type: 'matching', q: 'ä¹å™¨åˆ†ç±»è¿çº¿ï¼š', pairs: [{l:'å‰ä»–', r:'å¼¦ä¹å™¨'}, {l:'æ’ç®«', r:'ç®¡ä¹å™¨'}, {l:'é¼“', r:'æ‰“å‡»ä¹å™¨'}], exp: 'åŸºç¡€åˆ†ç±»ã€‚' },

            // 2. å¼¦çš„å˜åŒ–è§„å¾‹ (10é¢˜)
            { type: 'mcq', q: 'æ‰‹æŒ‡åœ¨ç´å¼¦ä¸Šç§»åŠ¨ï¼Œæ”¹å˜çš„æ˜¯å¼¦æŒ¯åŠ¨çš„ï¼Ÿ', opts: ['é•¿çŸ­', 'æ¾ç´§', 'ç²—ç»†'], a: 0, exp: 'æ‰‹æŒ‡æŒ‰å‹æ”¹å˜æŒ¯åŠ¨é•¿åº¦ã€‚' },
            { type: 'mcq', q: 'ç´å¼¦æŒ¯åŠ¨çš„éƒ¨åˆ†è¶Šé•¿ï¼Œå‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['è¶Šé«˜', 'è¶Šä½', 'è¶Šå¼º'], a: 1, exp: 'é•¿=æ…¢=ä½ã€‚' },
            { type: 'mcq', q: 'ç´å¼¦æŒ¯åŠ¨çš„éƒ¨åˆ†è¶ŠçŸ­ï¼Œå‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['è¶Šé«˜', 'è¶Šä½', 'è¶Šå¼±'], a: 0, exp: 'çŸ­=å¿«=é«˜ã€‚' },
            { type: 'mcq', q: 'æŠŠç´å¼¦æ‹§ç´§ï¼Œå‘å‡ºçš„å£°éŸ³ä¼šï¼Ÿ', opts: ['å˜é«˜', 'å˜ä½', 'å˜å¤§'], a: 0, exp: 'ç´§=å¿«=é«˜ã€‚' },
            { type: 'mcq', q: 'ç´å¼¦è¶Šæ¾ï¼Œå‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['è¶Šé«˜', 'è¶Šä½', 'ä¸å˜'], a: 1, exp: 'æ¾=æ…¢=ä½ã€‚' },
            { type: 'mcq', q: 'ç²—å¼¦å’Œç»†å¼¦ç›¸æ¯”ï¼Œç²—å¼¦å‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['é«˜', 'ä½'], a: 1, exp: 'ç²—=æ…¢=ä½ã€‚' },
            { type: 'matching', q: 'è¿çº¿å¼¦çš„è§„å¾‹ï¼š', pairs: [{l:'é•¿/æ¾/ç²—', r:'å£°éŸ³ä½'}, {l:'çŸ­/ç´§/ç»†', r:'å£°éŸ³é«˜'}], exp: 'æ ¸å¿ƒè§„å¾‹æ±‡æ€»ã€‚' },
            { type: 'mcq', q: 'æ¼”å¥äºŒèƒ¡æ—¶ï¼Œæ‰‹æŒ‡ä¸Šä¸‹ç§»åŠ¨æŒ‰å¼¦æ˜¯ä¸ºäº†è°ƒèŠ‚ï¼Ÿ', opts: ['éŸ³é«˜', 'éŸ³é‡', 'éŸ³è‰²'], a: 0, exp: 'è°ƒèŠ‚éŸ³é«˜ã€‚' },
            { type: 'fill', q: 'é€šå¸¸ç´å¼¦çš„____æ˜¯ä¸åŒçš„ï¼Œè¶Šç»†çš„å¼¦å£°éŸ³è¶Šé«˜ã€‚', a: ['ç²—ç»†'], exp: 'ç²—ç»†å½±å“éŸ³é«˜ã€‚' },
            { type: 'mcq', q: 'è¦æƒ³è®©å‰ä»–çš„å£°éŸ³å˜é«˜ï¼Œå¯ä»¥ï¼Ÿ', opts: ['æ¢æ›´é•¿çš„å¼¦', 'æŠŠå¼¦æ‹§æ¾', 'æ¢æ›´ç»†çš„å¼¦'], a: 2, exp: 'ç»†å¼¦éŸ³é«˜ã€‚' },

            // 3. åˆ¶ä½œå°ä¹å™¨ä¸ç®¡ä¹å™¨ (10é¢˜)
            { type: 'mcq', q: 'åƒæ’ç®«ã€ç¬›å­ã€å°å·ç­‰ä¹å™¨æ˜¯é ____æŒ¯åŠ¨å‘å£°çš„ã€‚', opts: ['å¼¦', 'ç©ºæ°”/ç©ºæ°”æŸ±', 'é¼“é¢'], a: 1, exp: 'ç®¡ä¹å™¨é ç©ºæ°”æŸ±æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'æ’ç®«çš„ç®¡å­è¶Šé•¿ï¼Œç©ºæ°”æŸ±è¶Šé•¿ï¼Œå‘å‡ºçš„å£°éŸ³ï¼Ÿ', opts: ['è¶Šé«˜', 'è¶Šä½'], a: 1, exp: 'é•¿=ä½ã€‚' },
            { type: 'mcq', q: 'åˆ¶ä½œâ€œæ°´ç“¶ç´â€æ—¶ï¼Œæ•²å‡»ç“¶å­ï¼Œå‘å£°çš„æ˜¯ï¼Ÿ', opts: ['ç“¶å­å’Œæ°´', 'ç©ºæ°”æŸ±'], a: 0, exp: 'æ•²å‡»æ˜¯ç“¶æ°´æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'æ•²å‡»æ°´ç“¶ç´ï¼Œæ°´è¶Šå¤šï¼Œå£°éŸ³ï¼Ÿ', opts: ['è¶Šé«˜', 'è¶Šä½'], a: 1, exp: 'æ°´å¤š=é‡/é•¿=ä½ã€‚' },
            { type: 'mcq', q: 'å¹å¥æ°´ç“¶ç´ï¼Œå‘å£°çš„æ˜¯ï¼Ÿ', opts: ['ç“¶å­å’Œæ°´', 'ç©ºæ°”æŸ±'], a: 1, exp: 'å¹å¥æ˜¯ç©ºæ°”æŸ±æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'å¹å¥æ°´ç“¶ç´ï¼Œæ°´è¶Šå¤šï¼Œç©ºæ°”æŸ±è¶Š____ï¼Œå£°éŸ³è¶Š____ã€‚', opts: ['é•¿ï¼Œä½', 'çŸ­ï¼Œé«˜'], a: 1, exp: 'æ°´å¤šå ç©ºé—´ -> ç©ºæ°”æŸ±çŸ­ -> é«˜éŸ³ã€‚' },
            { type: 'matching', q: 'è¿çº¿æ°´ç“¶ç´è§„å¾‹ï¼š', pairs: [{l:'æ•²å‡»æ°´å¤š', r:'ä½éŸ³'}, {l:'å¹å¥æ°´å¤š', r:'é«˜éŸ³'}, {l:'å¹å¥æ°´å°‘', r:'ä½éŸ³'}], exp: 'æ•²ä¸å¹ç›¸åã€‚' },
            { type: 'fill', q: 'åƒé¼“ã€é”£ç­‰ä¹å™¨æ˜¯é ____æœ¬èº«çš„æŒ¯åŠ¨å‘å£°çš„ã€‚', a: ['ä¹å™¨', 'é¼“é¢', 'é”£é¢'], exp: 'æ‰“å‡»ä¹å™¨æ•´ä½“æŒ¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'åœ¨å¸ç®¡ç®«å®éªŒä¸­ï¼Œå‰ªçŸ­å¸ç®¡ï¼Œå£°éŸ³ä¼šï¼Ÿ', opts: ['å˜é«˜', 'å˜ä½'], a: 0, exp: 'çŸ­=é«˜ã€‚' },
            { type: 'mcq', q: 'å£°éŸ³é«˜ä½çš„å˜åŒ–éŸ³è°ƒå¯åˆ†ä¸ºå‡ ä¸ªç­‰çº§ï¼Ÿ', opts: ['2ä¸ª', '4ä¸ª', '10ä¸ª'], a: 1, exp: 'ä½ã€è¾ƒä½ã€è¾ƒé«˜ã€é«˜ã€‚' },

            // 4. ç»¼åˆåº”ç”¨ (10é¢˜)
            { type: 'mcq', q: 'ä¸‹åˆ—åšæ³•èƒ½è®©æ©¡çš®ç­‹å‘å‡ºæœ€é«˜å£°éŸ³çš„æ˜¯ï¼Ÿ', opts: ['æ¾æ¾åœ°æ‹‰', 'ç´§ç´§åœ°æ‹‰', 'ç”¨ç²—æ©¡çš®ç­‹'], a: 1, exp: 'ç´§=é«˜ã€‚' },
            { type: 'mcq', q: 'å°æç´æ¼”å¥é«˜éŸ³æ—¶ï¼Œæ‰‹æŒ‡åº”è¯¥æŒ‰åœ¨å¼¦çš„ï¼Ÿ', opts: ['ä¸Šç«¯(å¼¦é•¿)', 'ä¸‹ç«¯(å¼¦çŸ­)'], a: 1, exp: 'æœ‰æ•ˆå¼¦é•¿å˜çŸ­ï¼ŒéŸ³å˜é«˜ã€‚' },
            { type: 'matching', q: 'è°æŒ¯åŠ¨å‘å£°ï¼Ÿ', pairs: [{l:'å¼¹å‰ä»–', r:'å¼¦'}, {l:'å¹ç¬›å­', r:'ç©ºæ°”'}, {l:'æ•²é”£', r:'é”£é¢'}], exp: 'å£°æºè¾¨æã€‚' },
            { type: 'mcq', q: 'è¶ŠçŸ­ã€è¶Šç´§ã€è¶Šç»†çš„ç‰©ä½“ï¼ŒæŒ¯åŠ¨è¶Š____ï¼Œå£°éŸ³è¶Š____ã€‚', opts: ['æ…¢ï¼Œä½', 'å¿«ï¼Œé«˜'], a: 1, exp: 'æ€»ç»“è§„å¾‹ã€‚' },
            { type: 'mcq', q: 'è¶Šé•¿ã€è¶Šæ¾ã€è¶Šç²—çš„ç‰©ä½“ï¼ŒæŒ¯åŠ¨è¶Š____ï¼Œå£°éŸ³è¶Š____ã€‚', opts: ['æ…¢ï¼Œä½', 'å¿«ï¼Œé«˜'], a: 0, exp: 'æ€»ç»“è§„å¾‹ã€‚' },
            { type: 'mcq', q: 'è‡ªå·±åˆ¶ä½œå°ä¹å™¨æ—¶ï¼Œç¬¬ä¸€æ­¥åº”è¯¥æ˜¯ï¼Ÿ', opts: ['è®¾è®¡', 'åˆ¶ä½œ', 'å±•ç¤º'], a: 0, exp: 'å·¥ç¨‹è®¾è®¡æµç¨‹ï¼šè®¾è®¡-åˆ¶ä½œ-æµ‹è¯•ã€‚' },
            { type: 'mcq', q: 'å¦‚æœåˆ¶ä½œçš„æ°´ç“¶ç´å£°éŸ³ä¸å‡†ï¼Œåº”è¯¥ï¼Ÿ', opts: ['æ‰”æ‰', 'è°ƒèŠ‚æ°´é‡', 'æ¢ä¸ªç“¶å­'], a: 1, exp: 'è°ƒèŠ‚æ°´é‡æ”¹å˜éŸ³é«˜ã€‚' },
            { type: 'mcq', q: 'å¹å£ç´æ—¶ï¼Œæ°”æµå†²å‡»é•¿çŸ­ä¸åŒçš„ç°§ç‰‡ï¼ŒçŸ­ç°§ç‰‡å‘å‡ºï¼Ÿ', opts: ['ä½éŸ³', 'é«˜éŸ³'], a: 1, exp: 'çŸ­=é«˜ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å…³äºå£°éŸ³çš„è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ', opts: ['åªæœ‰å›ºä½“èƒ½å‘å£°', 'æŒ¯åŠ¨åœæ­¢å£°éŸ³åœæ­¢', 'å£°éŸ³ä¸èƒ½åœ¨æ¶²ä½“ä¸­ä¼ æ’­'], a: 1, exp: 'æŒ¯åŠ¨åœæ­¢å‘å£°åœæ­¢ã€‚' },
            { type: 'fill', q: 'ç®¡å­åº•éƒ¨ç”¨å¡å­å µä½ï¼Œæ˜¯ä¸ºäº†å½¢æˆ____ã€‚', a: ['ç©ºæ°”æŸ±'], exp: 'å½¢æˆå°é—­ç©ºæ°”æŸ±æ‰èƒ½æœ‰æ•ˆæŒ¯åŠ¨ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };
        
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'sawtooth'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(800, now); gain.gain.setValueAtTime(0.02, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'è¿çº¿é¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'matching') {
                renderMatching(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderMatching(card, qData) {
            const container = document.createElement('div');
            const leftCol = document.createElement('div'); leftCol.className = 'match-col';
            const rightCol = document.createElement('div'); rightCol.className = 'match-col';
            const row = document.createElement('div'); row.className = 'match-row';

            let rItems = [...qData.pairs].sort(()=>Math.random()-0.5);
            matchState = { left: null, right: null, matchedCount: 0, userPairs: [] };

            qData.pairs.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.l; btn.dataset.val = p.l; btn.dataset.side = 'left';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                leftCol.appendChild(btn);
            });
            rItems.forEach(p => {
                const btn = document.createElement('div');
                btn.className = 'match-btn'; btn.innerText = p.r; btn.dataset.val = p.r; btn.dataset.side = 'right';
                btn.onclick = (e) => handleMatchClick(e.target, qData.pairs.length);
                rightCol.appendChild(btn);
            });

            row.appendChild(leftCol); row.appendChild(rightCol);
            card.appendChild(row);
        }

        function handleMatchClick(el, totalPairs) {
            playSound('click');
            const side = el.dataset.side;
            el.parentElement.querySelectorAll('.match-btn').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            
            if (side === 'left') matchState.left = el;
            else matchState.right = el;

            if (matchState.left && matchState.right) {
                matchState.userPairs.push({l: matchState.left.dataset.val, r: matchState.right.dataset.val});
                matchState.left.classList.remove('selected'); matchState.left.classList.add('matched');
                matchState.right.classList.remove('selected'); matchState.right.classList.add('matched');
                matchState.left = null; matchState.right = null;
                matchState.matchedCount++;
                if (matchState.matchedCount === totalPairs) {
                    document.getElementById('nextBtn').disabled = false;
                    document.getElementById('nextBtn').style.opacity = 1;
                }
            }
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'matching') {
                let correctCount = 0;
                matchState.userPairs.forEach(up => {
                    if (qData.pairs.some(p => p.l === up.l && p.r === up.r)) correctCount++;
                });
                if (correctCount === qData.pairs.length) isCorrect = true;
                myAns = "é…å¯¹é”™è¯¯";
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ æ»¡åˆ†ï¼ä½ æ˜¯ä¹å™¨å¤§å¸ˆï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼å¯¹å¼¦çš„ç§˜å¯†äº†å¦‚æŒ‡æŒï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼è®°ä½ï¼šçŸ­ç´§ç»†å¿«é«˜ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html></textarea>

<!-- ç¬¬äºŒå•å…ƒ -->
<textarea id="u2-1" style="display:none;">è¿™æ˜¯ä¸€ä¸ªä¸ºæ‚¨å®šåˆ¶çš„ **å°å­¦ç§‘å­¦å››ä¸Š ç¬¬äºŒå•å…ƒç¬¬ä¸€è¯¾ï¼šæ„Ÿå—æˆ‘ä»¬çš„å‘¼å¸** å¤ä¹ ä¸é—¯å…³ç½‘é¡µã€‚

æœ¬ç½‘é¡µåŒ…å« **4ç»„ç²¾ç¾çš„SVGäº’åŠ¨å®éªŒåŠ¨ç”»**ï¼ˆå‘¼å¸ç³»ç»Ÿç»“æ„ã€æ¨¡æ‹Ÿå‘¼å¸è£…ç½®ã€è†ˆè‚Œè¿åŠ¨åŸç†ç­‰ï¼‰ï¼Œä»¥åŠ **35é“é—¯å…³æµ‹è¯•é¢˜**ï¼ˆåŒ…å«ç‚¹å‡»æ’åºé¢˜æ¥æ¨¡æ‹Ÿæ‹–æ‹½æµç¨‹ï¼Œé€‚é…æ‰‹æœºæ“ä½œï¼‰ã€‚

### ä½¿ç”¨æ–¹æ³•ï¼š
1.  å¤åˆ¶ä¸‹æ–¹ä»£ç ã€‚
2.  æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç²˜è´´ä»£ç ã€‚
3.  ä¿å­˜ä¸º `æ„Ÿå—æˆ‘ä»¬çš„å‘¼å¸.html`ã€‚
4.  ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ˆæ¨èæ‰‹æœºæ¨ªå±æˆ–ç«–å±ï¼‰ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬äºŒå•å…ƒï¼šæ„Ÿå—æˆ‘ä»¬çš„å‘¼å¸ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #E8F5E9; /* æ¸…æ–°å‘¼å¸ç»¿ */
            --card-bg: #FFFFFF;
            --primary: #66BB6A; /* æ´»åŠ›ç»¿ */
            --secondary: #42A5F5; /* æ°§æ°”è“ */
            --accent: #FF7043; /* è­¦ç¤ºæ©™ */
            --text: #2E7D32;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#C8E6C9 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #A5D6A7;
            overflow: hidden;
        }

        h1 { color: #2E7D32; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #43A047; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #F1F8E9;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #66BB6A;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #1B5E20; border-bottom: 1px dashed #C8E6C9; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #E65100; font-weight: bold; background: #FFCCBC; padding: 0 4px; border-radius: 3px; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #81C784;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
        }
        .svg-caption { font-size: 0.9em; color: #558B2F; margin-top: 5px; font-style: italic; }

        .ctrl-btn {
            background: #66BB6A; color: white; border: none; padding: 8px 20px; 
            border-radius: 20px; margin: 5px; cursor: pointer; font-size: 0.9em;
            box-shadow: 0 3px 0 #2E7D32; transition: 0.1s;
        }
        .ctrl-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #2E7D32; }
        .ctrl-btn.blue { background: #42A5F5; box-shadow: 0 3px 0 #1565C0; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #2E7D32;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #2E7D32; }
        .btn-next { background: #FF7043; box-shadow: 0 4px 0 #E64A19; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #E0E0E0; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #66BB6A; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #C8E6C9; color: #1B5E20; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #A5D6A7; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #C8E6C9; border-color: #2E7D32; font-weight: bold; color: #1B5E20; }

        .fill-input { border: none; border-bottom: 3px solid #66BB6A; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #2E7D32; border-radius: 0; }

        /* æ’åºé¢˜ (æ¨¡æ‹Ÿæ‹–æ‹½) */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #E3F2FD; border: 1px solid #2196F3; color: #1565C0;
            padding: 8px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #BDBDBD; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #FAFAFA; align-items: center;
        }
        .sort-placeholder { color: #999; font-size: 0.9em; width: 100%; text-align: center; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF7043; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ« çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬äºŒå•å…ƒç¬¬ä¸€è¯¾ï¼šæ„Ÿå—æˆ‘ä»¬çš„å‘¼å¸</p>

        <!-- çŸ¥è¯†ç‚¹ 1: å‘¼å¸å™¨å®˜ -->
        <div class="knowledge-box">
            <h3>1. å‘¼å¸å™¨å®˜ä¸è¿‡ç¨‹</h3>
            <div class="k-point">ğŸŒ¬ï¸ <strong>ä¸€æ¬¡å‘¼å¸</strong> = ä¸€å‘¼ + ä¸€å¸ã€‚</div>
            <div class="k-point">ğŸ›£ï¸ <strong>è·¯å¾„</strong>ï¼šé¼»è…”/å£è…” â†’ æ°”ç®¡ â†’ æ”¯æ°”ç®¡ â†’ <span class="highlight">è‚º</span>ã€‚</div>
            <div class="k-point">ğŸ”„ <strong>äº¤æ¢</strong>ï¼šè‚ºæ˜¯æ°”ä½“äº¤æ¢çš„åœºæ‰€ï¼ˆå¸å…¥æ°§æ°”ï¼Œå‘¼å‡ºäºŒæ°§åŒ–ç¢³ï¼‰ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="150" viewBox="0 0 300 150">
                    <!-- äººä½“è½®å»“ç®€å›¾ -->
                    <path d="M130,20 Q150,20 170,20 Q180,40 170,60 L170,140 L130,140 L130,60 Q120,40 130,20" fill="none" stroke="#81C784" stroke-width="2"/>
                    <!-- å‘¼å¸é“ -->
                    <path d="M145,40 L150,40 L150,70" fill="none" stroke="#FF7043" stroke-width="4" stroke-linecap="round"/>
                    <text x="110" y="45" font-size="10" fill="#E64A19">é¼»/å£</text>
                    <text x="110" y="65" font-size="10" fill="#E64A19">æ°”ç®¡</text>
                    <!-- è‚º -->
                    <path d="M150,70 Q130,90 130,110 Q130,130 150,120" fill="#FFCCBC" stroke="#E64A19"/>
                    <path d="M150,70 Q170,90 170,110 Q170,130 150,120" fill="#FFCCBC" stroke="#E64A19"/>
                    <text x="180" y="100" font-size="10" fill="#E64A19">è‚º</text>
                    
                    <!-- æ°”ä½“é¢—ç²’åŠ¨ç”» -->
                    <circle id="air-particle" cx="145" cy="40" r="4" fill="#42A5F5"/>
                </svg>
                <button class="ctrl-btn blue" onclick="animRespiration()">æ¼”ç¤ºå‘¼å¸è·¯å¾„</button>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 2 & 5: è†ˆè‚Œä¸æ¨¡æ‹Ÿå®éªŒ -->
        <div class="knowledge-box">
            <h3>2. è†ˆè‚Œä¸å‘¼å¸è¿åŠ¨ (æ¨¡æ‹Ÿå®éªŒ)</h3>
            <div class="k-point">ğŸˆ <strong>å¸æ°”</strong>ï¼šè†ˆè‚Œ<span class="highlight">ä¸‹å‹</span> â†’ è‚ºéƒ¨æ‰©å¼  (æ°”çƒå˜å¤§)ã€‚</div>
            <div class="k-point">ğŸ’¨ <strong>å‘¼æ°”</strong>ï¼šè†ˆè‚Œ<span class="highlight">ä¸Šæ</span> â†’ è‚ºéƒ¨æ”¶ç¼© (æ°”çƒå˜å°)ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="160" viewBox="0 0 200 160">
                    <!-- ç“¶å­ -->
                    <path d="M60,140 L60,40 Q100,10 140,40 L140,140" fill="none" stroke="#555" stroke-width="2"/>
                    <text x="150" y="80" font-size="10">èƒ¸è…”(ç“¶å­)</text>
                    <!-- æ°”ç®¡ -->
                    <line x1="100" y1="20" x2="100" y2="60" stroke="#555" stroke-width="4"/>
                    <text x="110" y="30" font-size="10">æ°”ç®¡</text>
                    <!-- è‚º(æ°”çƒ) -->
                    <path id="lung-balloon" d="M100,60 Q70,100 100,120 Q130,100 100,60" fill="#EF5350"/>
                    <text x="150" y="100" font-size="10">è‚º(æ°”çƒ)</text>
                    <!-- è†ˆè‚Œ(æ©¡èƒ¶è†œ) -->
                    <path id="diaphragm" d="M60,140 Q100,120 140,140" fill="none" stroke="#FFA726" stroke-width="4"/>
                    <text x="150" y="150" font-size="10" fill="#E65100">è†ˆè‚Œ(æ©¡èƒ¶è†œ)</text>
                    <!-- æ‰‹ -->
                    <path id="hand" d="M90,150 L110,150 L100,160 Z" fill="#8D6E63" transform="translate(0, -10)"/>
                </svg>
                <br>
                <button class="ctrl-btn" onclick="animSim('inhale')">ğŸ‘‡ æ‹‰ä¸‹ (å¸æ°”)</button>
                <button class="ctrl-btn" onclick="animSim('exhale')">ğŸ‘† é¡¶ä¸Š (å‘¼æ°”)</button>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 3 & 4: èƒ¸è…¹å˜åŒ– -->
        <div class="knowledge-box">
            <h3>3. èº«ä½“çš„å˜åŒ–</h3>
            <div class="k-point">ğŸ“¥ <strong>å¸æ°”</strong>ï¼šå«æœ‰æ°§æ°”çš„ç©ºæ°”è¿›å…¥ã€‚èƒ¸è…”<span class="highlight">æ‰©å¼ </span>ï¼Œè…¹éƒ¨æ”¶ç¼©ã€‚</div>
            <div class="k-point">ğŸ“¤ <strong>å‘¼æ°”</strong>ï¼šåºŸæ°”æ’å‡ºã€‚èƒ¸è…”<span class="highlight">æ”¶ç¼©</span>ï¼Œè…¹éƒ¨æ”¾æ¾ã€‚</div>
            <div class="k-point">ğŸŒ± <strong>æ°”ä½“ä½œç”¨</strong>ï¼šæ°§æ°”ç»´æŒç”Ÿå‘½ï¼ŒäºŒæ°§åŒ–ç¢³æ˜¯æ¤ç‰©å…»æ–™ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- èº«ä½“è½®å»“ -->
                    <path id="body-outline" d="M120,20 L120,100" stroke="#333" stroke-width="2" fill="none"/>
                    <!-- èƒ¸éƒ¨ -->
                    <path id="chest" d="M120,30 Q150,30 150,60 Q150,90 120,90" fill="#E1F5FE" stroke="#0288D1"/>
                    <!-- ç®­å¤´ -->
                    <path id="chest-arrow" d="M160,60 L180,60" stroke="#FF7043" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <text x="200" y="50" font-size="12" fill="#333">çŠ¶æ€ï¼š<tspan id="status-text" font-weight="bold">å¹³é™</tspan></text>
                    <text x="200" y="70" font-size="10" fill="#555">èƒ¸è…”å˜åŒ–</text>

                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#FF7043" />
                        </marker>
                    </defs>
                </svg>
                <button class="ctrl-btn blue" onclick="animBody('in')">å¸æ°”æ¼”ç¤º</button>
                <button class="ctrl-btn" onclick="animBody('out')">å‘¼æ°”æ¼”ç¤º</button>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#2E7D32;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- SVG åŠ¨ç”»é€»è¾‘ ---
        
        function animRespiration() {
            const particle = document.getElementById('air-particle');
            // ç®€å•çš„è·¯å¾„åŠ¨ç”»ï¼šé¼»->æ°”ç®¡->æ”¯æ°”ç®¡->è‚º
            // Reset
            while(particle.firstChild) particle.removeChild(particle.firstChild);
            
            const anim = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            anim.setAttribute("attributeName", "cy");
            anim.setAttribute("values", "40; 70; 100; 70; 40"); // è¿› -> è‚º -> å‡º
            anim.setAttribute("dur", "3s");
            anim.setAttribute("repeatCount", "1");
            particle.appendChild(anim);
            anim.beginElement();
        }

        function animSim(type) {
            const diaphragm = document.getElementById('diaphragm');
            const balloon = document.getElementById('lung-balloon');
            const hand = document.getElementById('hand');

            if (type === 'inhale') {
                // æ‹‰ä¸‹ï¼šè†ˆè‚Œä¸‹ç§»å˜å¹³ï¼Œæ°”çƒå˜å¤§
                diaphragm.setAttribute("d", "M60,140 Q100,155 140,140"); // å‘ä¸‹å¼¯æ›²
                balloon.setAttribute("d", "M100,60 Q60,110 100,135 Q140,110 100,60"); // å˜å¤§
                hand.setAttribute("transform", "translate(0, 10)");
            } else {
                // é¡¶ä¸Šï¼šè†ˆè‚Œä¸Šæ‹±ï¼Œæ°”çƒå˜å°
                diaphragm.setAttribute("d", "M60,140 Q100,110 140,140"); // å‘ä¸Šæ‹±èµ·
                balloon.setAttribute("d", "M100,60 Q80,90 100,100 Q120,90 100,60"); // ç˜ªæ‰
                hand.setAttribute("transform", "translate(0, -15)");
            }
        }

        function animBody(type) {
            const chest = document.getElementById('chest');
            const text = document.getElementById('status-text');
            const arrow = document.getElementById('chest-arrow');

            // ç®€å•æ¨¡æ‹Ÿèƒ¸è…”å¤§å°å˜åŒ–
            if (type === 'in') {
                // å¸æ°”ï¼šèƒ¸è…”æ‰©å¼ 
                chest.setAttribute("d", "M120,30 Q170,30 170,60 Q170,90 120,90");
                text.textContent = "å¸æ°” (æ‰©å¼ )";
                text.setAttribute("fill", "#1E88E5");
                arrow.setAttribute("d", "M140,60 L170,60"); // å‘å¤–ç®­å¤´
            } else {
                // å‘¼æ°”ï¼šèƒ¸è…”æ”¶ç¼©
                chest.setAttribute("d", "M120,30 Q140,30 140,60 Q140,90 120,90");
                text.textContent = "å‘¼æ°” (æ”¶ç¼©)";
                text.setAttribute("fill", "#43A047");
                arrow.setAttribute("d", "M170,60 L140,60"); // å‘å†…ç®­å¤´
            }
        }

        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. åŸºç¡€æ¦‚å¿µ (5é¢˜)
            { type: 'mcq', q: 'äººçš„â€œä¸€å‘¼ä¸€å¸â€ç®—____æ¬¡å‘¼å¸ã€‚', opts: ['1', '2', '0.5'], a: 0, exp: 'ä¸€å‘¼ä¸€å¸ç®—ä¸€æ¬¡ã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰ç©ºæ°”è¿›å…¥ä½“å†…çš„é¡ºåºæ’åˆ—å™¨å®˜ï¼š', items: ['é¼»è…”', 'è‚º', 'æ°”ç®¡'], answerOrder: ['é¼»è…”', 'æ°”ç®¡', 'è‚º'], exp: 'é¼»è…”->æ°”ç®¡->æ”¯æ°”ç®¡->è‚ºã€‚' },
            { type: 'mcq', q: 'è¿›è¡Œæ°”ä½“äº¤æ¢çš„â€œä¸­è½¬ç«™â€æ˜¯ï¼Ÿ', opts: ['é¼»è…”', 'æ°”ç®¡', 'è‚º'], a: 2, exp: 'è‚ºæ˜¯æ°”ä½“äº¤æ¢åœºæ‰€ã€‚' },
            { type: 'fill', q: 'æ— è®ºç™½å¤©è¿˜æ˜¯å¤œæ™šï¼Œæˆ‘ä»¬éƒ½åœ¨____ï¼Œè¿™æ˜¯ç”Ÿå‘½çš„é‡è¦æ´»åŠ¨ã€‚', a: ['å‘¼å¸'], exp: 'å‘¼å¸æ—¶åˆ»è¿›è¡Œã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªä¸ªå™¨å®˜ä¸å‚ä¸å‘¼å¸ï¼Ÿ', opts: ['èƒƒ', 'æ”¯æ°”ç®¡', 'é¼»è…”'], a: 0, exp: 'èƒƒæ˜¯æ¶ˆåŒ–å™¨å®˜ã€‚' },

            // 2. å‘¼å¸è¿åŠ¨æœºåˆ¶ (10é¢˜)
            { type: 'mcq', q: 'å¸æ°”æ—¶ï¼Œèƒ¸è…”ä¼šï¼Ÿ', opts: ['æ”¶ç¼©', 'æ‰©å¼ ', 'ä¸å˜'], a: 1, exp: 'å¸æ°”èƒ¸è…”æ‰©å¼ ã€‚' },
            { type: 'mcq', q: 'å¸æ°”æ—¶ï¼Œè…¹éƒ¨ä¼šï¼Ÿ', opts: ['æ”¶ç¼©', 'æ”¾æ¾', 'æ‰©å¼ '], a: 0, exp: 'å¸æ°”æ—¶è…¹éƒ¨æ”¶ç¼©ï¼ˆé…åˆèƒ¸è…”æ‰©å¼ ï¼‰ã€‚' },
            { type: 'mcq', q: 'å‘¼æ°”æ—¶ï¼Œèƒ¸è…”ä¼šï¼Ÿ', opts: ['æ”¶ç¼©', 'æ‰©å¼ ', 'ä¸å˜'], a: 0, exp: 'å‘¼æ°”èƒ¸è…”æ”¶ç¼©ã€‚' },
            { type: 'mcq', q: 'å‘¼æ°”æ—¶ï¼Œè…¹éƒ¨ä¼šï¼Ÿ', opts: ['æ”¶ç¼©', 'æ”¾æ¾', 'ä¸å˜'], a: 1, exp: 'å‘¼æ°”è…¹éƒ¨æ”¾æ¾ã€‚' },
            { type: 'sort', q: 'è¯·æ’åˆ—å¸æ°”çš„è¿‡ç¨‹ï¼š', items: ['ç©ºæ°”è¿›å…¥', 'èƒ¸è…”æ‰©å¼ ', 'è†ˆè‚Œä¸‹å‹'], answerOrder: ['è†ˆè‚Œä¸‹å‹', 'èƒ¸è…”æ‰©å¼ ', 'ç©ºæ°”è¿›å…¥'], exp: 'è‚Œè‚‰è¿åŠ¨å¯¼è‡´ä½“ç§¯å˜åŒ–ï¼Œæ°”å‹æ”¹å˜ï¼Œç©ºæ°”è¿›å…¥ã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬å‘¼å¸æ—¶ï¼Œæ°”ä½“è¿›å‡ºçš„åŠ¨åŠ›ä¸»è¦æ¥è‡ªï¼Ÿ', opts: ['è‚ºéƒ¨è‡ªå·±åŠ¨', 'å‘¼å¸è‚Œè‚‰(è†ˆè‚Œç­‰)çš„è¿åŠ¨', 'å˜´å·´å¼ åˆ'], a: 1, exp: 'è†ˆè‚Œè¿åŠ¨å¸¦åŠ¨è‚ºã€‚' },
            { type: 'fill', q: 'å¸æ°”æ˜¯å«æœ‰____çš„ç©ºæ°”è¿›å…¥è‚ºçš„è¿‡ç¨‹ã€‚', a: ['æ°§æ°”'], exp: 'å¸å…¥æ°§æ°”ã€‚' },
            { type: 'fill', q: 'å‘¼æ°”æ˜¯å«æœ‰____ç­‰åºŸæ°”æ’å‡ºä½“å¤–çš„è¿‡ç¨‹ã€‚', a: ['äºŒæ°§åŒ–ç¢³'], exp: 'å‘¼å‡ºäºŒæ°§åŒ–ç¢³ã€‚' },
            { type: 'mcq', q: 'åšæ·±å‘¼å¸æ—¶ï¼Œæˆ‘ä»¬çš„èƒ¸éƒ¨èµ·ä¼ä¼šï¼Ÿ', opts: ['å˜å°', 'å˜å¤§', 'ä¸å˜'], a: 1, exp: 'æ·±å‘¼å¸å¹…åº¦å¤§ã€‚' },
            { type: 'mcq', q: 'è¿åŠ¨åï¼Œå‘¼å¸æ¬¡æ•°ä¼šï¼Ÿ', opts: ['å¢åŠ ', 'å‡å°‘', 'ä¸å˜'], a: 0, exp: 'è¿åŠ¨éœ€æ°§é‡å¤§ï¼Œå‘¼å¸åŠ å¿«ã€‚' },

            // 3. è†ˆè‚Œä¸æ¨¡æ‹Ÿå®éªŒ (10é¢˜)
            { type: 'mcq', q: 'åœ¨å‘¼å¸æ¨¡æ‹Ÿå®éªŒä¸­ï¼Œå¡‘æ–™ç“¶æ¨¡æ‹Ÿçš„æ˜¯ï¼Ÿ', opts: ['è‚º', 'èƒ¸è…”', 'æ°”ç®¡'], a: 1, exp: 'ç“¶å­æ¨¡æ‹Ÿèƒ¸è…”ã€‚' },
            { type: 'mcq', q: 'åœ¨å‘¼å¸æ¨¡æ‹Ÿå®éªŒä¸­ï¼Œæ°”çƒæ¨¡æ‹Ÿçš„æ˜¯ï¼Ÿ', opts: ['è‚º', 'è†ˆè‚Œ', 'èƒƒ'], a: 0, exp: 'æ°”çƒæ¨¡æ‹Ÿè‚ºã€‚' },
            { type: 'mcq', q: 'åœ¨å‘¼å¸æ¨¡æ‹Ÿå®éªŒä¸­ï¼Œåº•éƒ¨çš„æ©¡èƒ¶è†œæ¨¡æ‹Ÿçš„æ˜¯ï¼Ÿ', opts: ['è…¹éƒ¨', 'è†ˆè‚Œ', 'çš®è‚¤'], a: 1, exp: 'æ©¡èƒ¶è†œæ¨¡æ‹Ÿè†ˆè‚Œã€‚' },
            { type: 'mcq', q: 'å‘ä¸‹æ‹‰åŠ¨æ©¡èƒ¶è†œï¼Œæ°”çƒä¼šï¼Ÿ', opts: ['å˜å¤§(å¸æ°”)', 'å˜å°(å‘¼æ°”)'], a: 0, exp: 'ä¸‹æ‹‰->ç©ºé—´å˜å¤§->å¸æ°”ã€‚' },
            { type: 'mcq', q: 'å‘ä¸Šé¡¶èµ·æ©¡èƒ¶è†œï¼Œæ°”çƒä¼šï¼Ÿ', opts: ['å˜å¤§(å¸æ°”)', 'å˜å°(å‘¼æ°”)'], a: 1, exp: 'ä¸Šé¡¶->ç©ºé—´å˜å°->å‘¼æ°”ã€‚' },
            { type: 'fill', q: 'è†ˆè‚Œæ˜¯ä½äºèƒ¸è…”å’Œ____ä¹‹é—´çš„è‚Œè‚‰ã€‚', a: ['è…¹è…”'], exp: 'åˆ†éš”èƒ¸è…¹ã€‚' },
            { type: 'mcq', q: 'è†ˆè‚Œä¸‹å‹æ—¶ï¼Œèº«ä½“å¤„äº____çŠ¶æ€ã€‚', opts: ['å¸æ°”', 'å‘¼æ°”'], a: 0, exp: 'ä¸‹å‹->å¸æ°”ã€‚' },
            { type: 'mcq', q: 'è†ˆè‚Œä¸Šææ—¶ï¼Œèº«ä½“å¤„äº____çŠ¶æ€ã€‚', opts: ['å¸æ°”', 'å‘¼æ°”'], a: 1, exp: 'ä¸Šæ->å‘¼æ°”ã€‚' },
            { type: 'sort', q: 'è¯·è¿æ¥æ¨¡æ‹Ÿè£…ç½®ä¸äººä½“å™¨å®˜ï¼š', items: ['å¸ç®¡-æ°”ç®¡', 'æ°”çƒ-è‚º', 'ç“¶å­-èƒ¸è…”'], answerOrder: ['å¸ç®¡-æ°”ç®¡', 'æ°”çƒ-è‚º', 'ç“¶å­-èƒ¸è…”'], exp: 'è£…ç½®å¯¹åº”å…³ç³»ã€‚' },
            { type: 'mcq', q: 'å¦‚æœæ¨¡æ‹Ÿè£…ç½®çš„ç“¶å­ç ´äº†ä¸ªæ´ï¼Œå®éªŒï¼Ÿ', opts: ['èƒ½æˆåŠŸ', 'ä¸èƒ½æˆåŠŸ'], a: 1, exp: 'èƒ¸è…”éœ€è¦å¯†å°æ‰èƒ½æ”¹å˜æ°”å‹ã€‚' },

            // 4. æ°”ä½“çŸ¥è¯† (5é¢˜)
            { type: 'mcq', q: '____æ˜¯ç»´æŒç”Ÿå‘½æ‰€å¿…éœ€çš„ç‰©è´¨ã€‚', opts: ['æ°®æ°”', 'æ°§æ°”', 'äºŒæ°§åŒ–ç¢³'], a: 1, exp: 'æ°§æ°”ç»´æŒç”Ÿå‘½ã€‚' },
            { type: 'mcq', q: '____æ˜¯æ¤ç‰©åˆ¶é€ å…»æ–™æ‰€å¿…éœ€çš„åŸæ–™ã€‚', opts: ['æ°§æ°”', 'äºŒæ°§åŒ–ç¢³', 'æ°´è’¸æ°”'], a: 1, exp: 'æ¤ç‰©å…‰åˆä½œç”¨éœ€è¦äºŒæ°§åŒ–ç¢³ã€‚' },
            { type: 'mcq', q: 'å‘¼å‡ºçš„æ°”ä½“ä¸­ï¼Œæ°§æ°”å«é‡æ¯”å¸å…¥æ—¶ï¼Ÿ', opts: ['å¤š', 'å°‘', 'ä¸€æ ·'], a: 1, exp: 'æ°§æ°”è¢«èº«ä½“æ¶ˆè€—äº†ã€‚' },
            { type: 'mcq', q: 'å‘¼å‡ºçš„æ°”ä½“ä¸­ï¼ŒäºŒæ°§åŒ–ç¢³å«é‡æ¯”å¸å…¥æ—¶ï¼Ÿ', opts: ['å¤š', 'å°‘', 'ä¸€æ ·'], a: 0, exp: 'èº«ä½“äº§ç”Ÿäº†äºŒæ°§åŒ–ç¢³ã€‚' },
            { type: 'fill', q: 'äººå‘¼å¸æ—¶ï¼Œå¸å…¥æ°§æ°”ï¼Œå‘¼å‡º____ã€‚', a: ['äºŒæ°§åŒ–ç¢³'], exp: 'åŸºæœ¬æ°”ä½“äº¤æ¢ã€‚' },

            // 5. ç»¼åˆåº”ç”¨ (5é¢˜)
            { type: 'mcq', q: 'ä¸‹åˆ—ä¹ æƒ¯æœ‰åˆ©äºå‘¼å¸å™¨å®˜å¥åº·çš„æ˜¯ï¼Ÿ', opts: ['å¸çƒŸ', 'ç»å¸¸å¼€çª—é€šé£', 'è’™å¤´ç¡è§‰'], a: 1, exp: 'é€šé£ä¿æŒç©ºæ°”æ–°é²œã€‚' },
            { type: 'mcq', q: 'ä¸ºä»€ä¹ˆç¡è§‰æ—¶ä¹Ÿè¦å‘¼å¸ï¼Ÿ', opts: ['ä¹ æƒ¯äº†', 'èº«ä½“å„å™¨å®˜è¿˜éœ€è¦æ°§æ°”å·¥ä½œ', 'å› ä¸ºåœ¨åšæ¢¦'], a: 1, exp: 'ç”Ÿå‘½æ´»åŠ¨ä¸åœæ­¢ï¼Œéœ€æ°§é‡å°±åœ¨ã€‚' },
            { type: 'sort', q: 'ç©ºæ°”è¿›å…¥è‚ºçš„æ­£ç¡®è·¯å¾„ï¼š', items: ['æ°”ç®¡', 'æ”¯æ°”ç®¡', 'è‚º'], answerOrder: ['æ°”ç®¡', 'æ”¯æ°”ç®¡', 'è‚º'], exp: 'è§£å‰–ç»“æ„é¡ºåºã€‚' },
            { type: 'mcq', q: 'å½“æˆ‘ä»¬æ½œæ°´æ—¶ï¼Œéœ€è¦æºå¸¦ï¼Ÿ', opts: ['æ°§æ°”ç“¶', 'ç­ç«å™¨', 'é£æ‰‡'], a: 0, exp: 'æ°´ä¸‹ç¼ºæ°§ã€‚' },
            { type: 'mcq', q: 'æ¤ç‰©å’Œäººç±»åœ¨æ°”ä½“äº¤æ¢ä¸Šæ˜¯ï¼Ÿ', opts: ['äº’è¡¥çš„', 'å†²çªçš„'], a: 0, exp: 'äººå‘¼å‡ºäºŒæ°§åŒ–ç¢³ç»™æ¤ç‰©ï¼Œæ¤ç‰©äº§æ°§æ°”ç»™äººã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; // For sort questions

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(400, now); gain.gain.setValueAtTime(0.05, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'æ’åºé¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ç‚¹å‡»é€‰é¡¹æŒ‰é¡ºåºæ’åˆ—</div>';

            // æ‰“ä¹±é€‰é¡¹
            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    playSound('click');
                    // ç§»åŠ¨åˆ°ç›®æ ‡åŒºåŸŸ
                    if(targetDiv.contains(btn)) {
                        sourceDiv.appendChild(btn); // ç§»å›
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn); // ç§»å…¥
                        sortOrder.push(item);
                    }
                    // æ£€æŸ¥æ˜¯å¦å®Œæˆ
                    if(sortOrder.length === qData.items.length) {
                         document.getElementById('nextBtn').disabled = false;
                         document.getElementById('nextBtn').style.opacity = 1;
                    } else {
                         document.getElementById('nextBtn').disabled = true;
                         document.getElementById('nextBtn').style.opacity = 0.5;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv);
            container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯å‘¼å¸å°ä¸“å®¶ï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼èº«ä½“çŸ¥è¯†æŒæ¡å¾—ä¸é”™ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å†å¤ä¹ ä¸€ä¸‹å‘¼å¸çš„ç§˜å¯†ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html>
```</textarea>
<textarea id="u2-2" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬äºŒè¯¾ï¼šå‘¼å¸ä¸å¥åº·ç”Ÿæ´» - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #E1F5FE; /* æ°§æ°”è“èƒŒæ™¯ */
            --card-bg: #FFFFFF;
            --primary: #039BE5; /* ç§‘æŠ€è“ */
            --secondary: #FFCA28; /* æ´»åŠ›é»„ */
            --accent: #E53935; /* è¡€æ¶²çº¢ */
            --text: #01579B;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#B3E5FC 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #81D4FA;
            overflow: hidden;
        }

        h1 { color: #0277BD; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #0288D1; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #E1F5FE;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #039BE5;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #01579B; border-bottom: 1px dashed #81D4FA; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #D84315; font-weight: bold; background: #FFCCBC; padding: 0 4px; border-radius: 3px; }
        .blue-text { color: #1976D2; font-weight: bold; }
        .red-text { color: #C62828; font-weight: bold; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #4FC3F7;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
        }
        .svg-caption { font-size: 0.9em; color: #546E7A; margin-top: 5px; font-style: italic; }

        .ctrl-btn {
            background: #039BE5; color: white; border: none; padding: 8px 20px; 
            border-radius: 20px; margin: 5px; cursor: pointer; font-size: 0.9em;
            box-shadow: 0 3px 0 #0277BD; transition: 0.1s;
        }
        .ctrl-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #0277BD; }
        .ctrl-btn.red { background: #EF5350; box-shadow: 0 3px 0 #C62828; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #0277BD;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #0277BD; }
        .btn-next { background: #FFCA28; box-shadow: 0 4px 0 #F57C00; color: #3E2723; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #E0E0E0; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #039BE5; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #B3E5FC; color: #01579B; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #81D4FA; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #B3E5FC; border-color: #0288D1; font-weight: bold; color: #01579B; }

        .fill-input { border: none; border-bottom: 3px solid #039BE5; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #01579B; border-radius: 0; }

        /* æ’åºé¢˜ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #E1F5FE; border: 1px solid #039BE5; color: #0277BD;
            padding: 8px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #BDBDBD; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #FAFAFA; align-items: center;
        }
        .sort-placeholder { color: #999; font-size: 0.9em; width: 100%; text-align: center; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF7043; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ« çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬äºŒè¯¾ï¼šå‘¼å¸ä¸å¥åº·ç”Ÿæ´»</p>

        <!-- çŸ¥è¯†ç‚¹ 1 & 2: æ°”ä½“äº¤æ¢åŸç† -->
        <div class="knowledge-box">
            <h3>1. ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å‘¼å¸ï¼Ÿ</h3>
            <div class="k-point">ğŸ¦  <strong>ç»†èƒéœ€è¦æ°§</strong>ï¼šä½“å†…ç»†èƒéœ€è¦æ°§æ°”ç»´æŒç”Ÿå‘½ã€‚</div>
            <div class="k-point">ğŸ”„ <strong>æ°”ä½“äº¤æ¢</strong>ï¼š
                <br>- <span class="blue-text">å¸å…¥</span>ï¼šæ°§æ°” â†’ è¿›å…¥è¡€æ¶²
                <br>- <span class="red-text">æ’å‡º</span>ï¼šäºŒæ°§åŒ–ç¢³ â†’ éšå‘¼æ°”æ’å‡º
            </div>
            <div class="svg-stage">
                <svg width="100%" height="140" viewBox="0 0 300 140">
                    <!-- è‚ºæ³¡ -->
                    <circle cx="100" cy="70" r="40" fill="#FFCCBC" stroke="#E64A19"/>
                    <text x="100" y="75" text-anchor="middle" font-size="12" fill="#D84315">è‚ºæ³¡</text>
                    <!-- è¡€ç®¡ -->
                    <path d="M180,30 L180,110" stroke="#EF5350" stroke-width="30" opacity="0.5"/>
                    <text x="240" y="75" font-size="12" fill="#C62828">è¡€ç®¡</text>
                    
                    <!-- æ°§æ°”ç§»åŠ¨ (è“çƒ) -->
                    <circle cx="100" cy="50" r="6" fill="#29B6F6">
                        <animate attributeName="cx" values="100;180" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="110" y="45" font-size="10" fill="#29B6F6">Oâ‚‚</text>

                    <!-- äºŒæ°§åŒ–ç¢³ç§»åŠ¨ (é»‘çƒ) -->
                    <circle cx="180" cy="90" r="6" fill="#555">
                        <animate attributeName="cx" values="180;100" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="150" y="115" font-size="10" fill="#555">COâ‚‚</text>
                </svg>
                <div class="svg-caption">æ°§æ°”è¿›è¡€ç®¡ï¼ŒåºŸæ°”æ’å‡ºå»</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 3: æ°”ä½“æˆåˆ†å¯¹æ¯” -->
        <div class="knowledge-box">
            <h3>2. å¸è¿›å»å’Œå‘¼å‡ºæ¥æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h3>
            <div class="k-point">ğŸ“Š <strong>æˆåˆ†å˜åŒ–</strong>ï¼š
                <br>- æ°§æ°”ï¼š<span class="highlight">å‡å°‘</span>äº†
                <br>- äºŒæ°§åŒ–ç¢³ï¼š<span class="highlight">å¢åŠ </span>äº†
                <br>- æ°®æ°”ï¼šåŸºæœ¬<span class="highlight">ä¸å˜</span>ï¼ˆæ— è®ºæ˜¯å¸å…¥è¿˜æ˜¯å‘¼å‡ºï¼Œå æ¯”éƒ½æ˜¯æœ€å¤šçš„ï¼Œçº¦78%ï¼‰
            </div>
            <div class="svg-stage">
                <svg width="100%" height="140" viewBox="0 0 300 140">
                    <!-- å¸å…¥ -->
                    <g transform="translate(20, 20)">
                        <rect x="0" y="0" width="40" height="100" fill="#E0E0E0"/> <!-- æ°®æ°”èƒŒæ™¯ -->
                        <rect x="0" y="0" width="40" height="21" fill="#42A5F5"/> <!-- æ°§æ°” -->
                        <rect x="0" y="21" width="40" height="0.5" fill="#333"/> <!-- CO2æå°‘ -->
                        <text x="20" y="115" text-anchor="middle" font-size="10">å¸å…¥</text>
                        <text x="20" y="15" text-anchor="middle" font-size="10" fill="white">æ°§å¤š</text>
                    </g>
                    <!-- å‘¼å‡º -->
                    <g transform="translate(100, 20)">
                        <rect x="0" y="0" width="40" height="100" fill="#E0E0E0"/> <!-- æ°®æ°”èƒŒæ™¯ -->
                        <rect x="0" y="0" width="40" height="16" fill="#42A5F5"/> <!-- æ°§æ°”å˜å°‘ -->
                        <rect x="0" y="16" width="40" height="4" fill="#333"/> <!-- CO2å˜å¤š -->
                        <text x="20" y="115" text-anchor="middle" font-size="10">å‘¼å‡º</text>
                        <text x="20" y="12" text-anchor="middle" font-size="10" fill="white">æ°§å°‘</text>
                        <text x="55" y="20" font-size="10" fill="#333">COâ‚‚å¢å¤š</text>
                    </g>
                    
                    <!-- å›¾ä¾‹ -->
                    <rect x="180" y="30" width="10" height="10" fill="#E0E0E0"/><text x="200" y="40" font-size="10">æ°®æ°”(æœ€å¤š)</text>
                    <rect x="180" y="50" width="10" height="10" fill="#42A5F5"/><text x="200" y="60" font-size="10">æ°§æ°”</text>
                    <rect x="180" y="70" width="10" height="10" fill="#333"/><text x="200" y="80" font-size="10">äºŒæ°§åŒ–ç¢³</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 4: è‚ºçš„åŠŸèƒ½ -->
        <div class="knowledge-box">
            <h3>3. è‚ºâ€”â€”æ°”ä½“çš„â€œä¸­è½¬ç«™â€</h3>
            <div class="k-point">ğŸš‰ <strong>ä¸­è½¬ç«™</strong>ï¼šè‚ºæ˜¯æ°”ä½“äº¤æ¢ä¸­è½¬ç«™ã€‚</div>
            <div class="k-point">ğŸˆ <strong>è‚ºæ´»é‡</strong>ï¼šè¿™ä¸ªâ€œä¸­è½¬ç«™â€çš„<span class="highlight">å¤§å°</span>ï¼Œå†³å®šäº†æ¯æ¬¡å‘¼å¸äº¤æ¢æ°”ä½“çš„é‡ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- å°è‚º -->
                    <circle cx="80" cy="50" r="20" fill="#FFCCBC" stroke="#E64A19"/>
                    <text x="80" y="90" text-anchor="middle" font-size="10">è‚ºæ´»é‡å°</text>
                    <text x="80" y="55" text-anchor="middle" font-size="10">äº¤æ¢å°‘</text>
                    
                    <!-- å¤§è‚º -->
                    <circle cx="220" cy="50" r="35" fill="#FFCCBC" stroke="#E64A19"/>
                    <text x="220" y="95" text-anchor="middle" font-size="10" font-weight="bold">è‚ºæ´»é‡å¤§</text>
                    <text x="220" y="55" text-anchor="middle" font-size="10">äº¤æ¢å¤š</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 5 & 6: è¿åŠ¨ä¸å‘¼å¸ -->
        <div class="knowledge-box">
            <h3>4. è¿åŠ¨ä¸å‘¼å¸</h3>
            <div class="k-point">ğŸƒ <strong>è¿åŠ¨æ—¶</strong>ï¼šæ¶ˆè€—æ›´å¤šæ°§æ°” â†’ è‚ºå–åŠ›å·¥ä½œ â†’ å‘¼å¸<span class="highlight">æ€¥ä¿ƒ</span>ã€‚</div>
            <div class="k-point">ğŸ’¤ <strong>å¹³é™æ—¶</strong>ï¼š
                <br>å‘¼å¸ï¼šçº¦ 20 æ¬¡/åˆ†
                <br>å¿ƒè·³ï¼šçº¦ 80 æ¬¡/åˆ†
            </div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <g transform="translate(50,20)">
                        <text x="0" y="-5" font-size="12">å¹³é™çŠ¶æ€</text>
                        <circle cx="25" cy="40" r="20" fill="none" stroke="#42A5F5" stroke-width="2">
                            <animate attributeName="r" values="18;22;18" dur="3s" repeatCount="indefinite"/> <!-- æ…¢å‘¼å¸ -->
                        </circle>
                        <text x="25" y="80" text-anchor="middle" font-size="10">æ…¢å‘¼å¸</text>
                    </g>
                    <g transform="translate(200,20)">
                        <text x="0" y="-5" font-size="12" fill="#E65100">å‰§çƒˆè¿åŠ¨</text>
                        <circle cx="25" cy="40" r="20" fill="none" stroke="#EF5350" stroke-width="3">
                            <animate attributeName="r" values="15;25;15" dur="1s" repeatCount="indefinite"/> <!-- å¿«å‘¼å¸ -->
                        </circle>
                        <text x="25" y="80" text-anchor="middle" font-size="10" fill="#E65100">æ€¥ä¿ƒå‘¼å¸</text>
                    </g>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#0277BD;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. æ°”ä½“äº¤æ¢åŸç† (5é¢˜)
            { type: 'mcq', q: 'æˆ‘ä»¬ä½“å†…çš„ç»†èƒéœ€è¦ç©ºæ°”ä¸­çš„____æ¥ç»´æŒç”Ÿå‘½ã€‚', opts: ['æ°®æ°”', 'æ°§æ°”', 'äºŒæ°§åŒ–ç¢³'], a: 1, exp: 'ç»†èƒå‘¼å¸éœ€è¦æ°§æ°”ã€‚' },
            { type: 'mcq', q: 'äººçš„å‘¼å¸å®é™…ä¸Šæ˜¯åœ¨è¿›è¡Œï¼Ÿ', opts: ['æ¶ˆåŒ–è¿åŠ¨', 'æ°”ä½“äº¤æ¢', 'è¡€æ¶²å¾ªç¯'], a: 1, exp: 'å‘¼å¸=æ°”ä½“äº¤æ¢ã€‚' },
            { type: 'fill', q: 'å‘¼å¸ä½¿æ°§æ°”è¿›å…¥____ï¼ŒåŒæ—¶æ’å‡ºäºŒæ°§åŒ–ç¢³ã€‚', a: ['è¡€æ¶²'], exp: 'æ°§æ°”è¿›å…¥è¡€æ¶²è¿è¾“å…¨èº«ã€‚' },
            { type: 'mcq', q: 'å¸å…¥çš„æ°§æ°”å¯ä»¥å¸®åŠ©æˆ‘ä»¬ï¼Ÿ', opts: ['å¢åŠ ä½“é‡', 'æ­£å¸¸ç”Ÿæ´»å’Œå·¥ä½œ', 'å˜æˆè¶…äºº'], a: 1, exp: 'ç»´æŒæ­£å¸¸ç”Ÿå‘½æ´»åŠ¨ã€‚' },
            { type: 'mcq', q: 'å‘¼å¸è¿‡ç¨‹ä¸­æ’å‡ºçš„åºŸæ°”ä¸»è¦æ˜¯ï¼Ÿ', opts: ['æ°§æ°”', 'äºŒæ°§åŒ–ç¢³', 'æ°®æ°”'], a: 1, exp: 'æ’å‡ºä»£è°¢åºŸç‰©äºŒæ°§åŒ–ç¢³ã€‚' },

            // 2. æ°”ä½“æˆåˆ†å¯¹æ¯” (10é¢˜)
            { type: 'mcq', q: 'ç©ºæ°”ä¸­å«é‡æœ€å¤šçš„æ°”ä½“æ˜¯ï¼Ÿ', opts: ['æ°§æ°”', 'æ°®æ°”', 'äºŒæ°§åŒ–ç¢³'], a: 1, exp: 'æ°®æ°”çº¦å 78%ã€‚' },
            { type: 'mcq', q: 'ç©ºæ°”ä¸­æ°§æ°”å¤§çº¦å ï¼Ÿ', opts: ['78%', '21%', '0.03%'], a: 1, exp: 'æ°§æ°”çº¦å 21%ã€‚' },
            { type: 'mcq', q: 'ç©ºæ°”ä¸­äºŒæ°§åŒ–ç¢³å¤§çº¦å ï¼Ÿ', opts: ['50%', '21%', '0.03%'], a: 2, exp: 'äºŒæ°§åŒ–ç¢³å æ¯”å¾ˆå°ã€‚' },
            { type: 'mcq', q: 'å‘¼å‡ºçš„æ°”ä½“å’Œå¸å…¥çš„æ°”ä½“ç›¸æ¯”ï¼Œæ°§æ°”ï¼Ÿ', opts: ['å¢åŠ äº†', 'å‡å°‘äº†', 'ä¸å˜'], a: 1, exp: 'æ°§æ°”è¢«èº«ä½“æ¶ˆè€—äº†ã€‚' },
            { type: 'mcq', q: 'å‘¼å‡ºçš„æ°”ä½“å’Œå¸å…¥çš„æ°”ä½“ç›¸æ¯”ï¼ŒäºŒæ°§åŒ–ç¢³ï¼Ÿ', opts: ['å¢åŠ äº†', 'å‡å°‘äº†', 'ä¸å˜'], a: 0, exp: 'èº«ä½“äº§ç”Ÿäº†äºŒæ°§åŒ–ç¢³ã€‚' },
            { type: 'mcq', q: 'æ— è®ºæ˜¯å¸å…¥è¿˜æ˜¯å‘¼å‡ºï¼Œå æ¯”æœ€å¤šçš„æ°”ä½“éƒ½æ˜¯ï¼Ÿ', opts: ['æ°§æ°”', 'æ°®æ°”', 'äºŒæ°§åŒ–ç¢³'], a: 1, exp: 'æ°®æ°”ä¸å‚ä¸å‘¼å¸ï¼Œè¿›å‡ºé‡åŸºæœ¬ä¸å˜ï¼Œå æ¯”ä»æœ€é«˜ã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰ç©ºæ°”ä¸­å«é‡ä»å¤šåˆ°å°‘æ’åˆ—ï¼š', items: ['æ°§æ°”', 'äºŒæ°§åŒ–ç¢³', 'æ°®æ°”'], answerOrder: ['æ°®æ°”', 'æ°§æ°”', 'äºŒæ°§åŒ–ç¢³'], exp: 'æ°®>æ°§>äºŒæ°§åŒ–ç¢³ã€‚' },
            { type: 'fill', q: 'ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œäººä½“å¸è¿›å»çš„æ°”ä½“å°±æ˜¯____ã€‚', a: ['ç©ºæ°”'], exp: 'å¸å…¥çš„æ˜¯æ··åˆç©ºæ°”ã€‚' },
            { type: 'mcq', q: 'å‘¼å‡ºçš„æ°”ä½“ä¸­ï¼Œæ°§æ°”å«é‡____äºŒæ°§åŒ–ç¢³å«é‡ã€‚', opts: ['é«˜äº', 'ä½äº', 'ç­‰äº'], a: 0, exp: 'æ³¨æ„é™·é˜±ï¼šå‘¼å‡ºæ°”ä½“ä¸­æ°§æ°”è™½å‡å°‘ï¼Œä½†ä»æœ‰çº¦16%ï¼ŒäºŒæ°§åŒ–ç¢³çº¦4%ï¼Œæ‰€ä»¥æ°§æ°”è¿˜æ˜¯æ¯”äºŒæ°§åŒ–ç¢³å¤šã€‚' },
            { type: 'mcq', q: 'ä¸ºäº†è¯æ˜å‘¼å‡ºæ°”ä½“ä¸­äºŒæ°§åŒ–ç¢³å¢å¤šï¼Œæˆ‘ä»¬å¯ä»¥ç”¨____æ¥æ£€éªŒã€‚', opts: ['æ¾„æ¸…çŸ³ç°æ°´', 'æ°´', 'é…’ç²¾'], a: 0, exp: 'äºŒæ°§åŒ–ç¢³ä½¿æ¾„æ¸…çŸ³ç°æ°´å˜æµ‘æµŠã€‚' },

            // 3. è‚ºä¸è‚ºæ´»é‡ (5é¢˜)
            { type: 'mcq', q: 'èº«ä½“æ°”ä½“äº¤æ¢çš„â€œä¸­è½¬ç«™â€æ˜¯ï¼Ÿ', opts: ['å¿ƒè„', 'èƒƒ', 'è‚º'], a: 2, exp: 'è‚ºæ˜¯å‘¼å¸ç³»ç»Ÿçš„æ ¸å¿ƒã€‚' },
            { type: 'mcq', q: 'â€œä¸­è½¬ç«™â€çš„å¤§å°ç›´æ¥å†³å®šç€ï¼Ÿ', opts: ['å¿ƒè·³é€Ÿåº¦', 'æ¯æ¬¡å‘¼å¸æ°”ä½“äº¤æ¢çš„é‡', 'é£Ÿæ¬²'], a: 1, exp: 'è‚ºå¤§ï¼ˆè‚ºæ´»é‡å¤§ï¼‰äº¤æ¢æ°”ä½“å¤šã€‚' },
            { type: 'mcq', q: 'ä¸€æ¬¡å°½åŠ›å¸æ°”åï¼Œå†å°½åŠ›å‘¼å‡ºçš„æ°”ä½“æ€»é‡ç§°ä¸ºï¼Ÿ', opts: ['è‚ºæ´»é‡', 'å‘¼å¸é‡', 'é€šæ°”é‡'], a: 0, exp: 'è‚ºæ´»é‡å®šä¹‰ã€‚' },
            { type: 'fill', q: 'è‚ºæ´»é‡å¤§çš„äººï¼Œèº«ä½“ä¾›æ°§èƒ½åŠ›æ›´____ã€‚', a: ['å¼º', 'å¥½', 'å¤§'], exp: 'ä¾›æ°§èƒ½åŠ›å¼ºã€‚' },
            { type: 'mcq', q: 'ç»å¸¸é”»ç‚¼å¯ä»¥ä½¿è‚ºæ´»é‡ï¼Ÿ', opts: ['å˜å°', 'å˜å¤§', 'ä¸å˜'], a: 1, exp: 'é”»ç‚¼å¢å¼ºå¿ƒè‚ºåŠŸèƒ½ã€‚' },

            // 4. è¿åŠ¨ä¸å‘¼å¸ (10é¢˜)
            { type: 'mcq', q: 'å‰§çƒˆè¿åŠ¨æ—¶ï¼Œäººä½“éœ€è¦æ¶ˆè€—ï¼Ÿ', opts: ['æ›´å°‘çš„æ°§æ°”', 'æ›´å¤šçš„æ°§æ°”', 'æ›´å°‘çš„èƒ½é‡'], a: 1, exp: 'è¿åŠ¨è€—èƒ½è€—æ°§ã€‚' },
            { type: 'mcq', q: 'å› ä¸ºéœ€è¦æ›´å¤šæ°§æ°”ï¼Œè¿åŠ¨æ—¶æˆ‘ä»¬çš„å‘¼å¸ä¼šï¼Ÿ', opts: ['å˜æ…¢', 'æ€¥ä¿ƒ/åŠ å¿«', 'åœæ­¢'], a: 1, exp: 'åŠ å¿«å‘¼å¸æ‘„å…¥æ›´å¤šæ°§æ°”ã€‚' },
            { type: 'mcq', q: 'æ­£å¸¸æˆå¹´äººå¹³é™çŠ¶æ€ä¸‹ï¼Œæ¯åˆ†é’Ÿå‘¼å¸çº¦ï¼Ÿ', opts: ['20æ¬¡', '60æ¬¡', '80æ¬¡'], a: 0, exp: 'å‘¼å¸çº¦20æ¬¡/åˆ†ã€‚' },
            { type: 'mcq', q: 'æ­£å¸¸æˆå¹´äººå¹³é™çŠ¶æ€ä¸‹ï¼Œæ¯åˆ†é’Ÿå¿ƒè·³çº¦ï¼Ÿ', opts: ['20æ¬¡', '80æ¬¡', '120æ¬¡'], a: 1, exp: 'å¿ƒè·³çº¦80æ¬¡/åˆ†ã€‚' },
            { type: 'mcq', q: 'è¿åŠ¨åï¼Œå¿ƒè·³å’Œå‘¼å¸éƒ½ä¼šï¼Ÿ', opts: ['å‡æ…¢', 'åŠ å¿«', 'ä¸å˜'], a: 1, exp: 'éƒ½åŠ å¿«ä»¥è¿è¾“æ°§æ°”ã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰å‘¼å¸æ¬¡æ•°ä»å°‘åˆ°å¤šæ’åˆ—çŠ¶æ€ï¼š', items: ['æ…¢èµ°', 'å¹³é™', 'å¿«è·‘'], answerOrder: ['å¹³é™', 'æ…¢èµ°', 'å¿«è·‘'], exp: 'è¿åŠ¨è¶Šå‰§çƒˆå‘¼å¸è¶Šå¿«ã€‚' },
            { type: 'mcq', q: 'ä¼´éšç€å‘¼å¸æ¬¡æ•°å¢åŠ ï¼Œå¿ƒè·³æ¬¡æ•°ä¹Ÿä¼šï¼Ÿ', opts: ['å¢åŠ ', 'å‡å°‘'], a: 0, exp: 'å‘¼å¸ä¸å¿ƒè·³ååŒå·¥ä½œã€‚' },
            { type: 'fill', q: 'è¿åŠ¨ç»“æŸåï¼Œå‘¼å¸å’Œå¿ƒè·³ä¼šæ…¢æ…¢æ¢å¤åˆ°____çŠ¶æ€ã€‚', a: ['å¹³é™', 'æ­£å¸¸'], exp: 'æ¢å¤å¹³é™ã€‚' },
            { type: 'mcq', q: 'ä¸ºä»€ä¹ˆè¿åŠ¨å‘˜çš„è‚ºæ´»é‡é€šå¸¸æ¯”è¾ƒå¤§ï¼Ÿ', opts: ['å¤©ç”Ÿçš„', 'ç»å¸¸é”»ç‚¼', 'åƒå¾—å¤š'], a: 1, exp: 'é”»ç‚¼æå‡æœºèƒ½ã€‚' },
            { type: 'mcq', q: 'è‚ºå¿…é¡»æ›´åŠ å–åŠ›åœ°å·¥ä½œï¼Œæ˜¯ä¸ºäº†ï¼Ÿ', opts: ['è·å¾—æ›´å¤šæ°§æ°”', 'æ’å‡ºæ›´å¤šæ°´åˆ†', 'é”»ç‚¼è‚Œè‚‰'], a: 0, exp: 'æ»¡è¶³èº«ä½“å¯¹æ°§æ°”çš„éœ€æ±‚ã€‚' },

            // 5. ç»¼åˆåº”ç”¨ (5é¢˜)
            { type: 'mcq', q: 'ä¿æŠ¤å‘¼å¸å™¨å®˜ï¼Œæˆ‘ä»¬åº”è¯¥ï¼Ÿ', opts: ['å¤šè¿åŠ¨', 'å¸çƒŸ', 'ä¸å»ç©ºæ°”å¥½çš„åœ°æ–¹'], a: 0, exp: 'è¿åŠ¨æœ‰ç›Šå¥åº·ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å…³äºå‘¼å¸çš„è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ', opts: ['å¸å…¥å…¨æ˜¯æ°§æ°”', 'å‘¼å‡ºå…¨æ˜¯äºŒæ°§åŒ–ç¢³', 'å¸å…¥å’Œå‘¼å‡ºæ˜¯æ··åˆæ°”ä½“'], a: 2, exp: 'éƒ½æ˜¯æ··åˆæ°”ä½“ï¼Œåªæ˜¯æ¯”ä¾‹ä¸åŒã€‚' },
            { type: 'mcq', q: 'æµ‹é‡è‚ºæ´»é‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼Ÿ', opts: ['æµ‹é‡è¢‹', 'ç›´å°º', 'å¤©å¹³'], a: 0, exp: 'è‚ºæ´»é‡æµ‹é‡è¢‹ã€‚' },
            { type: 'mcq', q: 'åŒé¾„äººä¸­ï¼Œç”·ç”Ÿçš„è‚ºæ´»é‡é€šå¸¸æ¯”å¥³ç”Ÿï¼Ÿ', opts: ['å¤§', 'å°'], a: 0, exp: 'ç”Ÿç†å·®å¼‚ï¼Œé€šå¸¸ç”·ç”Ÿå¤§ã€‚' },
            { type: 'fill', q: 'äººçš„å‘¼å¸å®é™…ä¸Šæ˜¯åœ¨è¿›è¡Œ____äº¤æ¢ã€‚', a: ['æ°”ä½“'], exp: 'æ ¸å¿ƒæ¦‚å¿µã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(400, now); gain.gain.setValueAtTime(0.05, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'æ’åºé¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ç‚¹å‡»é€‰é¡¹æŒ‰é¡ºåºæ’åˆ—</div>';

            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    playSound('click');
                    if(targetDiv.contains(btn)) {
                        sourceDiv.appendChild(btn);
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn);
                        sortOrder.push(item);
                    }
                    if(sortOrder.length === qData.items.length) {
                         document.getElementById('nextBtn').disabled = false;
                         document.getElementById('nextBtn').style.opacity = 1;
                    } else {
                         document.getElementById('nextBtn').disabled = true;
                         document.getElementById('nextBtn').style.opacity = 0.5;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv); container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯å¥åº·å°è¾¾äººï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼å¯¹å‘¼å¸çŸ¥è¯†å¾ˆäº†è§£ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å†å¤ä¹ ä¸€ä¸‹æ°”ä½“æˆåˆ†çš„ç§˜å¯†ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html></textarea>
<textarea id="u2-3" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬ä¸‰è¯¾ï¼šæµ‹é‡è‚ºæ´»é‡ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #FFF8E1; /* æ´»åŠ›æµ…æ©™ */
            --card-bg: #FFFFFF;
            --primary: #FF8F00; /* è¿åŠ¨æ©™ */
            --secondary: #4CAF50; /* å¥åº·ç»¿ */
            --accent: #0288D1; /* ç§‘æŠ€è“ */
            --text: #3E2723;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#FFE0B2 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #FFCC80;
            overflow: hidden;
        }

        h1 { color: #E65100; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #EF6C00; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #FFF3E0;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #FF8F00;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #BF360C; border-bottom: 1px dashed #FFCC80; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #D84315; font-weight: bold; background: #FFCCBC; padding: 0 4px; border-radius: 3px; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #FFB74D;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
        }
        .svg-caption { font-size: 0.9em; color: #8D6E63; margin-top: 5px; font-style: italic; }

        .ctrl-btn {
            background: #FF8F00; color: white; border: none; padding: 8px 20px; 
            border-radius: 20px; margin: 5px; cursor: pointer; font-size: 0.9em;
            box-shadow: 0 3px 0 #E65100; transition: 0.1s;
        }
        .ctrl-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #E65100; }
        .ctrl-btn.green { background: #4CAF50; box-shadow: 0 3px 0 #2E7D32; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #E65100;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #E65100; }
        .btn-next { background: #4CAF50; box-shadow: 0 4px 0 #2E7D32; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #EEEEEE; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #FF8F00; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #FFE0B2; color: #BF360C; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #FFCC80; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #FFE0B2; border-color: #F57C00; font-weight: bold; color: #E65100; }

        .fill-input { border: none; border-bottom: 3px solid #FF8F00; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #E65100; border-radius: 0; }

        /* æ’åº/æ‹–æ‹½é¢˜ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #FFF3E0; border: 1px solid #FF9800; color: #E65100;
            padding: 8px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #BDBDBD; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #FAFAFA; align-items: center;
        }
        .sort-placeholder { color: #999; font-size: 0.9em; width: 100%; text-align: center; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF8F00; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ« çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬ä¸‰è¯¾ï¼šæµ‹é‡è‚ºæ´»é‡</p>

        <!-- çŸ¥è¯†ç‚¹ 1 & 2: è‚ºæ´»é‡å®šä¹‰ä¸å“¨å­ -->
        <div class="knowledge-box">
            <h3>1. ä»€ä¹ˆæ˜¯è‚ºæ´»é‡ï¼Ÿ</h3>
            <div class="k-point">ğŸˆ <strong>å®šä¹‰</strong>ï¼šä¸€æ¬¡å°½åŠ›<span class="highlight">å¸æ°”</span>åï¼Œå†å°½åŠ›<span class="highlight">å‘¼å‡º</span>çš„æ°”ä½“æ€»é‡ã€‚</div>
            <div class="k-point">ğŸ¥ <strong>æ„ä¹‰</strong>ï¼šæ˜¯èº«ä½“å‘è‚²æ˜¯å¦å¥åº·çš„ä¸€ä¸ªé‡è¦æŒ‡æ ‡ã€‚</div>
            <div class="k-point">ğŸ“£ <strong>å“¨å­å®éªŒ</strong>ï¼šè‚ºæ´»é‡å¤§ â†’ å¹å“¨å­æ—¶é—´<span class="highlight">é•¿</span>ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- äººç‰©Aï¼šè‚ºæ´»é‡å° -->
                    <g transform="translate(50, 20)">
                        <circle cx="20" cy="20" r="15" fill="#FFCCBC"/>
                        <text x="20" y="50" text-anchor="middle" font-size="10">å°è‚ºæ´»é‡</text>
                        <!-- å“¨å­ -->
                        <rect x="35" y="15" width="15" height="5" fill="#555"/>
                        <!-- å£°æ³¢ (çŸ­) -->
                        <path id="sound-small" d="M55,17 L65,17" stroke="#EF5350" stroke-width="2" stroke-dasharray="2"/>
                    </g>

                    <!-- äººç‰©Bï¼šè‚ºæ´»é‡å¤§ -->
                    <g transform="translate(180, 20)">
                        <circle cx="20" cy="20" r="15" fill="#C8E6C9"/>
                        <text x="20" y="50" text-anchor="middle" font-size="10">å¤§è‚ºæ´»é‡</text>
                        <!-- å“¨å­ -->
                        <rect x="35" y="15" width="15" height="5" fill="#555"/>
                        <!-- å£°æ³¢ (é•¿) -->
                        <path id="sound-large" d="M55,17 L100,17" stroke="#2E7D32" stroke-width="2" stroke-dasharray="2"/>
                    </g>
                </svg>
                <button class="ctrl-btn" onclick="animWhistle()">å¹å“¨å­å¯¹æ¯”</button>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 3: æµ‹é‡è¢‹ä½¿ç”¨ -->
        <div class="knowledge-box">
            <h3>2. ä½¿ç”¨è‚ºæ´»é‡æµ‹é‡è¢‹</h3>
            <div class="k-point">1ï¸âƒ£ <strong>å±•å¼€</strong>ï¼šå¼„å¹³æµ‹é‡è¢‹ã€‚</div>
            <div class="k-point">2ï¸âƒ£ <strong>å¹æ°”</strong>ï¼šæ·±å¸ä¸€å£ï¼Œå°½åŠ›å‘¼å…¥ã€‚</div>
            <div class="k-point">3ï¸âƒ£ <strong>æ”¶ç´§</strong>ï¼šå‘¼å®Œç«‹å³æ”¶ç´§é€šæ°”ç®¡ï¼Œé˜²æ¼æ°”ã€‚</div>
            <div class="k-point">4ï¸âƒ£ <strong>è¯»æ•°</strong>ï¼šè¯»å–é¼“èµ·éƒ¨åˆ†çš„<span class="highlight">æœ€å¤§æ•°å€¼</span>(æ¯«å‡ml)ã€‚</div>

            <div class="svg-stage">
                <svg width="100%" height="140" viewBox="0 0 300 140">
                    <!-- æµ‹é‡è¢‹ -->
                    <path id="measure-bag" d="M50,100 L250,100 L250,90 L50,90 Z" fill="#E1F5FE" stroke="#0288D1" stroke-width="2"/>
                    <!-- åˆ»åº¦çº¿ -->
                    <line x1="100" y1="90" x2="100" y2="100" stroke="#0277BD"/><text x="100" y="85" font-size="8">1000</text>
                    <line x1="150" y1="90" x2="150" y2="100" stroke="#0277BD"/><text x="150" y="85" font-size="8">2000</text>
                    <line x1="200" y1="90" x2="200" y2="100" stroke="#0277BD"/><text x="200" y="85" font-size="8">3000</text>
                    
                    <!-- ç®¡å­ -->
                    <rect x="30" y="92" width="20" height="6" fill="#BDBDBD"/>
                    <!-- ç®­å¤´ -->
                    <path id="air-arrow" d="M10,95 L30,95" stroke="#4CAF50" stroke-width="3" opacity="0" marker-end="url(#arrowhead)"/>
                    
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#4CAF50" />
                        </marker>
                    </defs>
                </svg>
                <div class="svg-caption" id="step-text">ç‚¹å‡»æ¼”ç¤ºå¼€å§‹</div>
                <button class="ctrl-btn green" onclick="animBagStep()">æ¼”ç¤ºæµ‹é‡æ­¥éª¤</button>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 4, 5, 6: æ ‡å‡†ä¸å¥åº· -->
        <div class="knowledge-box">
            <h3>3. å¥åº·æ ‡å‡†ä¸æå‡</h3>
            <div class="k-point">ğŸ“Š <strong>å››å¹´çº§æ ‡å‡†</strong>ï¼š
                <br>ğŸ‘¦ ç”·ç”Ÿï¼š1100 ~ 2600 æ¯«å‡
                <br>ğŸ‘§ å¥³ç”Ÿï¼š900 ~ 2000 æ¯«å‡
            </div>
            <div class="k-point">ğŸƒ <strong>è¿åŠ¨å½±å“</strong>ï¼šè‚ºæ´»é‡å¤§ â†’ è¿åŠ¨åæ¢å¤æ­£å¸¸å‘¼å¸æ—¶é—´<span class="highlight">çŸ­</span>ã€‚</div>
            <div class="k-point">ğŸ’ª <strong>æå‡æ–¹æ³•</strong>ï¼šåŠ å¼ºä½“è‚²é”»ç‚¼ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- åæ ‡è½´ -->
                    <line x1="30" y1="100" x2="280" y2="100" stroke="#555"/>
                    <line x1="30" y1="100" x2="30" y2="10" stroke="#555"/>
                    <!-- ç”·ç”ŸæŸ±å­ -->
                    <rect x="60" y="30" width="40" height="70" fill="#42A5F5"/>
                    <text x="80" y="115" text-anchor="middle" font-size="10">ç”·ç”Ÿ</text>
                    <text x="80" y="25" text-anchor="middle" font-size="10">2600ml</text>
                    <!-- å¥³ç”ŸæŸ±å­ -->
                    <rect x="160" y="45" width="40" height="55" fill="#EC407A"/>
                    <text x="180" y="115" text-anchor="middle" font-size="10">å¥³ç”Ÿ</text>
                    <text x="180" y="40" text-anchor="middle" font-size="10">2000ml</text>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#E65100;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- SVG åŠ¨ç”»é€»è¾‘ ---
        
        function animWhistle() {
            const sSmall = document.getElementById('sound-small');
            const sLarge = document.getElementById('sound-large');
            
            // æ¸…é™¤æ—§åŠ¨ç”»
            while(sSmall.firstChild) sSmall.removeChild(sSmall.firstChild);
            while(sLarge.firstChild) sLarge.removeChild(sLarge.firstChild);

            // çŸ­éŸ³åŠ¨ç”»
            const anim1 = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            anim1.setAttribute("attributeName", "stroke-dashoffset");
            anim1.setAttribute("values", "10; 0");
            anim1.setAttribute("dur", "0.5s");
            anim1.setAttribute("repeatCount", "2");
            sSmall.appendChild(anim1);
            anim1.beginElement();

            // é•¿éŸ³åŠ¨ç”»
            const anim2 = document.createElementNS("http://www.w3.org/2000/svg", "animate");
            anim2.setAttribute("attributeName", "stroke-dashoffset");
            anim2.setAttribute("values", "10; 0");
            anim2.setAttribute("dur", "0.5s");
            anim2.setAttribute("repeatCount", "6"); // å“å¾—ä¹…
            sLarge.appendChild(anim2);
            anim2.beginElement();
        }

        let bagStep = 0;
        function animBagStep() {
            const bag = document.getElementById('measure-bag');
            const arrow = document.getElementById('air-arrow');
            const text = document.getElementById('step-text');
            
            // ç®€å•çš„çŠ¶æ€æœºæ¨¡æ‹Ÿæ­¥éª¤
            bagStep = (bagStep + 1) % 4;

            if (bagStep === 1) {
                text.textContent = "1. å±•å¼€æµ‹é‡è¢‹";
                bag.setAttribute("d", "M50,100 L250,100 L250,90 L50,90 Z"); // æ‰çš„
                arrow.setAttribute("opacity", "0");
            } else if (bagStep === 2) {
                text.textContent = "2. æ·±å¸æ°”ï¼Œç”¨åŠ›å¹å…¥";
                arrow.setAttribute("opacity", "1");
                // å¹æ°”åŠ¨ç”»
                bag.innerHTML = `<animate attributeName="d" to="M50,100 L250,100 L250,20 L50,40 Z" dur="1s" fill="freeze"/>`;
            } else if (bagStep === 3) {
                text.textContent = "3. æ”¶ç´§é€šæ°”ç®¡";
                arrow.setAttribute("opacity", "0");
                // ä¿æŒé¼“èµ·çŠ¶æ€
            } else if (bagStep === 0) {
                text.textContent = "4. è¯»æ•° (æœ€å¤§å€¼)";
                // é«˜äº®åˆ»åº¦
            }
        }

        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. è‚ºæ´»é‡æ¦‚å¿µ (5é¢˜)
            { type: 'mcq', q: 'äººä½“ä¸€æ¬¡å°½åŠ›å¸æ°”åï¼Œå†å°½åŠ›å‘¼å‡ºçš„æ°”ä½“æ€»é‡æ˜¯ï¼Ÿ', opts: ['å‘¼å¸é‡', 'è‚ºæ´»é‡', 'é€šæ°”é‡'], a: 1, exp: 'è‚ºæ´»é‡å®šä¹‰ï¼šå°½åŠ›å¸åå°½åŠ›å‘¼ã€‚' },
            { type: 'mcq', q: 'è‚ºæ´»é‡æ˜¯èº«ä½“å‘è‚²æ˜¯å¦____çš„ä¸€ä¸ªæŒ‡æ ‡ã€‚', opts: ['è‚¥èƒ–', 'å¥åº·', 'èªæ˜'], a: 1, exp: 'è‚ºæ´»é‡åæ˜ å¥åº·çŠ¶å†µã€‚' },
            { type: 'mcq', q: 'æµ‹é‡è‚ºæ´»é‡çš„å•ä½é€šå¸¸æ˜¯ï¼Ÿ', opts: ['æ¯«ç±³', 'æ¯«å‡(ml)', 'åƒå…‹'], a: 1, exp: 'æ°”ä½“ä½“ç§¯å•ä½æ˜¯æ¯«å‡ã€‚' },
            { type: 'fill', q: 'è‚ºæ´»é‡è¶Šå¤§ï¼Œè¯´æ˜è‚ºéƒ¨åŠŸèƒ½è¶Š____ã€‚', a: ['å¼º', 'å¥½'], exp: 'å¤§ä»£è¡¨å¥½ã€‚' },
            { type: 'mcq', q: 'æ·±å¸ä¸€å£æ°”å¹å“å“¨å­ï¼Œè‚ºæ´»é‡å¤§çš„äººå¹å“çš„æ—¶é—´ï¼Ÿ', opts: ['æ›´çŸ­', 'æ›´é•¿', 'ä¸€æ ·'], a: 1, exp: 'æ°”å¤šå¹å¾—ä¹…ã€‚' },

            // 2. æµ‹é‡è¿‡ç¨‹ (10é¢˜)
            { type: 'sort', q: 'è¯·æ’åˆ—æµ‹é‡è‚ºæ´»é‡çš„æ­¥éª¤ï¼š', items: ['å±•å¼€', 'è¯»æ•°', 'æ”¶ç´§', 'å¹æ°”'], answerOrder: ['å±•å¼€', 'å¹æ°”', 'æ”¶ç´§', 'è¯»æ•°'], exp: 'æ“ä½œé¡ºåºï¼šå±•->å¹->æ”¶->è¯»ã€‚' },
            { type: 'mcq', q: 'åœ¨å¹æ°”å‰ï¼Œæˆ‘ä»¬åº”è¯¥ï¼Ÿ', opts: ['æ­£å¸¸å¸æ°”', 'æ·±å¸ä¸€å£æ°”', 'æŠŠæ°”å‘¼å®Œ'], a: 1, exp: 'å¿…é¡»æ·±å¸æ°”æ‰èƒ½æµ‹å‡ºæœ€å¤§é‡ã€‚' },
            { type: 'mcq', q: 'å‘¼æ°”æ—¶ï¼Œåº”è¯¥ï¼Ÿ', opts: ['æ–­æ–­ç»­ç»­å‘¼', 'å°½åŠ›å‘¼å‡ºæ‰€æœ‰æ°”ä½“', 'å‘¼ä¸€åŠç•™ä¸€åŠ'], a: 1, exp: 'è¦æµ‹æ€»é‡ï¼Œå¿…é¡»å°½åŠ›å‘¼å®Œã€‚' },
            { type: 'mcq', q: 'å‘¼æ°”ç»“æŸåï¼Œä¸ºä»€ä¹ˆè¦ç«‹åˆ»æ”¶ç´§é€šæ°”ç®¡ï¼Ÿ', opts: ['é˜²æ­¢ç©ºæ°”è·‘å‡º', 'é˜²æ­¢ç©ºæ°”è¿›å…¥', 'ä¸ºäº†å¥½çœ‹'], a: 0, exp: 'é¿å…æ¼æ°”å½±å“è¯»æ•°ã€‚' },
            { type: 'mcq', q: 'è¯»å–æ•°å€¼æ—¶ï¼Œåº”è¯¥çœ‹æµ‹é‡è¢‹ä¸Šé¼“èµ·çš„ï¼Ÿ', opts: ['æœ€å°æ•°å€¼', 'æœ€å¤§æ•°å€¼', 'å¹³å‡æ•°å€¼'], a: 1, exp: 'è¯»æœ€å¤§åˆ»åº¦ã€‚' },
            { type: 'mcq', q: 'å¦‚æœæµ‹é‡è¢‹æ¼æ°”äº†ï¼Œæµ‹é‡ç»“æœä¼šï¼Ÿ', opts: ['åå¤§', 'åå°', 'ä¸å˜'], a: 1, exp: 'æ°”è·‘äº†ï¼Œæ•°å€¼åå°ã€‚' },
            { type: 'fill', q: 'å¹æ°”æ—¶ï¼Œè¦å°†æ°”ä½“ä»____å‘¼å…¥æµ‹é‡è¢‹ã€‚', a: ['é€šæ°”ç®¡'], exp: 'é€šè¿‡ç®¡å­è¿›å…¥ã€‚' },
            { type: 'mcq', q: 'æµ‹é‡æ—¶ï¼Œå˜´å·´è¦ï¼Ÿ', opts: ['åŒ…ç´§é€šæ°”ç®¡', 'ç¦»å¼€é€šæ°”ç®¡', 'å’¬ä½é€šæ°”ç®¡'], a: 0, exp: 'åŒ…ç´§é˜²æ­¢æ¼æ°”ã€‚' },
            { type: 'mcq', q: 'ä¸ºäº†æ•°æ®å‡†ç¡®ï¼Œæˆ‘ä»¬é€šå¸¸æµ‹é‡å‡ æ¬¡å–æœ€å¤§å€¼ï¼Ÿ', opts: ['1æ¬¡', '3æ¬¡'], a: 1, exp: 'å¤šæ¬¡æµ‹é‡é¿å…è¯¯å·®ã€‚' },
            { type: 'mcq', q: 'ä½¿ç”¨å®Œæµ‹é‡è¢‹åï¼Œåº”è¯¥ï¼Ÿ', opts: ['ç›´æ¥æ‰”æ‰', 'æ•´ç†å¥½ä¸‹æ¬¡ç”¨', 'é€ç»™åˆ«äºº'], a: 1, exp: 'çˆ±æŠ¤å™¨æã€‚' },

            // 3. æ•°æ®ä¸æ ‡å‡† (6é¢˜)
            { type: 'mcq', q: 'å°å­¦å››å¹´çº§ç”·ç”Ÿçš„è‚ºæ´»é‡æ­£å¸¸èŒƒå›´å¤§çº¦æ˜¯ï¼Ÿ', opts: ['500-1000ml', '1100-2600ml', '3000-5000ml'], a: 1, exp: 'å›½æ ‡æ•°æ®ã€‚' },
            { type: 'mcq', q: 'å°å­¦å››å¹´çº§å¥³ç”Ÿçš„è‚ºæ´»é‡æ­£å¸¸èŒƒå›´å¤§çº¦æ˜¯ï¼Ÿ', opts: ['900-2000ml', '2000-3000ml'], a: 0, exp: 'å›½æ ‡æ•°æ®ã€‚' },
            { type: 'mcq', q: 'ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒåŒé¾„ç”·ç”Ÿçš„è‚ºæ´»é‡æ¯”å¥³ç”Ÿï¼Ÿ', opts: ['å¤§', 'å°'], a: 0, exp: 'ç”Ÿç†å·®å¼‚ã€‚' },
            { type: 'mcq', q: 'å°æ˜(å››å¹´çº§)æµ‹å¾—è‚ºæ´»é‡æ˜¯1500mlï¼Œä»–çš„æˆç»©ï¼Ÿ', opts: ['åœ¨æ­£å¸¸èŒƒå›´å†…', 'ä¸åˆæ ¼', 'éå¸¸ä¼˜ç§€'], a: 0, exp: 'åœ¨1100-2600ä¹‹é—´ã€‚' },
            { type: 'mcq', q: 'ä¸€åè¿åŠ¨å‘˜çš„è‚ºæ´»é‡å¯èƒ½æ˜¯ï¼Ÿ', opts: ['1000ml', '4000ml'], a: 1, exp: 'è¿åŠ¨å‘˜è‚ºæ´»é‡è¿œè¶…å¸¸äººã€‚' },
            { type: 'fill', q: 'ã€Šå›½å®¶å­¦ç”Ÿä½“è´¨å¥åº·æ ‡å‡†ã€‹ä¸­ï¼Œè‚ºæ´»é‡çš„å•ä½æ˜¯____ã€‚', a: ['æ¯«å‡'], exp: 'å•ä½è®°å¿†ã€‚' },

            // 4. è¿åŠ¨ä¸å¥åº· (10é¢˜)
            { type: 'mcq', q: 'é€šå¸¸è‚ºæ´»é‡è¶Šå¤§çš„äººï¼Œè¿åŠ¨åæ¢å¤æ­£å¸¸å‘¼å¸éœ€è¦çš„æ—¶é—´ï¼Ÿ', opts: ['è¶Šé•¿', 'è¶ŠçŸ­', 'ä¸€æ ·'], a: 1, exp: 'å¿ƒè‚ºåŠŸèƒ½å¥½ï¼Œæ¢å¤å¿«ã€‚' },
            { type: 'mcq', q: 'æƒ³è¦æå‡è‚ºæ´»é‡ï¼Œæœ€æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ï¼Ÿ', opts: ['å¤šç¡è§‰', 'å¤šåƒè‚‰', 'åŠ å¼ºä½“è‚²é”»ç‚¼'], a: 2, exp: 'é”»ç‚¼å¢å¼ºå¿ƒè‚ºã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªé¡¹è¿åŠ¨èƒ½æœ‰æ•ˆæå‡è‚ºæ´»é‡ï¼Ÿ', opts: ['ä¸‹æ£‹', 'çœ‹ä¹¦', 'æ¸¸æ³³/è·‘æ­¥'], a: 2, exp: 'æœ‰æ°§è¿åŠ¨ã€‚' },
            { type: 'mcq', q: 'ä¼´éšç€è¿åŠ¨é‡çš„å¢åŠ ï¼Œæ¯åˆ†é’Ÿå‘¼å¸æ¬¡æ•°ä¼šï¼Ÿ', opts: ['å‡å°‘', 'å¢åŠ ', 'ä¸å˜'], a: 1, exp: 'è¿åŠ¨éœ€æ°§é‡å¤§ï¼Œå‘¼å¸åŠ å¿«ã€‚' },
            { type: 'mcq', q: 'ç»å¸¸å‚åŠ ä½“è‚²é”»ç‚¼ï¼Œå¯ä»¥ä½¿è‚ºéƒ¨ï¼Ÿ', opts: ['æ›´å¼ºå£®', 'æ›´è™šå¼±', 'å˜å°'], a: 0, exp: 'é”»ç‚¼æœ‰ç›Šã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰å‘¼å¸æ¬¡æ•°ä»å°‘åˆ°å¤šæ’åˆ—ï¼š', items: ['æ…¢èµ°', 'ç¡è§‰', 'è·³ç»³'], answerOrder: ['ç¡è§‰', 'æ…¢èµ°', 'è·³ç»³'], exp: 'è¿åŠ¨è¶Šå‰§çƒˆå‘¼å¸è¶Šå¿«ã€‚' },
            { type: 'mcq', q: 'è‚ºæ´»é‡å¤§æ„å‘³ç€æ¯æ¬¡å‘¼å¸èƒ½äº¤æ¢____çš„æ°”ä½“ã€‚', opts: ['æ›´å°‘', 'æ›´å¤š'], a: 1, exp: 'æ•ˆç‡é«˜ã€‚' },
            { type: 'mcq', q: 'ä¸ºä»€ä¹ˆé•¿è·‘è¿åŠ¨å‘˜è·‘å®Œåä¸ä¼šå–˜å¾—å¤ªå‰å®³ï¼Ÿ', opts: ['è‚ºæ´»é‡å¤§', 'è‚ºæ´»é‡å°', 'æ²¡å‘¼å¸'], a: 0, exp: 'ä¾›æ°§èƒ½åŠ›å¼ºã€‚' },
            { type: 'fill', q: 'æˆ‘ä»¬æ¯æ—¶æ¯åˆ»éƒ½åœ¨è¿›è¡Œç€____ã€‚', a: ['å‘¼å¸'], exp: 'ç”Ÿå‘½ä¸æ¯å‘¼å¸ä¸æ­¢ã€‚' },
            { type: 'mcq', q: 'é™¤äº†è¿åŠ¨ï¼Œè¿˜æœ‰ä»€ä¹ˆèƒ½ä¿æŠ¤å‘¼å¸å™¨å®˜ï¼Ÿ', opts: ['å¸çƒŸ', 'æ·±å‘¼å¸/å‘¼å¸æ–°é²œç©ºæ°”'], a: 1, exp: 'å¥åº·ä¹ æƒ¯ã€‚' },

            // 5. ç»¼åˆæ¢ç©¶ (4é¢˜)
            { type: 'mcq', q: 'æ¯”è¾ƒè‚ºæ´»é‡å¤§å°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼Ÿ', opts: ['å“¨å­', 'æ°”çƒ', 'ä¸¤è€…éƒ½å¯ä»¥'], a: 2, exp: 'å¹å“¨å­çœ‹æ—¶é—´ï¼Œå¹æ°”çƒçœ‹å¤§å°ã€‚' },
            { type: 'mcq', q: 'å¹å¤§ä¸€ä¸ªæ°”çƒï¼Œå°çº¢ç”¨äº†3å£æ°”ï¼Œå°æ˜ç”¨äº†2å£æ°”ï¼Œè°çš„è‚ºæ´»é‡å¯èƒ½å¤§ï¼Ÿ', opts: ['å°çº¢', 'å°æ˜'], a: 1, exp: 'å°æ˜å•æ¬¡å¹æ°”é‡å¤§ã€‚' },
            { type: 'mcq', q: 'è‚ºæ´»é‡å°çš„åŒå­¦ï¼Œåœ¨ä½“è‚²è¯¾é•¿è·‘æ—¶å®¹æ˜“ï¼Ÿ', opts: ['è½»æ¾è·‘å®Œ', 'æ°”å–˜åå/ç´¯'], a: 1, exp: 'ä¾›æ°§ä¸è¶³ã€‚' },
            { type: 'fill', q: 'è‚ºæ´»é‡æ˜¯____äº¤æ¢çš„â€œä¸­è½¬ç«™â€å¤§å°çš„ä½“ç°ã€‚', a: ['æ°”ä½“'], exp: 'è‚ºæ˜¯æ°”ä½“äº¤æ¢åœºæ‰€ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(400, now); gain.gain.setValueAtTime(0.05, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'æ’åºé¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ç‚¹å‡»é€‰é¡¹æŒ‰é¡ºåºæ’åˆ—</div>';

            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    playSound('click');
                    if(targetDiv.contains(btn)) {
                        sourceDiv.appendChild(btn);
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn);
                        sortOrder.push(item);
                    }
                    if(sortOrder.length === qData.items.length) {
                         document.getElementById('nextBtn').disabled = false;
                         document.getElementById('nextBtn').style.opacity = 1;
                    } else {
                         document.getElementById('nextBtn').disabled = true;
                         document.getElementById('nextBtn').style.opacity = 0.5;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv); container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯è‚ºæ´»é‡å† å†›ï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼èº«ä½“ç´ è´¨å¾ˆæ£’ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å¤šé”»ç‚¼ï¼Œä¸‹æ¬¡æ›´é«˜åˆ†ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html></textarea>
<textarea id="u2-4" style="display:none;">è¿™æ˜¯ä¸€ä¸ªä¸ºæ‚¨å®šåˆ¶çš„ **å°å­¦ç§‘å­¦å››ä¸Š ç¬¬äºŒå•å…ƒç¬¬å››è¯¾ï¼šä¸€å¤©çš„é£Ÿç‰©** å¤ä¹ ä¸é—¯å…³ç½‘é¡µã€‚

æœ¬ç½‘é¡µå›´ç»• **é£Ÿç‰©çš„åˆ†ç±»ä¸æ¥æº** è¿™ä¸€æ ¸å¿ƒä¸»é¢˜ï¼Œè®¾è®¡äº† **4ç»„ç²¾ç¾çš„SVGäº’åŠ¨åŠ¨ç”»**ï¼ˆé£Ÿç‰©åˆ†ç±»è½¬ç›˜ã€èƒ½é‡è·å–ç¤ºæ„ã€ç”Ÿç†Ÿé£Ÿè¾¨æã€è®°å½•æ–¹æ³•æ¼”ç¤ºï¼‰ï¼Œä»¥åŠ **35é“é—¯å…³æµ‹è¯•é¢˜**ï¼ˆå«ç‚¹å‡»æ’åºé¢˜æ¨¡æ‹Ÿæ‹–æ‹½ï¼Œé€‚é…æ‰‹æœºæ“ä½œï¼‰ã€‚

### ä½¿ç”¨æ–¹æ³•ï¼š
1.  å¤åˆ¶ä¸‹æ–¹ä»£ç ã€‚
2.  æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç²˜è´´ä»£ç ã€‚
3.  ä¿å­˜ä¸º `ä¸€å¤©çš„é£Ÿç‰©.html`ã€‚
4.  ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ˆæ¨èæ‰‹æœºæ¨ªå±æˆ–ç«–å±ï¼‰ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬å››è¯¾ï¼šä¸€å¤©çš„é£Ÿç‰© - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #FFFDE7; /* å¥¶æ²¹è‰²èƒŒæ™¯ï¼Œä»£è¡¨é£Ÿç‰© */
            --card-bg: #FFFFFF;
            --primary: #FF9800; /* æ©™è‰² */
            --secondary: #8BC34A; /* è”¬èœç»¿ */
            --accent: #F44336; /* è‚‰ç±»çº¢ */
            --text: #3E2723;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#FFCC80 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #FFCC80;
            overflow: hidden;
        }

        h1 { color: #E65100; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #F57C00; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #FFF3E0;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid #FF9800;
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #E65100; border-bottom: 1px dashed #FFE0B2; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #C2185B; font-weight: bold; background: #F8BBD0; padding: 0 4px; border-radius: 3px; }
        .green-text { color: #2E7D32; font-weight: bold; }
        .red-text { color: #C62828; font-weight: bold; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #FFB74D;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
        }
        .svg-caption { font-size: 0.9em; color: #8D6E63; margin-top: 5px; font-style: italic; }

        .ctrl-btn {
            background: #FF9800; color: white; border: none; padding: 8px 20px; 
            border-radius: 20px; margin: 5px; cursor: pointer; font-size: 0.9em;
            box-shadow: 0 3px 0 #E65100; transition: 0.1s;
        }
        .ctrl-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #E65100; }
        .ctrl-btn.green { background: #8BC34A; box-shadow: 0 3px 0 #558B2F; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #E65100;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #E65100; }
        .btn-next { background: #8BC34A; box-shadow: 0 4px 0 #558B2F; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #EFEBE9; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: #FF9800; width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #FFE0B2; color: #E65100; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #FFCC80; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #FFE0B2; border-color: #F57C00; font-weight: bold; color: #E65100; }

        .fill-input { border: none; border-bottom: 3px solid #FF9800; background: transparent; width: 120px; text-align: center; font-size: 1.2em; color: #E65100; border-radius: 0; }

        /* æ’åº/æ‹–æ‹½é¢˜ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #FFF3E0; border: 1px solid #FF9800; color: #E65100;
            padding: 8px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #BDBDBD; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #FAFAFA; align-items: center;
        }
        .sort-placeholder { color: #999; font-size: 0.9em; width: 100%; text-align: center; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: #FF9800; font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ¥ª çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬äºŒå•å…ƒç¬¬å››è¯¾ï¼šä¸€å¤©çš„é£Ÿç‰©</p>

        <!-- çŸ¥è¯†ç‚¹ 1: èƒ½é‡æ¥æº -->
        <div class="knowledge-box">
            <h3>1. èƒ½é‡çš„æ¥æº</h3>
            <div class="k-point">âš¡ <strong>é¥®é£Ÿä¸å‘¼å¸</strong>ï¼šé™¤äº†å‘¼å¸ï¼Œé¥®é£Ÿæ˜¯æˆ‘ä»¬è·å–<span class="highlight">èƒ½é‡</span>çš„å¦ä¸€é‡è¦æ´»åŠ¨ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="80" viewBox="0 0 300 80">
                    <!-- å‘¼å¸ -->
                    <text x="50" y="30" text-anchor="middle" font-size="12">å‘¼å¸</text>
                    <circle cx="50" cy="50" r="15" fill="#B3E5FC"/>
                    <text x="50" y="55" text-anchor="middle" font-size="20">ğŸŒ¬ï¸</text>
                    
                    <!-- é¥®é£Ÿ -->
                    <text x="250" y="30" text-anchor="middle" font-size="12">é¥®é£Ÿ</text>
                    <circle cx="250" cy="50" r="15" fill="#FFCCBC"/>
                    <text x="250" y="55" text-anchor="middle" font-size="20">ğŸ</text>

                    <!-- äººä½“èƒ½é‡ -->
                    <g transform="translate(150, 40)">
                        <rect x="-30" y="-15" width="60" height="30" rx="5" fill="#FFEB3B"/>
                        <text x="0" y="5" text-anchor="middle" font-size="12" font-weight="bold">èƒ½é‡</text>
                        <path d="M-60,0 L-35,0" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
                        <path d="M60,0 L35,0" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
                    </g>
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#555" />
                        </marker>
                    </defs>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 2,3,6,8: åˆ†ç±»æ–¹æ³• -->
        <div class="knowledge-box">
            <h3>2. ç»™é£Ÿç‰©åˆ†åˆ†ç±»</h3>
            <div class="k-point">ğŸŒ¿ <strong>æŒ‰æ¥æº</strong>ï¼š
                <br>- <span class="green-text">æ¤ç‰©ç±» (ç´ é£Ÿ)</span>ï¼šè°·ç‰©ã€æœè”¬...
                <br>- <span class="red-text">åŠ¨ç‰©ç±» (è¤é£Ÿ)</span>ï¼šè‚‰ã€è›‹ã€å¥¶...
            </div>
            <div class="k-point">ğŸš <strong>æŒ‰ç”Ÿæ´»ä¹ æƒ¯</strong>ï¼šç²®é£Ÿã€è”¬èœã€è‚‰ç±»ã€å¥¶åˆ¶å“ã€è°ƒå‘³å“ç­‰ã€‚</div>
            <div class="k-point">ğŸ’¡ <strong>å¤šé‡åˆ†ç±»</strong>ï¼šåŒä¸€ç§é£Ÿç‰©å¯ä»¥æŒ‰ä¸åŒæ ‡å‡†åˆ†åˆ°ä¸åŒç±»åˆ«é‡Œã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="140" viewBox="0 0 300 140">
                    <!-- ä¸­å¿ƒé£Ÿç‰© -->
                    <circle cx="150" cy="70" r="30" fill="#FFF9C4" stroke="#FBC02D"/>
                    <text x="150" y="75" text-anchor="middle" font-size="12">é¸¡è›‹</text>
                    
                    <!-- åˆ†ç±»è¿çº¿ -->
                    <line x1="150" y1="40" x2="150" y2="10" stroke="#555" stroke-dasharray="4"/>
                    <text x="150" y="10" text-anchor="middle" font-size="10" fill="#D84315">æŒ‰æ¥æº: åŠ¨ç‰©ç±»</text>

                    <line x1="120" y1="70" x2="50" y2="70" stroke="#555" stroke-dasharray="4"/>
                    <text x="50" y="65" text-anchor="middle" font-size="10" fill="#D84315">æŒ‰ä¹ æƒ¯: è›‹ç±»</text>

                    <line x1="180" y1="70" x2="250" y2="70" stroke="#555" stroke-dasharray="4"/>
                    <text x="250" y="65" text-anchor="middle" font-size="10" fill="#D84315">æŒ‰ç”Ÿç†Ÿ: ç†Ÿé£Ÿ(ç…®)</text>
                    
                    <line x1="150" y1="100" x2="150" y2="130" stroke="#555" stroke-dasharray="4"/>
                    <text x="150" y="135" text-anchor="middle" font-size="10" fill="#D84315">æŒ‰ä¸»å‰¯: å‰¯é£Ÿ</text>
                </svg>
                <div class="svg-caption">åŒä¸€ç§é£Ÿç‰©æœ‰å¤šç§åˆ†ç±»</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 4 & 5: ç”Ÿé£Ÿä¸ç†Ÿé£Ÿ -->
        <div class="knowledge-box">
            <h3>3. ç”Ÿé£Ÿä¸ç†Ÿé£Ÿ</h3>
            <div class="k-point">ğŸ”¥ <strong>ç†Ÿé£Ÿ</strong>ï¼šè‚‰ç±»ã€é¦’å¤´ï¼ˆå¿…é¡»ç…®ç†Ÿæ€èŒã€åŠ©æ¶ˆåŒ–ï¼‰ã€‚</div>
            <div class="k-point">ğŸ¥— <strong>ç”Ÿé£Ÿ</strong>ï¼šæ°´æœã€é»„ç“œï¼ˆä¿æŒç»´ç”Ÿç´ ï¼‰ã€‚</div>
            <div class="k-point">ğŸ… <strong>ä¸¤æ –</strong>ï¼šè¥¿çº¢æŸ¿ï¼ˆå¯ç”Ÿåƒç³–æ‹Œï¼Œä¹Ÿå¯ç†Ÿåƒè›‹æ±¤ï¼‰ã€‚</div>
            
            <div class="svg-stage">
                <div style="display:flex; justify-content:space-around;">
                    <svg width="80" height="80">
                        <circle cx="40" cy="40" r="30" fill="#81C784"/>
                        <text x="40" y="45" text-anchor="middle" fill="white">ç”Ÿé£Ÿ</text>
                        <text x="40" y="65" text-anchor="middle" font-size="8">è‹¹æœ/é»„ç“œ</text>
                    </svg>
                    <svg width="80" height="80">
                        <rect x="10" y="10" width="60" height="60" rx="10" fill="#EF5350"/>
                        <text x="40" y="45" text-anchor="middle" fill="white">ç†Ÿé£Ÿ</text>
                        <text x="40" y="65" text-anchor="middle" font-size="8">çŒªè‚‰/ç±³é¥­</text>
                    </svg>
                    <svg width="80" height="80">
                        <path d="M40,10 L70,70 L10,70 Z" fill="#FFCA28"/>
                        <text x="40" y="50" text-anchor="middle" fill="#3E2723">å‡å¯</text>
                        <text x="40" y="65" text-anchor="middle" font-size="8">è¥¿çº¢æŸ¿</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 7: è®°å½•æ–¹æ³• -->
        <div class="knowledge-box">
            <h3>4. æ€æ ·è®°å½•é£Ÿç‰©ï¼Ÿ</h3>
            <div class="k-point">ğŸ“ <strong>æ‹†åˆ†è®°å½•</strong>ï¼šæ··åˆé£Ÿç‰©è¦æ‹†å¼€è®°ã€‚
                <br>ä¾‹å¦‚ï¼š<span class="highlight">è›‹ç‚’é¥­</span> = é¸¡è›‹ + ç±³é¥­
            </div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- è›‹ç‚’é¥­ -->
                    <ellipse cx="60" cy="50" rx="40" ry="25" fill="#FFE082" stroke="#FFB300"/>
                    <text x="60" y="55" text-anchor="middle" font-size="12">è›‹ç‚’é¥­</text>
                    
                    <!-- ç®­å¤´ -->
                    <path d="M110,50 L140,50" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
                    
                    <!-- æ‹†åˆ†ç»“æœ -->
                    <circle cx="180" cy="50" r="20" fill="#FFF9C4" stroke="#FBC02D"/>
                    <text x="180" y="55" text-anchor="middle" font-size="10">é¸¡è›‹</text>
                    <text x="215" y="55" font-size="12">+</text>
                    <circle cx="250" cy="50" r="20" fill="#F5F5F5" stroke="#BDBDBD"/>
                    <text x="250" y="55" text-anchor="middle" font-size="10">ç±³é¥­</text>
                </svg>
                <div class="svg-caption">è®°ä¸º2ç§é£Ÿç‰©</div>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#E65100;">é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- 35é“é¢˜åº“ ---
        const quizData = [
            // 1. èƒ½é‡ä¸é‡è¦æ€§ (5é¢˜)
            { type: 'mcq', q: 'é™¤äº†å‘¼å¸ï¼Œæˆ‘ä»¬ä»å¤–ç•Œè·å¾—èƒ½é‡çš„å¦ä¸€é‡è¦æ´»åŠ¨æ˜¯ï¼Ÿ', opts: ['ç¡çœ ', 'è¿åŠ¨', 'é¥®é£Ÿ'], a: 2, exp: 'é¥®é£Ÿæ‘„å…¥èƒ½é‡ã€‚' },
            { type: 'mcq', q: 'äººä½“çš„èƒ½é‡ä¸»è¦æ¥è‡ªï¼Ÿ', opts: ['é£Ÿç‰©', 'ç©ºæ°”', 'æ°´'], a: 0, exp: 'é£Ÿç‰©æä¾›åŒ–å­¦èƒ½ã€‚' },
            { type: 'fill', q: 'æˆ‘ä»¬æ¯å¤©éƒ½è¦åƒé£Ÿç‰©ï¼Œæ˜¯ä¸ºäº†è·å¾—____ã€‚', a: ['èƒ½é‡', 'è¥å…»'], exp: 'ç»´æŒç”Ÿå‘½æ´»åŠ¨ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å…³äºé¥®é£Ÿçš„è¯´æ³•ï¼Œæ­£ç¡®çš„æ˜¯ï¼Ÿ', opts: ['æƒ³åƒå¤šå°‘åƒå¤šå°‘', 'åªåƒå–œæ¬¢çš„', 'åˆç†æ­é…ï¼Œå‡è¡¡é¥®é£Ÿ'], a: 2, exp: 'å¥åº·é¥®é£ŸåŸåˆ™ã€‚' },
            { type: 'mcq', q: 'å¦‚æœä¸åƒæ—©é¤ï¼Œæˆ‘ä»¬ä¸Šè¯¾æ—¶å¯èƒ½ä¼šï¼Ÿ', opts: ['æ›´æœ‰ç²¾ç¥', 'å¤´æ™•æ— åŠ›', 'æ²¡æ„Ÿè§‰'], a: 1, exp: 'èƒ½é‡ä¸è¶³ã€‚' },

            // 2. é£Ÿç‰©åˆ†ç±» (10é¢˜)
            { type: 'mcq', q: 'æŒ‰æ¥æºåˆ†ï¼Œç‰›è‚‰å±äºï¼Ÿ', opts: ['æ¤ç‰©ç±»', 'åŠ¨ç‰©ç±»', 'è°ƒå‘³å“'], a: 1, exp: 'è‚‰ç±»æ¥è‡ªæœ¬èº«ã€‚' },
            { type: 'mcq', q: 'æŒ‰æ¥æºåˆ†ï¼Œç±³é¥­å±äºï¼Ÿ', opts: ['æ¤ç‰©ç±»', 'åŠ¨ç‰©ç±»', 'çŸ¿ç‰©ç±»'], a: 0, exp: 'æ°´ç¨»æ˜¯æ¤ç‰©ã€‚' },
            { type: 'sort', q: 'è¯·å°†ä¸‹åˆ—é£Ÿç‰©æŒ‰æ¥æºåˆ†ç±»(å…ˆæ¤ç‰©ååŠ¨ç‰©)ï¼š', items: ['ç™½èœ', 'é¸¡è›‹', 'è‹¹æœ'], answerOrder: ['ç™½èœ', 'è‹¹æœ', 'é¸¡è›‹'], exp: 'ç™½èœè‹¹æœæ˜¯æ¤ç‰©ï¼Œé¸¡è›‹æ˜¯åŠ¨ç‰©ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—é£Ÿç‰©ä¸­ï¼Œå±äºä¸»é£Ÿçš„æ˜¯ï¼Ÿ', opts: ['çº¢çƒ§è‚‰', 'é¦’å¤´', 'é’èœ'], a: 1, exp: 'é¦’å¤´é¢é£Ÿä¸ºä¸»é£Ÿã€‚' },
            { type: 'mcq', q: 'æ ¹æ®ç”Ÿæ´»ä¹ æƒ¯ï¼Œç‰›å¥¶é€šå¸¸è¢«å½’ä¸ºï¼Ÿ', opts: ['è‚‰ç±»', 'è”¬èœ', 'å¥¶åˆ¶å“'], a: 2, exp: 'ç”Ÿæ´»ä¹ æƒ¯åˆ†ç±»æ³•ã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸åŒçš„____ç»™é£Ÿç‰©åˆ†ç±»ã€‚', opts: ['ä»·æ ¼', 'æ ‡å‡†', 'é‡é‡'], a: 1, exp: 'æ ‡å‡†ä¸åŒï¼Œç±»åˆ«ä¸åŒã€‚' },
            { type: 'mcq', q: 'åŒä¸€ç§é£Ÿç‰©ï¼ˆå¦‚é»„ç“œï¼‰____è¢«åˆ†åˆ°ä¸åŒçš„ç±»åˆ«é‡Œã€‚', opts: ['å¯ä»¥', 'ä¸å¯ä»¥'], a: 0, exp: 'æ—¢æ˜¯è”¬èœä¹Ÿæ˜¯æ¤ç‰©ç±»ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å±äºç´ é£Ÿï¼ˆæ¤ç‰©ç±»ï¼‰çš„æ˜¯ï¼Ÿ', opts: ['è±†è…', 'ç«è…¿', 'é…¸å¥¶'], a: 0, exp: 'è±†è…æ˜¯å¤§è±†åšçš„ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å±äºè¤é£Ÿï¼ˆåŠ¨ç‰©ç±»ï¼‰çš„æ˜¯ï¼Ÿ', opts: ['åœŸè±†', 'é±¼', 'èŠ±ç”Ÿ'], a: 1, exp: 'é±¼æ˜¯åŠ¨ç‰©ã€‚' },
            { type: 'fill', q: 'æŒ‰æ¥æºåˆ†ï¼Œé£Ÿç‰©å¯åˆ†ä¸ºæ¤ç‰©ç±»é£Ÿç‰©å’Œ____é£Ÿç‰©ã€‚', a: ['åŠ¨ç‰©ç±»', 'åŠ¨ç‰©'], exp: 'ä¸¤å¤§æ¥æºã€‚' },

            // 3. ç”Ÿé£Ÿä¸ç†Ÿé£Ÿ (8é¢˜)
            { type: 'mcq', q: 'ä¸‹åˆ—é£Ÿç‰©ä¸­ï¼Œé€šå¸¸å¿…é¡»ç…®ç†Ÿåƒçš„æ˜¯ï¼Ÿ', opts: ['é¦™è•‰', 'çŒªè‚‰', 'é»„ç“œ'], a: 1, exp: 'ç”Ÿè‚‰å«å¯„ç”Ÿè™«ç»†èŒã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—é£Ÿç‰©ä¸­ï¼Œé€‚åˆç”Ÿåƒçš„æ˜¯ï¼Ÿ', opts: ['å¤§ç±³', 'é¸¡è‚‰', 'æ¢¨'], a: 2, exp: 'æ°´æœé€‚åˆç”Ÿåƒã€‚' },
            { type: 'mcq', q: 'æ—¢å¯ä»¥ç”Ÿåƒï¼Œåˆå¯ä»¥ç†Ÿåƒçš„é£Ÿç‰©æ˜¯ï¼Ÿ', opts: ['è¥¿çº¢æŸ¿', 'åœŸè±†', 'ç‰›è‚‰'], a: 0, exp: 'è¥¿çº¢æŸ¿ä¸¤æ –ã€‚' },
            { type: 'mcq', q: 'é£Ÿç‰©ç…®ç†Ÿåï¼Œé€šå¸¸ä¼šï¼Ÿ', opts: ['è¥å…»å…¨æ²¡äº†', 'æ›´éš¾æ¶ˆåŒ–', 'æ›´æ˜“æ¶ˆåŒ–ï¼Œæ€ç­ç»†èŒ'], a: 2, exp: 'ç†Ÿé£Ÿçš„ä¼˜ç‚¹ã€‚' },
            { type: 'mcq', q: 'ç”Ÿåƒé£Ÿç‰©çš„å¥½å¤„æ˜¯ï¼Ÿ', opts: ['å‘³é“æ›´å¥½', 'å‡å°‘ç»´ç”Ÿç´ æŸå¤±', 'æ›´å«ç”Ÿ'], a: 1, exp: 'é«˜æ¸©ä¼šç ´åéƒ¨åˆ†ç»´ç”Ÿç´ ã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰ç”Ÿé£Ÿã€ç†Ÿé£Ÿã€å‡å¯æ’åºï¼š', items: ['çŒªè‚‰', 'è‹¹æœ', 'èåœ'], answerOrder: ['è‹¹æœ', 'çŒªè‚‰', 'èåœ'], exp: 'è‹¹æœç”Ÿï¼ŒçŒªè‚‰ç†Ÿï¼Œèåœå‡å¯ã€‚' },
            { type: 'mcq', q: 'å‡‰æ‹Œé»„ç“œå±äºï¼Ÿ', opts: ['ç”Ÿé£Ÿ', 'ç†Ÿé£Ÿ'], a: 0, exp: 'æœªåŠ çƒ­ã€‚' },
            { type: 'mcq', q: 'ç”Ÿåƒè”¬èœæ°´æœæ—¶ï¼Œæœ€é‡è¦çš„æ³¨æ„äº‹é¡¹æ˜¯ï¼Ÿ', opts: ['æ´—å¹²å‡€', 'ç…®ç†Ÿ', 'å¤šæ”¾ç³–'], a: 0, exp: 'å«ç”Ÿå®‰å…¨ã€‚' },

            // 4. è®°å½•ç»Ÿè®¡ (7é¢˜)
            { type: 'mcq', q: 'è®°å½•ä¸€å¤©åƒçš„é£Ÿç‰©æ—¶ï¼Œè¿™é¡¿é¥­åƒçš„â€œç‰›è‚‰é¢â€åº”è¯¥è®°ä¸ºï¼Ÿ', opts: ['1ç§é£Ÿç‰©', '2ç§é£Ÿç‰©(ç‰›è‚‰+é¢)', 'ä¸è®°å½•'], a: 1, exp: 'æ··åˆé£Ÿç‰©æ‹†åˆ†è®°ã€‚' },
            { type: 'mcq', q: 'â€œç•ªèŒ„ç‚’è›‹â€åº”è¯¥è®°ä¸ºå‡ ç§é£Ÿç‰©ï¼Ÿ', opts: ['1ç§', '2ç§', '3ç§'], a: 1, exp: 'ç•ªèŒ„+è›‹ã€‚' },
            { type: 'mcq', q: 'ç»Ÿè®¡é£Ÿç‰©æ•°é‡æ—¶ï¼Œé›¶é£Ÿ____è®°å½•ã€‚', opts: ['ä¸éœ€è¦', 'éœ€è¦', 'çœ‹å¿ƒæƒ…'], a: 1, exp: 'å‡¡å…¥å£çš†éœ€è®°å½•ã€‚' },
            { type: 'mcq', q: 'ä¸€å¤©ä¸­å–çš„æ°´____é£Ÿç‰©ã€‚', opts: ['å±äº', 'ä¸å±äº'], a: 0, exp: 'æ°´ä¹Ÿæ˜¯äººä½“é‡è¦è¥å…»æ¥æºï¼Œå¹¿ä¹‰ä¸Šç®—ã€‚' },
            { type: 'fill', q: 'è®°å½•â€œå…«å®ç²¥â€æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠå®ƒ____æˆå¤šç§é£Ÿæè®°å½•ã€‚', a: ['æ‹†åˆ†', 'åˆ†è§£'], exp: 'æ‹†åˆ†è®°å½•æ³•ã€‚' },
            { type: 'mcq', q: 'å¦‚æœæ—©é¤åƒäº†2ä¸ªåŒ…å­ï¼Œè®°å½•æ—¶è®°ä¸ºï¼Ÿ', opts: ['åŒ…å­*2', 'åŒ…å­*1'], a: 0, exp: 'åŒç§é£Ÿç‰©è®°1æ¬¡æˆ–æ ‡æ•°é‡ï¼Œç§ç±»ç®—1ç§ã€‚' },
            { type: 'mcq', q: 'åšé£Ÿç‰©è®°å½•å¡ç‰‡æ—¶ï¼Œé‡å¤åƒçš„é£Ÿç‰©ï¼ˆå¦‚æ¯é¡¿éƒ½åƒç±³é¥­ï¼‰ï¼Ÿ', opts: ['ä¸ç”¨è®°', 'è¦åˆ†é¡¿è®°å½•', 'è®°ä¸€æ¬¡å°±è¡Œ'], a: 1, exp: 'ç»Ÿè®¡ä¸€å¤©æ€»é‡æ—¶éœ€åˆ†é¡¿æˆ–ç´¯è®¡ã€‚' },

            // 5. ç»¼åˆæ¢ç©¶ (5é¢˜)
            { type: 'mcq', q: 'ä¸‹åˆ—å±äºè°ƒå‘³å“çš„æ˜¯ï¼Ÿ', opts: ['ç±³é¥­', 'ç›/é…±æ²¹', 'è‹¹æœ'], a: 1, exp: 'è°ƒå‘³å“åˆ†ç±»ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—æ­é…ä¸­ï¼Œè¥å…»æ›´å‡è¡¡çš„æ˜¯ï¼Ÿ', opts: ['ç±³é¥­+çº¢çƒ§è‚‰', 'ç±³é¥­+é’èœ+é±¼', 'è–¯æ¡+å¯ä¹'], a: 1, exp: 'è¤ç´ æ­é…ã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰ä¸»é£Ÿã€å‰¯é£Ÿæ’åˆ—ï¼š', items: ['ç±³é¥­', 'ç‚’é’èœ'], answerOrder: ['ç±³é¥­', 'ç‚’é’èœ'], exp: 'ç±³é¥­ä¸»é£Ÿã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬åœ¨ç»™é£Ÿç‰©åˆ†ç±»æ—¶ï¼Œç¬¬ä¸€æ­¥åº”è¯¥æ˜¯ï¼Ÿ', opts: ['ç¡®å®šåˆ†ç±»æ ‡å‡†', 'éšä¾¿åˆ†', 'æ•°æ•°é‡'], a: 0, exp: 'æ ‡å‡†å…ˆè¡Œã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å…³äºâ€œä¸€å¤©çš„é£Ÿç‰©â€è¯´æ³•é”™è¯¯çš„æ˜¯ï¼Ÿ', opts: ['é£Ÿç‰©ç§ç±»å¾ˆä¸°å¯Œ', 'æˆ‘ä»¬æ¯å¤©åƒå¾ˆå¤šç§é£Ÿç‰©', 'åªåƒè‚‰å°±å¤Ÿäº†'], a: 2, exp: 'éœ€å¤šæ ·åŒ–ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(400, now); gain.gain.setValueAtTime(0.05, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'æ’åºé¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ç‚¹å‡»é€‰é¡¹æŒ‰é¡ºåºæ’åˆ—</div>';

            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    playSound('click');
                    if(targetDiv.contains(btn)) {
                        sourceDiv.appendChild(btn);
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn);
                        sortOrder.push(item);
                    }
                    if(sortOrder.length === qData.items.length) {
                         document.getElementById('nextBtn').disabled = false;
                         document.getElementById('nextBtn').style.opacity = 1;
                    } else {
                         document.getElementById('nextBtn').disabled = true;
                         document.getElementById('nextBtn').style.opacity = 0.5;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv); container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯ç¾é£Ÿåˆ†ç±»ä¸“å®¶ï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼å¯¹é£Ÿç‰©å¾ˆäº†è§£ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼åƒé¥­æ—¶å¤šè§‚å¯Ÿä¸€ä¸‹ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html>
```</textarea>
<textarea id="u2-5" style="display:none;">è¿™æ˜¯ä¸ºæ‚¨å®šåˆ¶çš„ **å°å­¦ç§‘å­¦å››ä¸Š ç¬¬äºŒå•å…ƒç¬¬äº”è¯¾ï¼šé£Ÿç‰©ä¸­çš„è¥å…»** å¤ä¹ ä¸é—¯å…³ç½‘é¡µã€‚

æœ¬ç½‘é¡µå®Œå…¨å»¶ç»­äº†ä¸Šä¸€è¯¾çš„ä¼˜è‰¯è®¾è®¡ï¼Œé’ˆå¯¹â€œè¥å…»â€è¿™ä¸€ä¸»é¢˜ï¼Œé‡æ–°ç»˜åˆ¶äº† **4ç»„æ ¸å¿ƒå®éªŒSVGåŠ¨ç”»**ï¼ˆæ·€ç²‰é‡ç¢˜å˜è“ã€è„‚è‚ªæ¶‚æŠ¹ç•™ç—•ã€è›‹ç™½è´¨ç‡ƒçƒ§æ°”å‘³ã€è¥å…»æˆåˆ†æ¦‚è§ˆï¼‰ï¼Œå¹¶æ ¹æ®æ‚¨æä¾›çš„çŸ¥è¯†ç‚¹ç¼–å†™äº†è¦†ç›–å…¨ç‚¹çš„ **35é“é—¯å…³æµ‹è¯•é¢˜**ã€‚

### ä½¿ç”¨æ–¹æ³•ï¼š
1.  å¤åˆ¶ä¸‹æ–¹ä»£ç ã€‚
2.  æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç²˜è´´ä»£ç ã€‚
3.  ä¿å­˜ä¸º `é£Ÿç‰©ä¸­çš„è¥å…».html`ã€‚
4.  ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ˆæ‰‹æœº/å¹³æ¿ä½“éªŒæœ€ä½³ï¼‰ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬äº”è¯¾ï¼šé£Ÿç‰©ä¸­çš„è¥å…» - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #E8F5E9; /* æµ…ç»¿è‰²èƒŒæ™¯ï¼Œä»£è¡¨å¥åº·è¥å…» */
            --card-bg: #FFFFFF;
            --primary: #4CAF50; /* æ ¸å¿ƒç»¿ */
            --secondary: #2196F3; /* æ·€ç²‰è“ */
            --accent: #FF9800; /* è„‚è‚ªé»„ */
            --danger: #F44336; /* è›‹ç™½è´¨çº¢ */
            --text: #263238;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#C8E6C9 15%, transparent 16%);
            background-size: 25px 25px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 4px solid #A5D6A7;
            overflow: hidden;
        }

        h1 { color: #2E7D32; margin-top: 0; font-size: 1.6em; margin-bottom: 5px; }
        .subtitle { color: #558B2F; font-size: 1em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #F1F8E9;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid var(--primary);
            margin-bottom: 20px;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #1B5E20; border-bottom: 1px dashed #C5E1A5; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { color: #C2185B; font-weight: bold; background: #F8BBD0; padding: 0 4px; border-radius: 3px; }
        .starch-text { color: #1565C0; font-weight: bold; } /* æ·€ç²‰è“ */
        .fat-text { color: #E65100; font-weight: bold; } /* è„‚è‚ªæ©™ */
        .protein-text { color: #C62828; font-weight: bold; } /* è›‹ç™½è´¨çº¢ */

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #AED581;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .svg-caption { font-size: 0.9em; color: #795548; margin-top: 5px; font-style: italic; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #2E7D32;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #2E7D32; }
        .btn-next { background: #FF9800; box-shadow: 0 4px 0 #E65100; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #EFEBE9; border-radius: 5px; margin-bottom: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }
        
        .question-card { background: #FAFAFA; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #E0E0E0; margin-top: 10px; }
        .q-tag { background: #C8E6C9; color: #2E7D32; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; }
        .q-content { font-size: 1.2em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹ */
        .option-item {
            background: white; border: 2px solid #AED581; padding: 12px; border-radius: 8px;
            margin-bottom: 10px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #DCEDC8; border-color: #558B2F; font-weight: bold; color: #33691E; }

        .fill-input { border: none; border-bottom: 3px solid var(--primary); background: transparent; width: 150px; text-align: center; font-size: 1.2em; color: #1B5E20; border-radius: 0; }

        /* æ’åº/æ‹–æ‹½é¢˜ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #E8F5E9; border: 1px solid #4CAF50; color: #2E7D32;
            padding: 8px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #BDBDBD; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #FAFAFA; align-items: center;
        }
        .sort-placeholder { color: #999; font-size: 0.9em; width: 100%; text-align: center; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; }
        .score-display { font-size: 4em; color: var(--primary); font-weight: bold; margin: 10px 0; }

        /* åŠ¨ç”»å®šä¹‰ */
        @keyframes dropIodine { 0% {opacity:0; transform:translateY(-20px);} 50% {opacity:1; transform:translateY(0);} 100% {opacity:0;} }
        @keyframes turnBlue { 0% {fill:#FFF9C4;} 50% {fill:#FFF9C4;} 100% {fill:#311B92;} }
        @keyframes smearOil { 0% {opacity:0; width:0;} 50% {opacity:0.5; width:30px;} 100% {opacity:0.5; width:30px;} }
        @keyframes burnFire { 0% {transform:scale(0.8);} 50% {transform:scale(1.2);} 100% {transform:scale(1.0);} }
        @keyframes smellWave { 0% {opacity:0; transform:translateY(0);} 100% {opacity:0; transform:translateY(-20px); opacity:1;} }

    </style>
</head>
<body>

    <!-- 1. å¤ä¹ åŒº -->
    <div id="section-review" class="container section active">
        <h1>ğŸ¥— çŸ¥è¯†å¤ä¹ </h1>
        <p class="subtitle">ç¬¬äºŒå•å…ƒç¬¬äº”è¯¾ï¼šé£Ÿç‰©ä¸­çš„è¥å…»</p>

        <!-- çŸ¥è¯†ç‚¹ 1: è¥å…»æ¦‚è§ˆ -->
        <div class="knowledge-box">
            <h3>1. è¥å…»å¤§å®¶åº­</h3>
            <div class="k-point">ğŸ§¬ äººä½“æ‰€éœ€è¥å…»éƒ½æ¥è‡ªé£Ÿç‰©ã€‚</div>
            <div class="k-point">ğŸŒŸ <strong>å…­å¤§è¥å…»ç´ </strong>ï¼š<span class="protein-text">è›‹ç™½è´¨</span>ã€<span class="starch-text">ç³–ç±»</span>ã€<span class="fat-text">è„‚è‚ª</span>ã€ç»´ç”Ÿç´ ã€æ— æœºç›ã€æ°´ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <circle cx="150" cy="50" r="40" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
                    <text x="150" y="55" text-anchor="middle" font-size="12" font-weight="bold">äººä½“</text>
                    <!-- è¥å…»é£å…¥ -->
                    <circle cx="50" cy="20" r="15" fill="#FFCCBC"><animate attributeName="cx" values="50;110" dur="2s" repeatCount="indefinite"/></circle>
                    <text x="50" y="25" text-anchor="middle" font-size="8">è›‹ç™½è´¨</text>
                    <circle cx="50" cy="80" r="15" fill="#BBDEFB"><animate attributeName="cx" values="50;110" dur="2s" begin="0.5s" repeatCount="indefinite"/></circle>
                    <text x="50" y="85" text-anchor="middle" font-size="8">ç³–ç±»</text>
                    <circle cx="250" cy="50" r="15" fill="#FFF9C4"><animate attributeName="cx" values="250;190" dur="2s" begin="1s" repeatCount="indefinite"/></circle>
                    <text x="250" y="55" text-anchor="middle" font-size="8">è„‚è‚ª</text>
                </svg>
                <div class="svg-caption">èº«ä½“ä»é£Ÿç‰©ä¸­è·å–èƒ½é‡å’Œè¥å…»</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 2: æ·€ç²‰ -->
        <div class="knowledge-box">
            <h3>2. ç³–ç±»ï¼ˆæ·€ç²‰ï¼‰- èƒ½é‡æ¥æº</h3>
            <div class="k-point">ğŸš <strong>ä½œç”¨</strong>ï¼šèº«ä½“èƒ½é‡çš„ä¸»è¦æ¥æºã€‚</div>
            <div class="k-point">ğŸ <strong>é£Ÿç‰©</strong>ï¼šç±³é¥­ã€é¢æ¡ã€é¦’å¤´ã€åœŸè±†ã€èŠ‹å¤´ã€‚</div>
            <div class="k-point">ğŸ§ª <strong>æ£€éªŒæ–¹æ³•</strong>ï¼šæ»´<span class="starch-text">ç¢˜é…’</span> â†’ å˜<span class="starch-text">è“è‰² (æˆ–è“ç´«è‰²)</span>ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- åœŸè±†ç‰‡ -->
                    <ellipse cx="150" cy="90" rx="40" ry="20" fill="#FFF9C4" stroke="#FBC02D" style="animation: turnBlue 3s infinite;"/>
                    <text x="150" y="120" text-anchor="middle" font-size="12">åœŸè±†</text>
                    <!-- æ»´ç®¡ -->
                    <path d="M145,10 L155,10 L155,50 L150,60 L145,50 Z" fill="#BCAAA4" stroke="#5D4037"/>
                    <circle cx="150" cy="65" r="4" fill="#5D4037" style="animation: dropIodine 3s infinite;"/>
                    <text x="220" y="60" font-size="12" fill="#311B92">å˜è“ = æœ‰æ·€ç²‰</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 3: è„‚è‚ª -->
        <div class="knowledge-box">
            <h3>3. è„‚è‚ª - èƒ½é‡ä»“åº“</h3>
            <div class="k-point">ğŸ¥œ <strong>ä½œç”¨</strong>ï¼šèƒ½é‡æ¥æºï¼Œèº«ä½“å¯å‚¨å­˜å¤§é‡è„‚è‚ªã€‚</div>
            <div class="k-point">ğŸ¥“ <strong>é£Ÿç‰©</strong>ï¼šè‚¥è‚‰ã€èŠ±ç”Ÿã€æ ¸æ¡ƒã€èŠéº»ã€é£Ÿç”¨æ²¹ã€å·§å…‹åŠ›ã€‚</div>
            <div class="k-point">ğŸ§ª <strong>æ£€éªŒæ–¹æ³•</strong>ï¼šåœ¨çº¸ä¸Šæ¶‚æŠ¹ â†’ ç•™ä¸‹<span class="fat-text">ä¸ä¼šæ¶ˆå¤±çš„æ²¹è¿¹</span>ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- çº¸ -->
                    <rect x="100" y="20" width="100" height="70" fill="white" stroke="#CCC"/>
                    <!-- èŠ±ç”Ÿ -->
                    <ellipse cx="120" cy="60" rx="10" ry="6" fill="#D7CCC8" stroke="#5D4037">
                        <animate attributeName="cx" values="120;180;120" dur="2s" repeatCount="indefinite"/>
                    </ellipse>
                    <!-- æ²¹è¿¹ -->
                    <rect x="130" y="50" width="0" height="20" fill="#FFECB3" opacity="0.6" style="animation: smearOil 2s infinite;"/>
                    <text x="220" y="60" font-size="12" fill="#E65100">é€æ˜æ²¹è¿¹</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 4: è›‹ç™½è´¨ -->
        <div class="knowledge-box">
            <h3>4. è›‹ç™½è´¨ - ç”Ÿé•¿å»ºè®¾</h3>
            <div class="k-point">ğŸ¥š <strong>ä½œç”¨</strong>ï¼šæ„æˆè‚Œè‚‰ã€å†…è„ã€å¤´å‘ã€æŒ‡ç”²ï¼›æ”¯æŒç”Ÿé•¿å‘è‚²ã€‚</div>
            <div class="k-point">ğŸ¥© <strong>é£Ÿç‰©</strong>ï¼šç˜¦è‚‰ã€é±¼ã€è›‹ã€å¥¶ã€è±†ç±»ã€‚</div>
            <div class="k-point">ğŸ§ª <strong>æ£€éªŒæ–¹æ³•</strong>ï¼šç‡ƒçƒ§ â†’ æœ‰<span class="protein-text">çƒ§ç„¦ç¾½æ¯›çš„æ°”å‘³ (ç„¦è‡­å‘³)</span>ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- è‚‰å— -->
                    <path d="M130,80 L170,80 L170,100 L130,100 Z" fill="#EF9A9A" stroke="#C62828"/>
                    <!-- ç«ç„° -->
                    <path d="M140,80 Q150,40 160,80" fill="#FF5722" opacity="0.8" style="animation: burnFire 0.5s infinite;"/>
                    <!-- æ°”å‘³çº¿ -->
                    <path d="M150,60 Q160,40 150,20" stroke="#555" fill="none" style="animation: smellWave 1.5s infinite;"/>
                    <text x="190" y="50" font-size="12" fill="#333">ç„¦è‡­å‘³</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 5: ç»´ç”Ÿç´ ä¸çŸ¿ç‰©è´¨ -->
        <div class="knowledge-box">
            <h3>5. è°ƒèŠ‚å°å«å£«</h3>
            <div class="k-point">ğŸ¥¦ <strong>ç»´ç”Ÿç´  & æ— æœºç›</strong>ï¼šè°ƒèŠ‚æœºèƒ½ï¼Œä¿æŒå¥åº·ã€‚æ¥æºï¼šè”¬èœã€æ°´æœã€ç›(çŸ¿ç‰©è´¨)ã€‚</div>
            <div class="k-point">ğŸ’§ <strong>æ°´</strong>ï¼šäººä½“æœ€åŸºæœ¬çš„è¥å…»æˆåˆ†ã€‚</div>
            <div class="k-point">ğŸ” <strong>å…¶ä»–è¾¨åˆ«æ³•</strong>ï¼šçœ‹é£Ÿå“åŒ…è£…æ ‡ç­¾ã€æŸ¥èµ„æ–™ã€‚</div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥35é¢˜é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- 2. é—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="text-align:right; font-size:0.9em; color:#2E7D32;">å…³å¡ï¼š<span id="q-index">1</span> / 35</div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â–¶</button>
    </div>

    <!-- 3. ç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- 35é“ç²¾é€‰é¢˜ç›® ---
        const quizData = [
            // 1. è¥å…»æ€»è®º (5é¢˜)
            { type: 'mcq', q: 'äººä½“æ‰€éœ€è¦çš„è¥å…»æ˜¯ä»____å¾—åˆ°çš„ã€‚', opts: ['ç©ºæ°”ä¸­', 'é£Ÿç‰©ä¸­', 'é˜³å…‰ä¸­'], a: 1, exp: 'è¥å…»ä¸»è¦æ¥è‡ªé£Ÿç‰©ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—ä¸å±äºé£Ÿç‰©ä¸­ä¸»è¦è¥å…»æˆåˆ†çš„æ˜¯ï¼Ÿ', opts: ['è›‹ç™½è´¨', 'ç³–ç±»', 'è‰²ç´ '], a: 2, exp: 'è‰²ç´ ä¸æ˜¯è¥å…»æˆåˆ†ã€‚' },
            { type: 'mcq', q: 'äººä½“æœ€åŸºæœ¬çš„è¥å…»æˆåˆ†æ˜¯ï¼Ÿ', opts: ['æ°´', 'è„‚è‚ª', 'ç»´ç”Ÿç´ '], a: 0, exp: 'æ°´æ˜¯ç”Ÿå‘½ä¹‹æºã€‚' },
            { type: 'fill', q: 'é£Ÿç‰©ä¸­çš„è¥å…»æˆåˆ†é€šå¸¸åˆ†ä¸ºè›‹ç™½è´¨ã€ç³–ç±»ã€è„‚è‚ªã€ç»´ç”Ÿç´ ã€____å’Œæ°´ã€‚', a: ['æ— æœºç›', 'çŸ¿ç‰©è´¨'], exp: 'å…­å¤§è¥å…»ç´ ä¹‹ä¸€ã€‚' },
            { type: 'mcq', q: 'æƒ³è¦çŸ¥é“æŸç§åŒ…è£…é£Ÿå“ä¸­å«æœ‰å“ªäº›è¥å…»ï¼Œæœ€å‡†ç¡®çš„æ–¹æ³•æ˜¯ï¼Ÿ', opts: ['å°ä¸€å°', 'çœ‹é£Ÿå“æ ‡ç­¾', 'ç”¨ç«çƒ§'], a: 1, exp: 'çœ‹é…æ–™è¡¨å’Œè¥å…»æˆåˆ†è¡¨ã€‚' },

            // 2. æ·€ç²‰/ç³–ç±» (8é¢˜)
            { type: 'mcq', q: '____æ˜¯ç³–ç±»çš„é‡è¦æˆå‘˜ä¹‹ä¸€ã€‚', opts: ['æ·€ç²‰', 'ç›', 'æ²¹'], a: 0, exp: 'æ·€ç²‰å±äºç³–ç±»ã€‚' },
            { type: 'mcq', q: 'ç³–ç±»ï¼ˆå«æ·€ç²‰ï¼‰å¯¹äººä½“çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['æä¾›èƒ½é‡', 'è°ƒèŠ‚æœºèƒ½', 'æ„æˆå¤´å‘'], a: 0, exp: 'ç³–ç±»æ˜¯èƒ½é‡ä¸»è¦æ¥æºã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªç§é£Ÿç‰©å¯Œå«æ·€ç²‰ï¼Ÿ', opts: ['è‚¥è‚‰', 'ç±³é¥­', 'é’èœ'], a: 1, exp: 'è°·ç‰©ç±»å¯Œå«æ·€ç²‰ã€‚' },
            { type: 'mcq', q: 'æ£€éªŒé£Ÿç‰©ä¸­æ˜¯å¦å«æœ‰æ·€ç²‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼Ÿ', opts: ['é…’ç²¾', 'ç¢˜é…’', 'æ°´'], a: 1, exp: 'æ·€ç²‰é‡ç¢˜å˜è“ã€‚' },
            { type: 'fill', q: 'åœ¨åœŸè±†ä¸Šæ»´ç¢˜é…’ï¼Œå¦‚æœå˜____è‰²ï¼Œè¯´æ˜å«æœ‰æ·€ç²‰ã€‚', a: ['è“', 'è“ç´«'], exp: 'æ·€ç²‰çš„ç‰¹æ€§ååº”ã€‚' },
            { type: 'mcq', q: 'é¦’å¤´é‡åˆ°ç¢˜é…’å˜æˆäº†è“è‰²ï¼Œè¯´æ˜é¦’å¤´é‡Œå«æœ‰ï¼Ÿ', opts: ['è„‚è‚ª', 'è›‹ç™½è´¨', 'æ·€ç²‰'], a: 2, exp: 'å˜è“æ˜¯æ·€ç²‰çš„ç‰¹å¾ã€‚' },
            { type: 'sort', q: 'è¯·å¯¹æ·€ç²‰æ£€éªŒæ­¥éª¤æ’åºï¼š', items: ['æ»´åŠ ç¢˜é…’', 'å‡†å¤‡é£Ÿç‰©', 'è§‚å¯Ÿé¢œè‰²'], answerOrder: ['å‡†å¤‡é£Ÿç‰©', 'æ»´åŠ ç¢˜é…’', 'è§‚å¯Ÿé¢œè‰²'], exp: 'å…ˆå¤‡ç‰©ï¼Œå†æ»´æ¶²ï¼Œåè§‚å¯Ÿã€‚' },
            { type: 'mcq', q: 'é™¤äº†ç±³é¥­ï¼Œä¸‹åˆ—ä¹Ÿå¯Œå«æ·€ç²‰çš„æ˜¯ï¼Ÿ', opts: ['èŠ‹å¤´', 'ç‰›å¥¶', 'é¸¡è›‹'], a: 0, exp: 'èŠ‹å¤´ã€è–¯ç±»å¯Œå«æ·€ç²‰ã€‚' },

            // 3. è„‚è‚ª (7é¢˜)
            { type: 'mcq', q: '____å’Œç³–ç±»æ˜¯äººä½“èƒ½é‡çš„ä¸»è¦æ¥æºã€‚', opts: ['ç»´ç”Ÿç´ ', 'è„‚è‚ª', 'æ°´'], a: 1, exp: 'è„‚è‚ªä¹Ÿæ˜¯èƒ½é‡æ¥æºã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬èº«ä½“å¯ä»¥å‚¨å­˜å¤§é‡çš„____ã€‚', opts: ['ç»´ç”Ÿç´ ', 'è„‚è‚ª', 'æ— æœºç›'], a: 1, exp: 'è„‚è‚ªæ˜¯èƒ½é‡å‚¨å¤‡ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—é£Ÿç‰©ä¸­ï¼Œå¯Œå«è„‚è‚ªçš„æ˜¯ï¼Ÿ', opts: ['èŠ±ç”Ÿ', 'è‹¹æœ', 'ç±³é¥­'], a: 0, exp: 'åšæœç±»å¯Œå«æ²¹è„‚ã€‚' },
            { type: 'mcq', q: 'è‚¥è‚‰ä¸­å«æœ‰ä¸°å¯Œçš„ï¼Ÿ', opts: ['æ·€ç²‰', 'è„‚è‚ª', 'è†³é£Ÿçº¤ç»´'], a: 1, exp: 'è‚¥è‚‰æ˜¯è„‚è‚ªã€‚' },
            { type: 'mcq', q: 'æ£€éªŒé£Ÿç‰©ä¸­æ˜¯å¦å«æœ‰è„‚è‚ªï¼Œå¸¸ç”¨çš„æ–¹æ³•æ˜¯ï¼Ÿ', opts: ['æ»´ç¢˜é…’', 'ç‡ƒçƒ§é—»æ°”å‘³', 'åœ¨ç™½çº¸ä¸Šæ¶‚æŠ¹'], a: 2, exp: 'æŒ‰å‹æ¶‚æŠ¹æ³•ã€‚' },
            { type: 'fill', q: 'å¦‚æœé£Ÿç‰©åœ¨çº¸ä¸Šç•™ä¸‹ä¸ä¼šæ¶ˆå¤±çš„____ï¼Œè¯´æ˜å«æœ‰è„‚è‚ªã€‚', a: ['æ²¹è¿¹', 'æ²¹æ¸'], exp: 'è„‚è‚ªä¼šç•™ä¸‹åŠé€æ˜æ²¹è¿¹ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªç»„é£Ÿç‰©éƒ½å¯Œå«è„‚è‚ªï¼Ÿ', opts: ['èŠéº»ã€å·§å…‹åŠ›', 'é¦’å¤´ã€åœŸè±†', 'ç™½èœã€è¥¿ç“œ'], a: 0, exp: 'èŠéº»å’Œå·§å…‹åŠ›å«æ²¹/è„‚é«˜ã€‚' },

            // 4. è›‹ç™½è´¨ (8é¢˜)
            { type: 'mcq', q: 'æ„æˆäººä½“è‚Œè‚‰ã€å†…è„ã€å¤´å‘ã€æŒ‡ç”²çš„ä¸»è¦æˆåˆ†æ˜¯ï¼Ÿ', opts: ['è„‚è‚ª', 'è›‹ç™½è´¨', 'ç³–ç±»'], a: 1, exp: 'è›‹ç™½è´¨æ˜¯äººä½“å»ºç­‘ææ–™ã€‚' },
            { type: 'mcq', q: 'é’å°‘å¹´å’Œé‡åˆ›ç—…äººéœ€è¦å¤šè¡¥å……å“ªç§è¥å…»ï¼Ÿ', opts: ['è›‹ç™½è´¨', 'è„‚è‚ª', 'ç³–ç±»'], a: 0, exp: 'ä¿ƒè¿›ç”Ÿé•¿å’Œä¿®å¤ç»„ç»‡ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—é£Ÿç‰©å¯Œå«è›‹ç™½è´¨çš„æ˜¯ï¼Ÿ', opts: ['ç±³é¥­', 'è‚¥è‚‰', 'ç˜¦è‚‰'], a: 2, exp: 'ç˜¦è‚‰ã€è›‹å¥¶å¯Œå«è›‹ç™½ã€‚' },
            { type: 'mcq', q: 'æ£€éªŒè›‹ç™½è´¨çš„å¸¸ç”¨æ–¹æ³•æ˜¯ï¼Ÿ', opts: ['çƒ§çƒ¤æ³•(ç‡ƒçƒ§)', 'æŒ¤å‹æ³•', 'æ»´ç¢˜é…’'], a: 0, exp: 'ç‡ƒçƒ§é—»æ°”å‘³ã€‚' },
            { type: 'fill', q: 'è›‹ç™½è´¨ç‡ƒçƒ§åï¼Œä¼šæœ‰ä¸€è‚¡____å‘³ã€‚', a: ['ç„¦è‡­', 'çƒ§ç„¦ç¾½æ¯›'], exp: 'è¿™æ˜¯è›‹ç™½è´¨ç‰¹æœ‰çš„æ°”å‘³ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªç§é£Ÿç‰©ç‡ƒçƒ§æ—¶ä¼šæœ‰ç„¦è‡­å‘³ï¼Ÿ', opts: ['å¤´å‘/ç˜¦è‚‰', 'æ£‰èŠ±', 'æœ¨å¤´'], a: 0, exp: 'å¤´å‘å’Œè‚‰å«è›‹ç™½è´¨ã€‚' },
            { type: 'mcq', q: 'çº¯ç‰›å¥¶å’Œé¸¡è›‹ä¸»è¦ä¸ºæˆ‘ä»¬æä¾›ï¼Ÿ', opts: ['æ·€ç²‰', 'è›‹ç™½è´¨', 'è†³é£Ÿçº¤ç»´'], a: 1, exp: 'è›‹å¥¶æ˜¯ä¼˜è´¨è›‹ç™½ã€‚' },
            { type: 'sort', q: 'æŒ‰è›‹ç™½è´¨å«é‡ä»é«˜åˆ°ä½æ’åº(å¤§æ¦‚)ï¼š', items: ['ç‰›è‚‰', 'ç™½èœ', 'ç±³é¥­'], answerOrder: ['ç‰›è‚‰', 'ç±³é¥­', 'ç™½èœ'], exp: 'è‚‰ç±»è›‹ç™½æœ€é«˜ï¼Œç±³é¥­æ¬¡ä¹‹ï¼Œè”¬èœè¾ƒå°‘ã€‚' },

            // 5. ç»´ç”Ÿç´ /çŸ¿ç‰©è´¨/ç»¼åˆ (7é¢˜)
            { type: 'mcq', q: 'å…·æœ‰è°ƒèŠ‚èº«ä½“æœºèƒ½ä½œç”¨ï¼Œä¿æŒå¥åº·ä¸å¯ç¼ºå°‘çš„è¥å…»æ˜¯ï¼Ÿ', opts: ['è„‚è‚ª', 'ç»´ç”Ÿç´ å’Œæ— æœºç›', 'ç³–ç±»'], a: 1, exp: 'è°ƒèŠ‚ç±»è¥å…»ç´ ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—é£Ÿç‰©å¯Œå«ç»´ç”Ÿç´ å’Œæ— æœºç›çš„æ˜¯ï¼Ÿ', opts: ['çº¢çƒ§è‚‰', 'è”¬èœå’Œæ°´æœ', 'é¦’å¤´'], a: 1, exp: 'è”¬æœæ˜¯ä¸»è¦æ¥æºã€‚' },
            { type: 'mcq', q: 'é£Ÿç›ä¸­å«æœ‰ä¸€ç§æå…¶ä¸°å¯Œçš„çŸ¿ç‰©è´¨ï¼Œå®ƒæ˜¯ï¼Ÿ', opts: ['ç³–', 'ç›(é’ )', 'æ²¹'], a: 1, exp: 'ç›æœ¬èº«å°±æ˜¯çŸ¿ç‰©è´¨ã€‚' },
            { type: 'mcq', q: 'å¦‚æœåœ¨ç™½çº¸ä¸ŠæŒ¤å‹è”¬èœï¼Œç•™ä¸‹çš„æ°´è¿¹å¹²äº†åæ¶ˆå¤±äº†ï¼Œè¯´æ˜è”¬èœå«æœ‰ï¼Ÿ', opts: ['è„‚è‚ª', 'æ°´', 'æ·€ç²‰'], a: 1, exp: 'æ°´ä¼šè’¸å‘æ¶ˆå¤±ï¼Œæ²¹ä¸ä¼šã€‚' },
            { type: 'mcq', q: 'å…³äºé¥®é£Ÿï¼Œä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ', opts: ['åªåƒè‚‰', 'ä¸åƒè”¬èœ', 'è¥å…»å‡è¡¡ï¼Œä¸æŒ‘é£Ÿ'], a: 2, exp: 'å…¨é¢è¥å…»ã€‚' },
            { type: 'fill', q: 'è¦æƒ³è·å¾—ä¸°å¯Œçš„ç»´ç”Ÿç´ ï¼Œæˆ‘ä»¬åº”è¯¥å¤šåƒ____å’Œæ°´æœã€‚', a: ['è”¬èœ', 'é’èœ'], exp: 'è”¬æœå¯Œå«ç»´ç”Ÿç´ ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—æ­é…æœ€èƒ½ä½“ç°è¥å…»å‡è¡¡çš„æ˜¯ï¼Ÿ', opts: ['ç‚¸é¸¡+å¯ä¹', 'ç±³é¥­+é’èœ+é±¼æ±¤', 'è–¯æ¡+æ±‰å ¡'], a: 1, exp: 'ä¸»é£Ÿ+è›‹ç™½+ç»´ç”Ÿç´ ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScoreRaw = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        // ç®€æ˜“éŸ³æ•ˆåˆæˆ
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'correct') {
                osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.15);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'wrong') {
                osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.2);
                gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.2);
                osc.start(now); osc.stop(now + 0.2);
            } else if (type === 'click') {
                osc.frequency.setValueAtTime(400, now); gain.gain.setValueAtTime(0.05, now); gain.gain.linearRampToValueAtTime(0, now + 0.05);
                osc.start(now); osc.stop(now + 0.05);
            }
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.5;
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let tagText = qData.type === 'mcq' ? 'é€‰æ‹©é¢˜' : (qData.type === 'fill' ? 'å¡«ç©ºé¢˜' : 'æ’åºé¢˜');
            card.innerHTML = `<div class="q-content"><span class="q-tag">${tagText}</span>${qData.q}</div>`;

            if (qData.type === 'mcq') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.5;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            playSound('click');
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ç‚¹å‡»é€‰é¡¹æŒ‰é¡ºåºæ’åˆ—</div>';

            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    playSound('click');
                    if(targetDiv.contains(btn)) {
                        sourceDiv.appendChild(btn);
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn);
                        sortOrder.push(item);
                    }
                    if(sortOrder.length === qData.items.length) {
                         document.getElementById('nextBtn').disabled = false;
                         document.getElementById('nextBtn').style.opacity = 1;
                    } else {
                         document.getElementById('nextBtn').disabled = true;
                         document.getElementById('nextBtn').style.opacity = 0.5;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv); container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScoreRaw++;
                playSound('correct');
            } else {
                playSound('wrong');
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) renderQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let finalScore = Math.round((userScoreRaw / quizData.length) * 100);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 20);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯è¥å…»å­¦å¤§å¸ˆï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼å¯¹è¥å…»æˆåˆ†å¾ˆç†Ÿæ‚‰ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å¤šå¤ä¹ å„ç§æ£€éªŒæ–¹æ³•ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="font-size:0.9em; color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my}</span><br><span style="font-size:0.9em; color:#2E7D32">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html>
```</textarea>
<textarea id="u2-6" style="display:none;">è¿™æ˜¯ä¸€ä¸ªä¸ºæ‚¨å®šåˆ¶çš„ **å°å­¦ç§‘å­¦å››ä¸Š ç¬¬äºŒå•å…ƒç¬¬å…­è¯¾ï¼šè¥å…»è¦å‡è¡¡** çš„å¤ä¹ ä¸é—¯å…³ç½‘é¡µã€‚

æœ¬ç½‘é¡µä¸¥æ ¼æŒ‰ç…§æ‚¨æä¾›çš„10æ¡çŸ¥è¯†ç‚¹è®¾è®¡ï¼ŒåŒ…å«äº† **5ç»„å®šåˆ¶çš„SVGåŠ¨æ€æ¼”ç¤º**ï¼ˆè†³é£Ÿå®å¡”äº¤äº’ã€è¥å…»å¤©å¹³ã€èƒ½é‡ç”µæ± ã€ç”Ÿé•¿å°ºã€ç»´ç”Ÿç´ ç›¾ç‰Œï¼‰ï¼Œä»¥åŠ **ç²¾é€‰çš„é—¯å…³æµ‹è¯•é¢˜**ï¼ˆæ¶µç›–é€‰æ‹©ã€å¡«ç©ºã€æ’åºã€å®éªŒåˆ†æï¼‰ã€‚

### ä½¿ç”¨æ–¹æ³•ï¼š
1.  å¤åˆ¶ä¸‹æ–¹ä»£ç ã€‚
2.  æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç²˜è´´ä»£ç ã€‚
3.  ä¿å­˜ä¸º `è¥å…»è¦å‡è¡¡.html`ã€‚
4.  ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ˆæ¨èæ‰‹æœºæ¨ªå±æˆ–ç«–å±æ“ä½œï¼‰ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬å…­è¯¾ï¼šè¥å…»è¦å‡è¡¡ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #FFF8E1; /* æ¸©æš–çš„ç±³è‰²èƒŒæ™¯ */
            --card-bg: #FFFFFF;
            --primary: #FF6F00; /* æ´»åŠ›æ©™ */
            --secondary: #8BC34A; /* å¥åº·ç»¿ */
            --accent: #29B6F6; /* æ°´è“ */
            --danger: #E53935;
            --text: #37474F;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#FFECB3 10%, transparent 11%);
            background-size: 20px 20px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 3px solid #FFB74D;
            overflow: hidden;
        }

        h1 { color: #EF6C00; margin-top: 0; font-size: 1.5em; }
        .subtitle { color: #78909C; font-size: 0.9em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #FAFAFA;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid var(--secondary);
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #558B2F; border-bottom: 1px dashed #CED7DB; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { background: #FFF9C4; padding: 0 4px; border-radius: 3px; font-weight: bold; color: #E65100; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFFFFF;
            border: 2px dashed #BDBDBD;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
            height: auto;
            overflow: hidden;
        }
        .svg-caption { font-size: 0.85em; color: #90A4AE; margin-top: 5px; font-style: italic; }

        /* åŠ¨ç”»å…³é”®å¸§ */
        @keyframes balance { 0% {transform: rotate(0deg);} 25% {transform: rotate(-5deg);} 75% {transform: rotate(5deg);} 100% {transform: rotate(0deg);} }
        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.05);} 100% {transform: scale(1);} }
        @keyframes flow { 0% {stroke-dashoffset: 20;} 100% {stroke-dashoffset: 0;} }
        @keyframes grow { 0% {height: 10px;} 100% {height: 40px;} }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #E65100;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #E65100; }
        .btn-next { background: var(--secondary); box-shadow: 0 4px 0 #558B2F; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 10px; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--secondary); width: 0%; transition: width 0.3s; }
        
        .question-card { background: #fff; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #FFCC80; margin-top: 10px; }
        .q-tag { display:inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; color:white;}
        .tag-choice { background: #42A5F5; }
        .tag-fill { background: #AB47BC; }
        .tag-sort { background: #FF7043; }
        .tag-exp { background: #26A69A; }
        
        .q-content { font-size: 1.15em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹æ ·å¼ */
        .option-item {
            background: #FAFAFA; border: 2px solid #E0E0E0; padding: 12px; border-radius: 8px;
            margin-bottom: 8px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #FFF3E0; border-color: #FF9800; font-weight: bold; color: #E65100; }

        .fill-input { border: none; border-bottom: 2px solid #FF9800; background: transparent; width: 100px; text-align: center; font-size: 1.1em; color: #E65100; border-radius: 0; outline: none; }

        /* æ’åºé¢˜å®¹å™¨ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #E8F5E9; border: 1px solid #4CAF50; color: #2E7D32;
            padding: 6px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #90A4AE; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #ECEFF1; align-items: center; justify-content: center;
        }
        .sort-placeholder { color: #999; font-size: 0.8em; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; font-size: 0.95em; }
        .score-display { font-size: 3.5em; color: var(--primary); font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- ç¬¬ä¸€å—ï¼šå¤ä¹ å·©å›º -->
    <div id="section-review" class="container section active">
        <h1>ğŸ¥— è¥å…»è¦å‡è¡¡</h1>
        <p class="subtitle">å¤ä¹ å·©å›º & 100åˆ†é—¯å…³å¡”</p>

        <!-- çŸ¥è¯†ç‚¹ 1 & 3: å‡è¡¡é¥®é£Ÿä¹ æƒ¯ -->
        <div class="knowledge-box">
            <h3>1. å‡è¡¡é¥®é£Ÿçš„é‡è¦æ€§</h3>
            <div class="k-point">ğŸš« <span class="highlight">ä¸æŒ‘é£Ÿã€ä¸åé£Ÿ</span>æ‰èƒ½è·å–å‡è¡¡è¥å…»ã€‚æ²¡æœ‰ä¸€ç§é£Ÿç‰©åŒ…å«æ‰€æœ‰è¥å…»ã€‚</div>
            <div class="k-point">âš ï¸ è¥å…»ä¸å‡è¡¡ä¼šå½±å“èº«ä½“å¥åº·ã€‚</div>
            <div class="k-point">ğŸ¥— æ–¹æ³•ï¼š<span class="highlight">è¤ç´ æ­é…ã€ç²—ç»†ç²®æ­é…</span>ï¼Œå“ç§å¤šæ ·ï¼Œæ•°é‡åˆç†ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- å¤©å¹³åº•åº§ -->
                    <path d="M130,90 L170,90 L150,50 Z" fill="#78909C"/>
                    <!-- å¤©å¹³æ¨ªæ† (åŠ¨ç”») -->
                    <g style="transform-origin: 150px 50px; animation: balance 4s infinite ease-in-out;">
                        <rect x="50" y="48" width="200" height="4" fill="#546E7A"/>
                        <!-- å·¦ç›˜ï¼šè”¬èœ+è‚‰ -->
                        <path d="M50,50 L20,80 L80,80 Z" fill="#CFD8DC" transform="translate(0,0) scale(1,-1) translate(0,-100)"/>
                        <circle cx="50" cy="40" r="12" fill="#8BC34A"/> <!-- èœ -->
                        <rect x="40" y="20" width="20" height="12" fill="#EF5350"/> <!-- è‚‰ -->
                        <!-- å³ç›˜ï¼šå¥åº· -->
                        <path d="M250,50 L220,80 L280,80 Z" fill="#CFD8DC" transform="translate(0,0) scale(1,-1) translate(0,-100)"/>
                        <path d="M240,25 L250,35 L270,15" stroke="#4CAF50" stroke-width="4" fill="none"/> <!-- å¯¹å‹¾ -->
                        <circle cx="250" cy="40" r="18" stroke="#4CAF50" stroke-width="2" fill="none"/>
                    </g>
                </svg>
                <div class="svg-caption">æ¼”ç¤ºï¼šè¤ç´ æ­é…ï¼Œè¥å…»å¤©å¹³æ‰å¹³è¡¡</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 2: è†³é£Ÿå®å¡” -->
        <div class="knowledge-box">
            <h3>2. å¹³è¡¡è†³é£Ÿå®å¡”</h3>
            <div class="k-point">ğŸ—¼ <strong>åˆ†å±‚åŸåˆ™</strong>ï¼šä¸‹ä¸€å±‚é£Ÿç”¨é‡ > ä¸Šä¸€å±‚ã€‚</div>
            <div class="k-point">ğŸ’§ <strong>åº•å±‚</strong>ï¼šæ°´å’Œ<span class="highlight">è°·è–¯ç±»</span>ï¼ˆåƒæœ€å¤šï¼‰ã€‚</div>
            <div class="k-point">ğŸ§‚ <strong>é¡¶å±‚</strong>ï¼š<span class="highlight">ç›å’Œæ²¹</span>ï¼ˆåƒæœ€å°‘ï¼‰ã€‚</div>
            <div class="k-point">ğŸ“Š å„ç±»é£Ÿç‰©åœ°ä½å’Œæ¯”é‡ä¸åŒã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="180" viewBox="0 0 300 180">
                    <!-- å®å¡”å½¢çŠ¶ -->
                    <g stroke="#fff" stroke-width="1">
                        <!-- é¡¶å±‚ æ²¹ç› -->
                        <path d="M135,30 L165,30 L170,50 L130,50 Z" fill="#EF5350"/> 
                        <text x="150" y="45" text-anchor="middle" fill="white" font-size="10">æ²¹/ç› (å°‘)</text>
                        
                        <!-- å¥¶è±† -->
                        <path d="M130,50 L170,50 L180,80 L120,80 Z" fill="#FFB74D"/>
                        <text x="150" y="70" text-anchor="middle" fill="white" font-size="10">å¥¶/è±†/è›‹</text>
                        
                        <!-- é±¼è‚‰ -->
                        <path d="M120,80 L180,80 L195,110 L105,110 Z" fill="#FFCA28"/>
                        <text x="150" y="100" text-anchor="middle" fill="#333" font-size="10">é±¼/è‚‰</text>
                        
                        <!-- è”¬æœ -->
                        <path d="M105,110 L195,110 L215,140 L85,140 Z" fill="#AED581"/>
                        <text x="150" y="130" text-anchor="middle" fill="#333" font-size="10">è”¬èœ/æ°´æœ</text>
                        
                        <!-- è°·è–¯æ°´ -->
                        <path d="M85,140 L215,140 L240,170 L60,170 Z" fill="#42A5F5"/>
                        <text x="150" y="160" text-anchor="middle" fill="white" font-size="10">è°·ç‰©/æ°´ (å¤š)</text>
                    </g>
                    <!-- ç®­å¤´æŒ‡ç¤ºé‡ -->
                    <path d="M40,160 L40,40" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
                    <text x="30" y="100" font-size="10" writing-mode="tb">é£Ÿç”¨é‡å‡å°‘</text>
                    <defs><marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="#555" /></marker></defs>
                </svg>
                <div class="svg-caption">æ¼”ç¤ºï¼šå®å¡”ç»“æ„ï¼Œä¸‹å¤šä¸Šå°‘</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 4, 8: èƒ½é‡ -->
        <div class="knowledge-box">
            <h3>3. èƒ½é‡ä¾›ç»™</h3>
            <div class="k-point">ğŸƒ <strong>è¿åŠ¨é‡å¤§</strong>ï¼šéœ€å¤šåƒ<span class="highlight">ç³–ç±»</span>ï¼ˆè°·ç‰©ç±»ï¼‰è¡¥å……èƒ½é‡ã€‚</div>
            <div class="k-point">âš¡ <span class="highlight">è°·ç‰©ã€æ²¹è„‚</span>å«ç³–ç±»å’Œè„‚è‚ªï¼Œæä¾›èƒ½é‡ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="80" viewBox="0 0 300 80">
                    <!-- è·‘æ­¥äºº -->
                    <circle cx="50" cy="20" r="8" fill="#FF9800"/>
                    <path d="M50,28 L50,50 L40,70 M50,50 L60,70 M35,40 L50,35 L65,40" stroke="#FF9800" stroke-width="3" fill="none"/>
                    <!-- ç”µæ±  -->
                    <rect x="100" y="30" width="60" height="30" rx="2" stroke="#333" fill="none"/>
                    <rect x="160" y="38" width="6" height="14" fill="#333"/>
                    <!-- èƒ½é‡æ¡åŠ¨ç”» -->
                    <rect x="102" y="32" width="0" height="26" fill="#76FF03">
                        <animate attributeName="width" from="0" to="56" dur="1.5s" repeatCount="indefinite"/>
                    </rect>
                    <text x="220" y="50" font-size="12">è¡¥å……ç³–ç±»/èƒ½é‡</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 5, 9: ç”Ÿé•¿å‘è‚² -->
        <div class="knowledge-box">
            <h3>4. ç”Ÿé•¿å‘è‚²</h3>
            <div class="k-point">ğŸ‘¶ <strong>å„¿ç«¥é•¿èº«ä½“</strong>ï¼šéœ€å¤šæ‘„å–<span class="highlight">è›‹ç™½è´¨</span>ã€‚</div>
            <div class="k-point">ğŸ¥› æ¥æºï¼šå¥¶åˆ¶å“ã€è±†ç±»ã€é±¼è™¾ã€è›‹ç±»ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- å„¿ç«¥ -->
                    <g transform="translate(100, 0)">
                        <circle cx="20" cy="30" r="10" fill="#FFCC80"/>
                        <rect x="10" y="40" width="20" height="30" fill="#90CAF9"/>
                        <rect x="12" y="70" width="6" height="20" fill="#5D4037"/>
                        <rect x="22" y="70" width="6" height="20" fill="#5D4037"/>
                    </g>
                    <!-- å°ºå­ -->
                    <rect x="150" y="10" width="10" height="80" fill="#FFF3E0" stroke="#333"/>
                    <g stroke="#333" stroke-width="1">
                        <line x1="150" y1="20" x2="160" y2="20"/>
                        <line x1="150" y1="40" x2="155" y2="40"/>
                        <line x1="150" y1="60" x2="160" y2="60"/>
                        <line x1="150" y1="80" x2="155" y2="80"/>
                    </g>
                    <!-- ç®­å¤´åŠ¨ç”» -->
                    <path d="M130,80 L130,20" stroke="#F44336" stroke-width="2" stroke-dasharray="4" marker-end="url(#arrow)">
                        <animate attributeName="stroke-dashoffset" from="20" to="0" dur="1s" repeatCount="indefinite"/>
                    </path>
                    <text x="180" y="55" font-size="12" fill="#D84315">è›‹ç™½è´¨ = å»ºç­‘ææ–™</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 6, 10: å¥åº·è°ƒèŠ‚ -->
        <div class="knowledge-box">
            <h3>5. ä¿æŒå¥åº·</h3>
            <div class="k-point">ğŸ¤’ <strong>æ‰‹æŒ‡è„±çš®ã€å£è…”æºƒç–¡</strong>ï¼šå¤šåƒ<span class="highlight">ç»´ç”Ÿç´ </span>ï¼ˆè”¬æœç±»ï¼‰ã€‚</div>
            <div class="k-point">ğŸ è”¬èœæ°´æœå«ç»´ç”Ÿç´ å’ŒçŸ¿ç‰©è´¨ï¼Œç»´æŒå¥åº·ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="80" viewBox="0 0 300 80">
                    <!-- æ‰‹æŒ‡ -->
                    <path d="M50,60 L50,30 Q50,10 70,10 Q90,10 90,30 L90,60" fill="#FFCC80" stroke="#E65100"/>
                    <path d="M60,20 L70,25 L65,35" fill="none" stroke="#D32F2F" stroke-width="1"/> <!-- ä¼¤å£ -->
                    <!-- åå­—ç›¾ç‰Œ -->
                    <path d="M150,10 L180,10 L190,40 L165,70 L140,40 Z" fill="#81C784" stroke="#2E7D32"/>
                    <rect x="160" y="25" width="10" height="30" fill="white"/>
                    <rect x="150" y="35" width="30" height="10" fill="white"/>
                    <text x="210" y="45" font-size="12" fill="#2E7D32">ç»´ç”Ÿç´ ä¿®å¤</text>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥100åˆ†é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- ç¬¬äºŒå—ï¼šé—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="display:flex; justify-content:space-between; font-size:0.9em; color:#78909C;">
            <span>æ€»åˆ†ï¼š100åˆ†</span>
            <span>é¢˜ç›®ï¼š<span id="q-index">1</span> / 20</span>
        </div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">æäº¤ / ä¸‹ä¸€é¢˜</button>
    </div>

    <!-- ç¬¬ä¸‰å—ï¼šç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- é¢˜åº“ (20é¢˜ï¼Œæ€»åˆ†100åˆ†ï¼Œè¦†ç›–35é¢˜çš„çŸ¥è¯†ç‚¹èŒƒå›´) ---
        // åˆ†å€¼åˆ†é…ï¼šæ¯é¢˜5åˆ†
        const quizData = [
            // 1. è†³é£Ÿå®å¡”ç»“æ„ (5é¢˜)
            { type: 'mcq', q: 'â€œå¹³è¡¡è†³é£Ÿå®å¡”â€ä¸­ï¼Œéœ€è¦åƒå¾—æœ€å¤šçš„é£Ÿç‰©æ˜¯ï¼Ÿ', opts: ['æ²¹å’Œç›', 'å¥¶åˆ¶å“', 'è°·è–¯ç±»å’Œæ°´'], a: 2, exp: 'åº•å±‚æ˜¯è°·ç‰©å’Œæ°´ï¼ŒåŸºçŸ³æœ€é‡è¦ã€‚' },
            { type: 'mcq', q: 'â€œå¹³è¡¡è†³é£Ÿå®å¡”â€é¡¶å±‚çš„é£Ÿç‰©æ˜¯ï¼Ÿ', opts: ['è”¬èœ', 'è‚‰ç±»', 'ç›å’Œæ²¹'], a: 2, exp: 'é¡¶å±‚æ²¹ç›ï¼Œéœ€è¦æ§åˆ¶æ‘„å…¥ã€‚' },
            { type: 'sort', q: 'è¯·å°†é£Ÿç‰©æŒ‰å®å¡”ä»åº•åˆ°é¡¶ï¼ˆå¤šåˆ°å°‘ï¼‰çš„é¡ºåºæ’åˆ—ï¼š', items: ['è°·ç‰©æ°´', 'è”¬èœæ°´æœ', 'æ²¹ç›'], answerOrder: ['è°·ç‰©æ°´', 'è”¬èœæ°´æœ', 'æ²¹ç›'], exp: 'åº•å±‚æœ€å¤šï¼Œè¶Šå¾€ä¸Šè¶Šå°‘ã€‚' },
            { type: 'mcq', q: 'æ ¹æ®å®å¡”åŸåˆ™ï¼Œä¸‹ä¸€å±‚é£Ÿç‰©çš„é£Ÿç”¨é‡åº”è¯¥____ä¸Šä¸€å±‚ã€‚', opts: ['å¤§äº', 'å°äº', 'ç­‰äº'], a: 0, exp: 'é‡‘å­—å¡”ç»“æ„ï¼Œä¸‹å¤§ä¸Šå°ã€‚' },
            { type: 'fill', q: 'æˆ‘ä»¬å¹³æ—¶éœ€è¦åƒå¾—æœ€å°‘çš„é£Ÿç‰©æ˜¯____å’Œ____ã€‚', a: ['æ²¹', 'ç›'], exp: 'ä½äºå¡”å°–ï¼Œå¤šåƒæ— ç›Šã€‚' },

            // 2. è¥å…»åŠŸèƒ½ä¸éœ€æ±‚ (6é¢˜)
            { type: 'mcq', q: 'å¦‚æœä½ ä»Šå¤©è¦å»å‚åŠ è¿åŠ¨ä¼šï¼Œè¿åŠ¨é‡å¾ˆå¤§ï¼Œåˆé¤åº”è¯¥é€‚å½“å¤šåƒï¼Ÿ', opts: ['è‚¥è‚‰', 'ç±³é¥­/é¢æ¡', 'è”¬èœ'], a: 1, exp: 'ç³–ç±»ï¼ˆè°·ç‰©ï¼‰æä¾›èƒ½é‡æœ€å¿«ã€‚' },
            { type: 'mcq', q: 'æ­£åœ¨é•¿èº«ä½“çš„å„¿ç«¥ï¼Œéœ€è¦é€‚é‡å¤šæ‘„å–å¯Œå«____çš„é£Ÿç‰©ã€‚', opts: ['è„‚è‚ª', 'è›‹ç™½è´¨', 'ç»´ç”Ÿç´ '], a: 1, exp: 'è›‹ç™½è´¨æ˜¯ç”Ÿé•¿å‘è‚²çš„åŸæ–™ã€‚' },
            { type: 'mcq', q: 'å°æ˜æœ€è¿‘æ‰‹æŒ‡è„±çš®ã€å£è…”æºƒç–¡ï¼Œä»–å¯èƒ½éœ€è¦å¤šåƒï¼Ÿ', opts: ['çº¢çƒ§è‚‰', 'è”¬èœå’Œæ°´æœ', 'ç™½ç±³é¥­'], a: 1, exp: 'ç¼ºä¹ç»´ç”Ÿç´ ï¼Œéœ€è¡¥å……è”¬æœã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªç±»é£Ÿç‰©ä¸»è¦ç»™æˆ‘ä»¬æä¾›èƒ½é‡ï¼Ÿ', opts: ['è°·ç‰©ç±»/æ²¹è„‚ç±»', 'è”¬èœç±»', 'æ°´'], a: 0, exp: 'ç³–ç±»å’Œè„‚è‚ªæ˜¯ä¾›èƒ½ç‰©è´¨ã€‚' },
            { type: 'mcq', q: 'å¥¶åˆ¶å“ã€è±†ç±»ã€é±¼è™¾ç±»ä¸»è¦å«æœ‰ä»€ä¹ˆè¥å…»ï¼Ÿ', opts: ['æ·€ç²‰', 'è›‹ç™½è´¨', 'çº¤ç»´ç´ '], a: 1, exp: 'ä¼˜è´¨è›‹ç™½æ¥æºã€‚' },
            { type: 'fill', q: 'è”¬èœå’Œæ°´æœç±»å«æœ‰____å’ŒçŸ¿ç‰©è´¨ï¼Œèƒ½è®©æˆ‘ä»¬ä¿æŒå¥åº·ã€‚', a: ['ç»´ç”Ÿç´ '], exp: 'è°ƒèŠ‚èº«ä½“æœºèƒ½ã€‚' },

            // 3. é¥®é£Ÿä¹ æƒ¯ä¸æ­é… (5é¢˜)
            { type: 'mcq', q: 'å…³äºé¥®é£Ÿä¹ æƒ¯ï¼Œä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ', opts: ['åªåƒçˆ±åƒçš„', 'ä¸æŒ‘é£Ÿã€ä¸åé£Ÿ', 'ä¸åƒè‚‰åªåƒèœ'], a: 1, exp: 'å‡è¡¡è¥å…»éœ€è¦å¤šæ ·åŒ–ã€‚' },
            { type: 'exp', q: 'ã€å®éªŒåˆ†æã€‘å°çº¢åˆé¤åªåƒäº†ä¸€ç¢—ç™½é¥­å’Œä¸€å—çº¢çƒ§è‚‰ï¼Œä¸ºäº†è¥å…»å‡è¡¡ï¼Œæ™šé¤å¥¹æœ€å¥½ï¼Ÿ', opts: ['åƒç‰›æ’', 'å–è‚‰æ±¤', 'åƒé’èœå’Œé±¼'], a: 2, exp: 'åˆé¤ç¼ºç»´ç”Ÿç´ ï¼Œæ™šé¤éœ€è¡¥è”¬æœå’Œä¼˜è´¨è›‹ç™½ã€‚' },
            { type: 'mcq', q: 'æ­é…è†³é£Ÿè¥å…»æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥åšåˆ°ï¼Ÿ', opts: ['å“ç§å•ä¸€', 'è¤ç´ æ­é…', 'åªåƒç²¾ç²®'], a: 1, exp: 'è¤ç´ æ­é…ã€ç²—ç»†æ­é…ã€‚' },
            { type: 'mcq', q: 'å¦‚æœæ²¡æœ‰æ‘„å–å‡è¡¡çš„è¥å…»ï¼Œå¯èƒ½ä¼šï¼Ÿ', opts: ['èº«ä½“æ›´å¼ºå£®', 'å½±å“èº«ä½“å¥åº·', 'æ²¡ä»€ä¹ˆå½±å“'], a: 1, exp: 'å¯¼è‡´è¥å…»ä¸è‰¯æˆ–è‚¥èƒ–ã€‚' },
            { type: 'mcq', q: 'æœ‰æ²¡æœ‰ä¸€ç§é£Ÿç‰©å«æœ‰èº«ä½“æ‰€éœ€çš„æ‰€æœ‰è¥å…»æˆåˆ†ï¼Ÿ', opts: ['æœ‰', 'æ²¡æœ‰'], a: 1, exp: 'æ‰€ä»¥è¦åƒå¤šç§é£Ÿç‰©ã€‚' },

            // 4. ç»¼åˆåˆ¤æ–­ (4é¢˜)
            { type: 'sort', q: 'è¯·å°†ä¸‹åˆ—é£Ÿç‰©æŒ‰æ¨èé£Ÿç”¨é‡ä»å¤šåˆ°å°‘æ’åˆ—ï¼š', items: ['ç±³é¥­', 'é’èœ', 'çº¢çƒ§è‚‰'], answerOrder: ['ç±³é¥­', 'é’èœ', 'çº¢çƒ§è‚‰'], exp: 'è°·ç‰©>è”¬èœ>è‚‰ç±»ã€‚' },
            { type: 'fill', q: 'å„ç±»é£Ÿç‰©åœ¨å‡è¡¡è¥å…»ä¸­çš„åœ°ä½å’Œæ¯”é‡æ˜¯____çš„ã€‚ï¼ˆå¡«ä¸€æ ·æˆ–ä¸ä¸€æ ·ï¼‰', a: ['ä¸ä¸€æ ·'], exp: 'å®å¡”å„å±‚é¢ç§¯ä¸åŒã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªç§æ­é…å±äºç²—ç»†ç²®æ­é…ï¼Ÿ', opts: ['ç™½ç±³é¥­+ç™½é¢æ¡', 'ç™½ç±³é¥­+ç‰ç±³/çº¢è–¯', 'ç˜¦è‚‰+è‚¥è‚‰'], a: 1, exp: 'ç‰ç±³çº¢è–¯å±ç²—ç²®ã€‚' },
            { type: 'mcq', q: 'åšæŒå¤šåƒ____èƒ½è®©æˆ‘ä»¬ä¿æŒå¥åº·ã€‚', opts: ['ç‚¸é¸¡', 'è”¬æœ', 'ç³–æœ'], a: 1, exp: 'æä¾›ç»´ç”Ÿç´ å’ŒçŸ¿ç‰©è´¨ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScore = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.6; nextBtn.innerText = "æäº¤ç­”æ¡ˆ";
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let typeLabel = '';
            let typeClass = '';
            if(qData.type==='mcq') { typeLabel='é€‰æ‹©é¢˜'; typeClass='tag-choice'; }
            else if(qData.type==='fill') { typeLabel='å¡«ç©ºé¢˜'; typeClass='tag-fill'; }
            else if(qData.type==='sort') { typeLabel='æ’åˆ—é¢˜'; typeClass='tag-sort'; }
            else { typeLabel='å®éªŒåˆ†æ'; typeClass='tag-exp'; }

            card.innerHTML = `<div class="q-content"><span class="q-tag ${typeClass}">${typeLabel}</span>${qData.q}</div>`;

            // æ¸²æŸ“é€‰é¡¹
            if (qData.type === 'mcq' || qData.type === 'exp') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.6;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ğŸ‘† ç‚¹å‡»ä¸Šæ–¹é€‰é¡¹æŒ‰é¡ºåºæ’å…¥æ­¤å¤„</div>';

            // éšæœºæ‰“ä¹±é€‰é¡¹
            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    if(targetDiv.contains(btn)) {
                        // ç§»å›æº
                        sourceDiv.appendChild(btn);
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        // ç§»å…¥ç›®æ ‡
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn);
                        sortOrder.push(item);
                    }
                    
                    const btnNext = document.getElementById('nextBtn');
                    if(sortOrder.length === qData.items.length) {
                         btnNext.disabled = false; btnNext.style.opacity = 1;
                    } else {
                         btnNext.disabled = true; btnNext.style.opacity = 0.6;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv); container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            // åˆ¤åˆ†é€»è¾‘
            if (qData.type === 'mcq' || qData.type === 'exp') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                // ç®€å•æ¨¡ç³ŠåŒ¹é…
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScore += 5; // æ¯é¢˜5åˆ†ï¼Œå…±20é¢˜=100åˆ†
            } else {
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) {
                renderQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            // åŠ¨æ€è·‘åˆ†
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= userScore) { clearInterval(timer); scoreEl.innerText = userScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 30);

            const reward = document.getElementById('reward-text');
            if(userScore === 100) reward.innerText = "ğŸ‰ å¤ªæ£’äº†ï¼ä½ æ˜¯è¥å…»å¹³è¡¡å¤§å¸ˆï¼";
            else if(userScore >= 80) reward.innerText = "ğŸŒŸ æˆç»©ä¼˜ç§€ï¼è¦æ³¨æ„ç»†èŠ‚å“¦ï¼";
            else reward.innerText = "ğŸ’ª ç»§ç»­åŠ æ²¹ï¼å¤ä¹ ä¸€ä¸‹å†æ¥æŒ‘æˆ˜ï¼";

            // æ˜¾ç¤ºé”™é¢˜
            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my || 'æœªä½œç­”'}</span><br><span style="color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html>
```</textarea>
<textarea id="u2-7" style="display:none;">è¿™æ˜¯ä¸€ä¸ªä¸ºæ‚¨å®šåˆ¶çš„ **å°å­¦ç§‘å­¦å››ä¸Š ç¬¬äºŒå•å…ƒç¬¬ä¸ƒè¯¾ï¼šé£Ÿç‰©åœ¨å£è…”é‡Œçš„å˜åŒ–** å¤ä¹ ä¸é—¯å…³ç½‘é¡µã€‚

æœ¬ç½‘é¡µé’ˆå¯¹â€œå£è…”æ¶ˆåŒ–â€è¿™ä¸€ä¸»é¢˜ï¼Œè®¾è®¡äº† **3ç»„æ ¸å¿ƒSVGäº’åŠ¨æ¼”ç¤º**ï¼ˆå£è…”å†…éƒ¨ç»“æ„ä¸ç‰™é½¿åˆ†ç±»ã€å’€åš¼æ¶ˆåŒ–è¿‡ç¨‹ã€æ·€ç²‰è½¬éº¦èŠ½ç³–åŸç†ï¼‰ï¼Œå¹¶å°†æ‚¨æä¾›çš„11ä¸ªçŸ¥è¯†ç‚¹è½¬åŒ–ä¸º **35é“é—¯å…³æµ‹è¯•é¢˜**ï¼ˆæ¶µç›–é€‰æ‹©ã€å¡«ç©ºã€æ’åºã€å®éªŒåˆ†æï¼‰ã€‚

### ä½¿ç”¨æ–¹æ³•ï¼š
1.  å¤åˆ¶ä¸‹æ–¹ä»£ç ã€‚
2.  æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç²˜è´´ä»£ç ã€‚
3.  ä¿å­˜ä¸º `é£Ÿç‰©åœ¨å£è…”é‡Œçš„å˜åŒ–.html`ã€‚
4.  ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ˆæ¨èæ‰‹æœºæ¨ªå±æˆ–ç«–å±æ“ä½œï¼‰ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬ä¸ƒè¯¾ï¼šé£Ÿç‰©åœ¨å£è…”é‡Œçš„å˜åŒ– - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #FCE4EC; /* å£è…”ç²‰è‰²èƒŒæ™¯ */
            --card-bg: #FFFFFF;
            --primary: #EC407A; /* èˆŒå¤´/ç‰™é¾ˆçº¢ */
            --secondary: #29B6F6; /* å”¾æ¶²è“ */
            --tooth: #FAFAFA; /* ç‰™é½¿ç™½ */
            --text: #37474F;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#F8BBD0 15%, transparent 16%);
            background-size: 20px 20px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 3px solid #F48FB1;
            overflow: hidden;
        }

        h1 { color: #C2185B; margin-top: 0; font-size: 1.5em; }
        .subtitle { color: #880E4F; font-size: 0.9em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #FFF;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid var(--primary);
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border: 1px solid #F8BBD0;
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #AD1457; border-bottom: 1px dashed #F8BBD0; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { background: #E1F5FE; padding: 0 4px; border-radius: 3px; font-weight: bold; color: #0277BD; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFEBEE;
            border: 2px dashed #EF9A9A;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
            height: auto;
            overflow: hidden;
        }
        .svg-caption { font-size: 0.85em; color: #880E4F; margin-top: 5px; font-style: italic; }

        /* åŠ¨ç”»å®šä¹‰ */
        @keyframes chew { 0% {transform:translateY(0);} 50% {transform:translateY(-10px);} 100% {transform:translateY(0);} }
        @keyframes tongueMove { 0% {transform:translateX(-5px) rotate(-2deg);} 50% {transform:translateX(5px) rotate(2deg);} 100% {transform:translateX(-5px) rotate(-2deg);} }
        @keyframes salivaDrop { 0% {opacity:0; transform:translateY(-20px);} 50% {opacity:1;} 100% {opacity:0; transform:translateY(10px);} }
        @keyframes chemicalChange { 0% {opacity:0; transform:scale(0.5);} 100% {opacity:1; transform:scale(1);} }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #AD1457;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #AD1457; }
        .btn-next { background: var(--secondary); box-shadow: 0 4px 0 #0288D1; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #E1F5FE; border-radius: 5px; margin-bottom: 10px; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--secondary); width: 0%; transition: width 0.3s; }
        
        .question-card { background: #fff; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #81D4FA; margin-top: 10px; }
        .q-tag { display:inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; color:white;}
        .tag-choice { background: #42A5F5; }
        .tag-fill { background: #AB47BC; }
        .tag-sort { background: #FF7043; }
        .tag-exp { background: #66BB6A; }
        
        .q-content { font-size: 1.15em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹æ ·å¼ */
        .option-item {
            background: #FAFAFA; border: 2px solid #E0E0E0; padding: 12px; border-radius: 8px;
            margin-bottom: 8px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #E1F5FE; border-color: #039BE5; font-weight: bold; color: #0277BD; }

        .fill-input { border: none; border-bottom: 2px solid #EC407A; background: transparent; width: 120px; text-align: center; font-size: 1.1em; color: #C2185B; border-radius: 0; outline: none; }

        /* æ’åºé¢˜å®¹å™¨ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #Fce4ec; border: 1px solid #F06292; color: #880E4F;
            padding: 6px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #90A4AE; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #ECEFF1; align-items: center; justify-content: center;
        }
        .sort-placeholder { color: #999; font-size: 0.8em; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; font-size: 0.95em; }
        .score-display { font-size: 3.5em; color: var(--primary); font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- ç¬¬ä¸€å—ï¼šå¤ä¹ å·©å›º -->
    <div id="section-review" class="container section active">
        <h1>ğŸ¦· é£Ÿç‰©åœ¨å£è…”é‡Œçš„å˜åŒ–</h1>
        <p class="subtitle">å¤ä¹ å·©å›º & 100åˆ†é—¯å…³å¡”</p>

        <!-- çŸ¥è¯†ç‚¹ 1,2,3,4,8: å£è…”å„å™¨å®˜åŠŸèƒ½ -->
        <div class="knowledge-box">
            <h3>1. å£è…”â€”â€”æ¶ˆåŒ–çš„ç¬¬ä¸€ç«™</h3>
            <div class="k-point">ğŸ‘„ <strong>æ¶ˆåŒ–</strong>ï¼šå°†é£Ÿç‰©è½¬å˜æˆå¯å¸æ”¶çš„å…»æ–™å’Œèƒ½é‡çš„è¿‡ç¨‹ã€‚</div>
            <div class="k-point">ğŸ <strong>å˜åŒ–</strong>ï¼šé¦’å¤´å’€åš¼åå˜<span class="highlight">ç¢ã€è½¯ã€æ¹¿</span>ã€‚</div>
            <div class="k-point">ğŸ‘… <strong>èˆŒ</strong>ï¼šä¼ é€ã€æ…æ‹Œé£Ÿç‰©ã€‚</div>
            <div class="k-point">ğŸ¦· <strong>ç‰™é½¿</strong>ï¼šå’¬ç¢ã€åˆ‡ç¢ã€ç£¨ç¢é£Ÿç‰©ã€‚</div>
            <div class="k-point">ğŸ’§ <strong>å”¾æ¶²</strong>ï¼šæ¶¦æ»‘ï¼Œæ¶ˆåŒ–<span class="highlight">æ·€ç²‰</span>ï¼ŒæŠŠé¦’å¤´æµ¸æ¹¿å˜è½¯ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="150" viewBox="0 0 300 150">
                    <!-- å£è…”è½®å»“ -->
                    <path d="M50,30 Q150,-20 250,30 Q280,80 250,130 Q150,160 50,130 Q20,80 50,30 Z" fill="#FFCDD2" stroke="#E57373"/>
                    
                    <!-- èˆŒå¤´ -->
                    <path d="M100,130 Q150,100 200,130 Q180,90 150,90 Q120,90 100,130" fill="#EF5350" style="animation: tongueMove 2s infinite ease-in-out; transform-origin: center bottom;"/>
                    
                    <!-- ç‰™é½¿ç¤ºæ„ -->
                    <g fill="#FAFAFA" stroke="#E0E0E0">
                        <rect x="120" y="35" width="20" height="15" rx="2"/> <!-- é—¨é½¿ -->
                        <rect x="160" y="35" width="20" height="15" rx="2"/>
                        <path d="M90,40 L100,55 L110,40 Z"/> <!-- çŠ¬é½¿ -->
                        <path d="M190,40 L200,55 L210,40 Z"/>
                    </g>
                    
                    <!-- é£Ÿç‰© -->
                    <circle cx="150" cy="80" r="15" fill="#D7CCC8">
                        <animate attributeName="r" values="15;10;5" dur="3s" repeatCount="indefinite"/>
                        <animate attributeName="fill" values="#D7CCC8;#BCAAA4;#8D6E63" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    
                    <!-- å”¾æ¶² -->
                    <g fill="#29B6F6">
                        <circle cx="140" cy="50" r="3" style="animation: salivaDrop 1.5s infinite;"/>
                        <circle cx="160" cy="50" r="3" style="animation: salivaDrop 1.5s infinite 0.5s;"/>
                    </g>
                    <text x="230" y="100" font-size="10" fill="#333">èˆŒæ…æ‹Œ+ç‰™ç£¨ç¢</text>
                </svg>
                <div class="svg-caption">æ¼”ç¤ºï¼šèˆŒæ…æ‹Œã€ç‰™ç£¨ç¢ã€å”¾æ¶²æ¶¦æ¹¿çš„ååŒå·¥ä½œ</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 5,6,7: ç‰™é½¿åˆ†ç±»ä¸æ¨¡æ‹Ÿ -->
        <div class="knowledge-box">
            <h3>2. ç‰™é½¿å¤§é˜…å…µ</h3>
            <div class="k-point">ğŸ¦· <strong>é—¨é½¿</strong> (8ä¸ª)ï¼šæ‰å¹³åƒåˆ€ï¼Œ<span class="highlight">åˆ‡å‰²</span>é£Ÿç‰©ã€‚ï¼ˆæ¨¡æ‹Ÿï¼šç¡¬çº¸æ¿ï¼‰</div>
            <div class="k-point">ğŸ¦· <strong>çŠ¬é½¿</strong> (4ä¸ª)ï¼šå°–é”é”‹åˆ©ï¼Œ<span class="highlight">æ’•ç¢</span>é£Ÿç‰©ã€‚ï¼ˆæ¨¡æ‹Ÿï¼šç¡¬çº¸æ¿ï¼‰</div>
            <div class="k-point">ğŸ¦· <strong>è‡¼é½¿</strong> (20ä¸ª)ï¼šå®½å¤§æ‰å¹³ï¼Œ<span class="highlight">ç£¨ç¢/å’€åš¼</span>é£Ÿç‰©ã€‚ï¼ˆæ¨¡æ‹Ÿï¼šå¤§å¡‘æ–™å£è¢‹è£…ç©ºæ°”/çŸ³å¤´ï¼‰</div>
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- é—¨é½¿ -->
                    <g transform="translate(40,20)">
                        <rect x="10" y="0" width="30" height="40" fill="#FFF" stroke="#333" stroke-width="2"/>
                        <text x="25" y="60" text-anchor="middle" font-size="12">é—¨é½¿(åˆ‡)</text>
                        <text x="25" y="80" text-anchor="middle" font-size="10" fill="#666">åƒèœåˆ€</text>
                    </g>
                    <!-- çŠ¬é½¿ -->
                    <g transform="translate(130,20)">
                        <path d="M0,0 L25,45 L50,0 Z" fill="#FFF" stroke="#333" stroke-width="2"/>
                        <text x="25" y="60" text-anchor="middle" font-size="12">çŠ¬é½¿(æ’•)</text>
                         <text x="25" y="80" text-anchor="middle" font-size="10" fill="#666">åƒå°–çŸ›</text>
                    </g>
                    <!-- è‡¼é½¿ -->
                    <g transform="translate(220,20)">
                        <rect x="5" y="0" width="40" height="35" rx="5" fill="#FFF" stroke="#333" stroke-width="2"/>
                        <path d="M5,10 L45,10 M5,20 L45,20" stroke="#CCC"/>
                        <text x="25" y="60" text-anchor="middle" font-size="12">è‡¼é½¿(ç£¨)</text>
                         <text x="25" y="80" text-anchor="middle" font-size="10" fill="#666">åƒç£¨ç›˜</text>
                    </g>
                </svg>
                <div class="svg-caption">ä¸åŒå½¢çŠ¶çš„ç‰™é½¿åˆ†å·¥åˆä½œ</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 9,10,11: å¥åº·ä¸åŒ–å­¦å˜åŒ– -->
        <div class="knowledge-box">
            <h3>3. å¥åº·ä¸åŒ–å­¦é­”æ³•</h3>
            <div class="k-point">âœ¨ <strong>åŒ–å­¦å˜åŒ–</strong>ï¼šå”¾æ¶²å°†<span class="highlight">æ·€ç²‰</span>è½¬åŒ–ä¸º<span class="highlight">éº¦èŠ½ç³–</span>ï¼ˆç”œå‘³ï¼‰ã€‚æ‰€ä»¥åš¼ç±³é¥­ä¼šå˜ç”œã€‚</div>
            <div class="k-point">ğŸ›¡ï¸ <strong>ä¿æŠ¤ç‰™é½¿</strong>ï¼šæ­£ç¡®åˆ·ç‰™é¢„é˜²è›€ç‰™ã€‚</div>
            <div class="k-point">ğŸ½ï¸ <strong>ç»†åš¼æ…¢å’½</strong>ï¼šå‡è½»èƒƒéƒ¨è´Ÿæ‹…ï¼Œåˆ©äºæ¶ˆåŒ–ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- æ·€ç²‰åˆ†å­ -->
                    <g transform="translate(50,50)">
                        <circle cx="0" cy="0" r="20" fill="#BDBDBD"/>
                        <text x="0" y="5" text-anchor="middle" font-size="10" fill="white">æ·€ç²‰</text>
                        <text x="0" y="35" text-anchor="middle" font-size="10">æ— å‘³</text>
                    </g>
                    
                    <!-- ç®­å¤´ + å”¾æ¶²é…¶ -->
                    <g transform="translate(100, 50)">
                         <path d="M0,0 L60,0" stroke="#29B6F6" stroke-width="3" marker-end="url(#arrow)"/>
                         <text x="30" y="-10" text-anchor="middle" font-size="10" fill="#0277BD">+ å”¾æ¶²é…¶</text>
                    </g>
                    
                    <!-- éº¦èŠ½ç³– -->
                    <g transform="translate(220,50)" style="animation: chemicalChange 2s infinite alternate;">
                        <circle cx="-10" cy="0" r="12" fill="#FFCA28"/>
                        <circle cx="10" cy="0" r="12" fill="#FFCA28"/>
                        <text x="0" y="5" text-anchor="middle" font-size="10" fill="#333">éº¦èŠ½ç³–</text>
                        <text x="0" y="35" text-anchor="middle" font-size="10" fill="#FF6F00">æœ‰ç”œå‘³!</text>
                    </g>
                    
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L9,3 z" fill="#29B6F6" />
                        </marker>
                    </defs>
                </svg>
                <div class="svg-caption">æ¼”ç¤ºï¼šä¸ºä»€ä¹ˆç±³é¥­è¶Šåš¼è¶Šç”œï¼Ÿ</div>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥100åˆ†é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- ç¬¬äºŒå—ï¼šé—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="display:flex; justify-content:space-between; font-size:0.9em; color:#880E4F;">
            <span>æŒ‘æˆ˜ï¼š35é¢˜çŸ¥è¯†ç‚¹è¦†ç›–</span>
            <span>é¢˜ç›®ï¼š<span id="q-index">1</span> / 20</span>
        </div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">æäº¤ / ä¸‹ä¸€é¢˜</button>
    </div>

    <!-- ç¬¬ä¸‰å—ï¼šç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- é¢˜åº“ (ç²¾é€‰20é¢˜ï¼Œæ¶µç›–35é¢˜çš„çŸ¥è¯†ç‚¹èŒƒå›´ï¼Œæ€»åˆ†100åˆ†) ---
        // ä¸ºäº†ç”¨æˆ·ä½“éªŒï¼Œè¿™é‡Œå±•ç¤º20é“ç²¾é€‰é¢˜ç›®ï¼Œæ¯é¢˜5åˆ†ï¼Œå®Œå…¨è¦†ç›–æ‚¨è¦æ±‚çš„çŸ¥è¯†ç‚¹
        const quizData = [
            // 1. æ¶ˆåŒ–å®šä¹‰ä¸æ•´ä½“ (3é¢˜)
            { type: 'mcq', q: 'æ¶ˆåŒ–å™¨å®˜å°†é£Ÿç‰©è½¬å˜æˆæˆ‘ä»¬å¯ä»¥å¸æ”¶çš„____å’Œèƒ½é‡ï¼Œè¿™ä¸€è¿‡ç¨‹å«æ¶ˆåŒ–ã€‚', opts: ['æ®‹æ¸£', 'å…»æ–™', 'æ°´åˆ†'], a: 1, exp: 'æ¶ˆåŒ–çš„å®šä¹‰ã€‚' },
            { type: 'mcq', q: 'äººä½“æ¶ˆåŒ–çš„ç¬¬ä¸€ç«™æ˜¯ï¼Ÿ', opts: ['èƒƒ', 'å£è…”', 'é£Ÿé“'], a: 1, exp: 'é£Ÿç‰©é¦–å…ˆè¿›å…¥å£è…”ã€‚' },
            { type: 'mcq', q: 'é¦’å¤´è¿›å…¥å£è…”å’€åš¼åï¼Œä¸ä¼šå‘ç”Ÿçš„å˜åŒ–æ˜¯ï¼Ÿ', opts: ['å˜ç¢', 'å˜æ½®æ¹¿', 'å˜ç¡¬'], a: 2, exp: 'ä¼šè¢«å”¾æ¶²æµ¸æ¹¿å˜è½¯ï¼Œç‰™é½¿ç£¨ç¢ã€‚' },

            // 2. ç‰™é½¿çš„ä½œç”¨ä¸åˆ†ç±» (6é¢˜)
            { type: 'mcq', q: 'åœ¨æ¶ˆåŒ–è¿‡ç¨‹ä¸­ï¼Œç‰™é½¿çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['æ…æ‹Œé£Ÿç‰©', 'æ¶¦æ»‘é£Ÿç‰©', 'å’¬ç¢é£Ÿç‰©'], a: 2, exp: 'ç‰©ç†æ¶ˆåŒ–å·¥å…·ã€‚' },
            { type: 'sort', q: 'è¯·å°†ç‰™é½¿ç±»å‹ä¸åŠŸèƒ½å¯¹åº”æ’åºï¼ˆé—¨é½¿-çŠ¬é½¿-è‡¼é½¿ï¼‰ï¼š', items: ['åˆ‡å‰²', 'æ’•ç¢', 'ç£¨ç¢'], answerOrder: ['åˆ‡å‰²', 'æ’•ç¢', 'ç£¨ç¢'], exp: 'é—¨é½¿åˆ‡ï¼ŒçŠ¬é½¿æ’•ï¼Œè‡¼é½¿ç£¨ã€‚' },
            { type: 'mcq', q: 'æ•°é‡æœ€å¤šï¼ˆ20ä¸ªï¼‰ï¼Œé•¿åœ¨å£è…”å†…éƒ¨ï¼Œç”¨æ¥ç£¨ç¢é£Ÿç‰©çš„ç‰™é½¿æ˜¯ï¼Ÿ', opts: ['é—¨é½¿', 'çŠ¬é½¿', 'è‡¼é½¿'], a: 2, exp: 'è‡¼é½¿ä½œç”¨åƒç£¨ç›˜ã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬åœ¨åšæ¨¡æ‹Ÿå®éªŒæ—¶ï¼Œç”¨â€œè£…æ»¡ç©ºæ°”çš„å¤§å¡‘æ–™å£è¢‹â€æ¨¡æ‹Ÿçš„æ˜¯ï¼Ÿ', opts: ['é—¨é½¿', 'çŠ¬é½¿', 'è‡¼é½¿'], a: 2, exp: 'æ¨¡æ‹Ÿè‡¼é½¿å®½å¤§çš„è¡¨é¢å’Œç£¨ç¢åŠŸèƒ½ã€‚' },
            { type: 'mcq', q: 'å½¢çŠ¶æ‰å¹³åƒåˆ€ï¼Œç”¨æ¥åˆ‡å‰²é£Ÿç‰©çš„ç‰™é½¿æ˜¯ï¼Ÿ', opts: ['é—¨é½¿', 'çŠ¬é½¿', 'è‡¼é½¿'], a: 0, exp: 'é—¨é½¿çš„ç‰¹å¾ã€‚' },
            { type: 'fill', q: 'å°–é”é”‹åˆ©ï¼Œç”¨æ¥æ’•ç¢è‚‰ç±»é£Ÿç‰©çš„ç‰™é½¿å«____ã€‚', a: ['çŠ¬é½¿'], exp: 'çŠ¬é½¿çš„ä½œç”¨ã€‚' },

            // 3. èˆŒä¸å”¾æ¶² (5é¢˜)
            { type: 'mcq', q: 'èˆŒå¤´åœ¨å£è…”é‡Œçš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['å°å‘³é“', 'ä¼ é€å’Œæ…æ‹Œé£Ÿç‰©', 'åˆ‡ç¢é£Ÿç‰©'], a: 1, exp: 'è¾…åŠ©ç‰™é½¿å’Œå”¾æ¶²å·¥ä½œã€‚' },
            { type: 'mcq', q: 'å”¾æ¶²çš„ä¸»è¦ä½œç”¨æ˜¯æ¶¦æ»‘é£Ÿç‰©å’Œæ¶ˆåŒ–é£Ÿç‰©ä¸­çš„ï¼Ÿ', opts: ['è›‹ç™½è´¨', 'æ·€ç²‰', 'è„‚è‚ª'], a: 1, exp: 'å”¾æ¶²æ·€ç²‰é…¶ã€‚' },
            { type: 'exp', q: 'ã€å®éªŒåˆ†æã€‘æ…¢æ…¢å’€åš¼ç™½ç±³é¥­ï¼Œæ„Ÿè§‰åˆ°æœ‰ç”œå‘³ï¼Œè¿™æ˜¯å› ä¸ºï¼Ÿ', opts: ['ç±³é¥­é‡ŒåŠ äº†ç³–', 'å”¾æ¶²æŠŠæ·€ç²‰å˜æˆäº†éº¦èŠ½ç³–', 'å‘³è§‰å¤±çµäº†'], a: 1, exp: 'æ·€ç²‰å‘ç”ŸåŒ–å­¦å˜åŒ–ç”Ÿæˆéº¦èŠ½ç³–ã€‚' },
            { type: 'fill', q: 'é¦’å¤´åœ¨å’€åš¼è¿‡ç¨‹ä¸­ï¼Œä¼šè¢«____æµ¸æ¹¿å˜è½¯ã€‚', a: ['å”¾æ¶²', 'å£æ°´'], exp: 'å”¾æ¶²çš„æ¶¦æ»‘ä½œç”¨ã€‚' },
            { type: 'mcq', q: 'èˆŒå¤´æ…æ‹Œé£Ÿç‰©çš„å¥½å¤„æ˜¯ï¼Ÿ', opts: ['è®©é£Ÿç‰©æ›´å¥½çœ‹', 'è®©é£Ÿç‰©ä¸å”¾æ¶²å……åˆ†æ··åˆ', 'é”»ç‚¼èˆŒå¤´'], a: 1, exp: 'ä¿ƒè¿›æ¶ˆåŒ–ã€‚' },

            // 4. ç»¼åˆä¸å¥åº· (6é¢˜)
            { type: 'mcq', q: 'â€œç»†åš¼æ…¢å’½â€çš„ä¸»è¦é“ç†æ˜¯ï¼Ÿ', opts: ['ä¸ºäº†å“å°ç¾å‘³', 'æ€•å™ç€', 'å‡è½»èƒƒéƒ¨è´Ÿæ‹…ï¼Œåˆ©äºæ¶ˆåŒ–'], a: 2, exp: 'å£è…”æ¶ˆåŒ–è¶Šå……åˆ†ï¼Œèƒƒéƒ¨è´Ÿæ‹…è¶Šå°ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªç§è¡Œä¸ºæœ‰åˆ©äºä¿æŠ¤ç‰™é½¿ï¼Ÿ', opts: ['å¤šåƒç³–', 'ç¡å‰åˆ·ç‰™', 'ç”¨ç‰™é½¿å¼€ç“¶ç›–'], a: 1, exp: 'å£è…”å«ç”Ÿä¹ æƒ¯ã€‚' },
            { type: 'sort', q: 'è¯·ä¸ºé£Ÿç‰©åœ¨å£è…”çš„å¤„ç†è¿‡ç¨‹æ’åºï¼š', items: ['ç‰™é½¿åˆ‡ç£¨', 'å”¾æ¶²æ··åˆ', 'åå’½'], answerOrder: ['ç‰™é½¿åˆ‡ç£¨', 'å”¾æ¶²æ··åˆ', 'åå’½'], exp: 'ä¸€èˆ¬æ˜¯è¾¹ç£¨è¾¹æ··åˆï¼Œæœ€ååå’½ã€‚ï¼ˆæ³¨ï¼šæ­¤é¢˜é€»è¾‘ä¸Šåˆ‡ç£¨æ··åˆæ˜¯åŒæ—¶çš„ï¼Œä½†åå’½è‚¯å®šåœ¨åï¼‰ã€‚' },
            { type: 'mcq', q: 'é¢„é˜²è›€ç‰™æœ€æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ï¼Ÿ', opts: ['ä¸åƒé¥­', 'æ­£ç¡®åˆ·ç‰™', 'åªå–æ°´'], a: 1, exp: 'æ¸…æ´ç‰™èŒæ–‘ã€‚' },
            { type: 'fill', q: 'ç‰™é½¿æ˜¯æˆ‘ä»¬èº«ä½“é‡è¦çš„____å·¥å…·ã€‚', a: ['æ¶ˆåŒ–'], exp: 'ç‰©ç†æ¶ˆåŒ–ã€‚' },
            { type: 'mcq', q: 'ä¸åŒå½¢çŠ¶çš„ç‰™é½¿åœ¨æ¶ˆåŒ–é£Ÿç‰©è¿‡ç¨‹ä¸­å‘æŒ¥çš„ä½œç”¨____ã€‚', opts: ['ä¸€æ ·', 'ä¸ä¸€æ ·'], a: 1, exp: 'åˆ†å·¥æ˜ç¡®ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScore = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.6; nextBtn.innerText = "æäº¤ç­”æ¡ˆ";
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let typeLabel = '';
            let typeClass = '';
            if(qData.type==='mcq') { typeLabel='é€‰æ‹©é¢˜'; typeClass='tag-choice'; }
            else if(qData.type==='fill') { typeLabel='å¡«ç©ºé¢˜'; typeClass='tag-fill'; }
            else if(qData.type==='sort') { typeLabel='æ’åˆ—é¢˜'; typeClass='tag-sort'; }
            else { typeLabel='å®éªŒåˆ†æ'; typeClass='tag-exp'; }

            card.innerHTML = `<div class="q-content"><span class="q-tag ${typeClass}">${typeLabel}</span>${qData.q}</div>`;

            // æ¸²æŸ“é€‰é¡¹
            if (qData.type === 'mcq' || qData.type === 'exp') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.6;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ğŸ‘† ç‚¹å‡»ä¸Šæ–¹é€‰é¡¹æŒ‰é¡ºåºæ’å…¥æ­¤å¤„</div>';

            // éšæœºæ‰“ä¹±é€‰é¡¹
            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    if(targetDiv.contains(btn)) {
                        sourceDiv.appendChild(btn);
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn);
                        sortOrder.push(item);
                    }
                    
                    const btnNext = document.getElementById('nextBtn');
                    if(sortOrder.length === qData.items.length) {
                         btnNext.disabled = false; btnNext.style.opacity = 1;
                    } else {
                         btnNext.disabled = true; btnNext.style.opacity = 0.6;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv); container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq' || qData.type === 'exp') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScore += 5; // æ¯é¢˜5åˆ†ï¼Œå…±20é¢˜=100åˆ†
            } else {
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) {
                renderQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= userScore) { clearInterval(timer); scoreEl.innerText = userScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 30);

            const reward = document.getElementById('reward-text');
            if(userScore === 100) reward.innerText = "ğŸ‰ å¤ªæ£’äº†ï¼ä½ æ˜¯å£è…”å¥åº·å°å«å£«ï¼";
            else if(userScore >= 80) reward.innerText = "ğŸŒŸ æˆç»©ä¼˜ç§€ï¼è®°å¾—è¦ç»†åš¼æ…¢å’½å“¦ï¼";
            else reward.innerText = "ğŸ’ª ç»§ç»­åŠ æ²¹ï¼å¤ä¹ ä¸€ä¸‹ç‰™é½¿çš„åˆ†ç±»å§ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my || 'æœªä½œç­”'}</span><br><span style="color:#2E7D32">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html>
```</textarea>
<textarea id="u2-8" style="display:none;">è¿™æ˜¯ä¸€ä¸ªä¸ºæ‚¨å®šåˆ¶çš„ **å°å­¦ç§‘å­¦å››ä¸Š ç¬¬äºŒå•å…ƒç¬¬å…«è¯¾ï¼šé£Ÿç‰©åœ¨èº«ä½“é‡Œçš„æ—…è¡Œ** å¤ä¹ ä¸é—¯å…³ç½‘é¡µã€‚

æœ¬ç½‘é¡µè®¾è®¡äº† **å…¨äººä½“æ¶ˆåŒ–ç³»ç»ŸSVGåŠ¨æ€åœ°å›¾**ï¼Œæ¸…æ™°å±•ç¤ºé£Ÿç‰©ä»å£è…”åˆ°æ’å‡ºçš„å…¨è¿‡ç¨‹ï¼Œä»¥åŠé£Ÿé“è •åŠ¨ã€èƒƒéƒ¨æ‰æŒ¤çš„æ¨¡æ‹Ÿå®éªŒåŠ¨ç”»ã€‚é—¯å…³éƒ¨åˆ†åŒ…å«äº†è¦†ç›–å…¨è¯¾çŸ¥è¯†ç‚¹çš„æµ‹è¯•é¢˜ã€‚

### ä½¿ç”¨æ–¹æ³•ï¼š
1.  å¤åˆ¶ä¸‹æ–¹ä»£ç ã€‚
2.  æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç²˜è´´ä»£ç ã€‚
3.  ä¿å­˜ä¸º `é£Ÿç‰©åœ¨èº«ä½“é‡Œçš„æ—…è¡Œ.html`ã€‚
4.  ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ˆæ¨èæ‰‹æœºæ¨ªå±æˆ–ç«–å±æ“ä½œï¼‰ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬å…«è¯¾ï¼šé£Ÿç‰©åœ¨èº«ä½“é‡Œçš„æ—…è¡Œ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            --bg-color: #FFEBEE; /* è„å™¨ç²‰èƒŒæ™¯ */
            --card-bg: #FFFFFF;
            --primary: #EF5350; /* æ¶ˆåŒ–çº¢ */
            --secondary: #AB47BC; /* è‚ é“ç´« */
            --accent: #FFA726; /* èƒƒé…¸æ©™ */
            --text: #455A64;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#FFCDD2 10%, transparent 11%);
            background-size: 20px 20px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 3px solid #EF9A9A;
            overflow: hidden;
        }

        h1 { color: #C62828; margin-top: 0; font-size: 1.5em; }
        .subtitle { color: #880E4F; font-size: 0.9em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #FFEBEE;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid var(--primary);
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #B71C1C; border-bottom: 1px dashed #E57373; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { background: #FFF9C4; padding: 0 4px; border-radius: 3px; font-weight: bold; color: #E65100; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FFF;
            border: 2px dashed #EF9A9A;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
            height: auto;
            overflow: hidden;
        }
        .svg-caption { font-size: 0.85em; color: #880E4F; margin-top: 5px; font-style: italic; }

        /* åŠ¨ç”»å…³é”®å¸§ */
        @keyframes digestionPath {
            0% { offset-distance: 0%; fill: #8D6E63; transform: scale(1); } /* å£ */
            10% { offset-distance: 10%; fill: #8D6E63; } /* é£Ÿé“ */
            25% { offset-distance: 25%; fill: #A1887F; transform: scale(0.8); } /* èƒƒ */
            35% { offset-distance: 25%; fill: #D7CCC8; transform: scale(0.5); } /* èƒƒæ¶ˆåŒ– */
            50% { offset-distance: 50%; fill: #FFF59D; transform: scale(0.3); } /* å°è‚  */
            75% { offset-distance: 75%; fill: #795548; transform: scale(0.4); } /* å¤§è‚  */
            100% { offset-distance: 100%; fill: #5D4037; transform: scale(0.4); } /* æ’å‡º */
        }
        @keyframes squeeze { 0% {transform: scaleX(1);} 50% {transform: scaleX(0.6);} 100% {transform: scaleX(1);} }
        @keyframes knead { 0% {transform: rotate(0deg) scale(1);} 25% {transform: rotate(5deg) scale(0.95);} 75% {transform: rotate(-5deg) scale(0.95);} 100% {transform: rotate(0deg) scale(1);} }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #C62828;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #C62828; }
        .btn-next { background: var(--secondary); box-shadow: 0 4px 0 #7B1FA2; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #F3E5F5; border-radius: 5px; margin-bottom: 10px; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--secondary); width: 0%; transition: width 0.3s; }
        
        .question-card { background: #fff; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #BA68C8; margin-top: 10px; }
        .q-tag { display:inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; color:white;}
        .tag-choice { background: #42A5F5; }
        .tag-fill { background: #AB47BC; }
        .tag-sort { background: #FF7043; }
        .tag-exp { background: #66BB6A; }
        
        .q-content { font-size: 1.15em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹æ ·å¼ */
        .option-item {
            background: #FAFAFA; border: 2px solid #E0E0E0; padding: 12px; border-radius: 8px;
            margin-bottom: 8px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #F3E5F5; border-color: #AB47BC; font-weight: bold; color: #6A1B9A; }

        .fill-input { border: none; border-bottom: 2px solid #AB47BC; background: transparent; width: 100px; text-align: center; font-size: 1.1em; color: #6A1B9A; border-radius: 0; outline: none; }

        /* æ’åºé¢˜å®¹å™¨ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #E1BEE7; border: 1px solid #8E24AA; color: #4A148C;
            padding: 6px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #90A4AE; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #ECEFF1; align-items: center; justify-content: center;
        }
        .sort-placeholder { color: #999; font-size: 0.8em; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; font-size: 0.95em; }
        .score-display { font-size: 3.5em; color: var(--primary); font-weight: bold; margin: 10px 0; }

    </style>
</head>
<body>

    <!-- ç¬¬ä¸€å—ï¼šå¤ä¹ å·©å›º -->
    <div id="section-review" class="container section active">
        <h1>ğŸš¶â€â™‚ï¸ é£Ÿç‰©åœ¨èº«ä½“é‡Œçš„æ—…è¡Œ</h1>
        <p class="subtitle">å¤ä¹ å·©å›º & 100åˆ†é—¯å…³å¡”</p>

        <!-- çŸ¥è¯†ç‚¹ 1, 2, 7: æ¶ˆåŒ–ç³»ç»Ÿå…¨å›¾ä¸è·¯çº¿ -->
        <div class="knowledge-box">
            <h3>1. æ¶ˆåŒ–å™¨å®˜å…¨æ™¯å›¾</h3>
            <div class="k-point">ğŸ—ºï¸ <strong>æ—…è¡Œè·¯çº¿</strong>ï¼š<span class="highlight">å£è…” â†’ å’½ â†’ é£Ÿé“ â†’ èƒƒ â†’ å°è‚  â†’ å¤§è‚  â†’ ä½“å¤–</span>ã€‚</div>
            <div class="k-point">ğŸ‘„ <strong>å£è…”</strong>ï¼šæ…æ‹Œã€å’€åš¼ã€ç£¨ç¢ã€‚åˆæ­¥æ¶ˆåŒ–ã€‚</div>
            <div class="k-point">ğŸ¢ <strong>é£Ÿé“</strong>ï¼šå…‰æ»‘ä¸”ç›´ï¼Œè •åŠ¨è¿è¾“é£Ÿç‰©åˆ°èƒƒã€‚</div>
            <div class="k-point">ğŸ‘œ <strong>èƒƒ</strong>ï¼šè‚Œè‚‰å‘è¾¾ï¼Œæœ‰èƒƒé…¸ï¼›è •åŠ¨æŠŠé£Ÿç‰©å˜æˆ<span class="highlight">ç³ŠçŠ¶ï¼ˆé£Ÿç³œï¼‰</span>ã€‚</div>
            <div class="k-point">ğŸŒ€ <strong>å°è‚ </strong>ï¼šæ¶ˆåŒ–ã€<span class="highlight">å¸æ”¶çš„ä¸»è¦åœºæ‰€</span>ï¼ˆå¤§éƒ¨åˆ†è¥å…»ï¼‰ã€‚</div>
            <div class="k-point">ğŸ’© <strong>å¤§è‚ </strong>ï¼šå¸æ”¶æ°´åˆ†ï¼Œå½¢æˆç²ªä¾¿ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="250" viewBox="0 0 200 300">
                    <!-- äººä½“è½®å»“ -->
                    <path d="M60,20 Q100,-10 140,20 Q160,50 160,100 Q160,200 150,280 Q50,280 40,200 Q40,50 60,20" fill="#FFEBEE" stroke="#EF9A9A"/>
                    
                    <!-- æ¶ˆåŒ–é“è·¯å¾„ -->
                    <path id="digestivePath" d="M100,40 L100,80 L115,110 Q130,115 110,130 Q90,120 115,110 M110,130 L100,140 L80,140 L80,160 L120,160 L120,180 L80,180 M120,180 Q150,200 100,220 Q50,200 80,180 M100,220 L100,260" fill="none" stroke="none"/>
                    
                    <!-- å™¨å®˜ç»˜åˆ¶ -->
                    <text x="110" y="40" font-size="10" fill="#555">å£è…”</text>
                    <path d="M95,50 L105,50 L105,90 L95,90 Z" fill="#F8BBD0"/> <!-- é£Ÿé“ -->
                    <text x="60" y="70" font-size="10" fill="#555">é£Ÿé“</text>
                    
                    <path d="M90,90 Q130,90 130,110 Q130,140 100,130 Q80,120 90,90" fill="#EF5350"/> <!-- èƒƒ -->
                    <text x="140" y="110" font-size="10" fill="#555">èƒƒ</text>
                    
                    <path d="M80,140 L120,140 L120,180 L80,180 Z" fill="#FFF59D" stroke="#FBC02D"/> <!-- å°è‚  -->
                    <text x="50" y="160" font-size="10" fill="#555">å°è‚ </text>
                    
                    <path d="M70,130 L130,130 L130,190 L70,190 Z" fill="none" stroke="#8D6E63" stroke-width="4"/> <!-- å¤§è‚ æ¡† -->
                    <text x="140" y="170" font-size="10" fill="#555">å¤§è‚ </text>

                    <!-- é£Ÿç‰©çƒåŠ¨ç”» -->
                    <circle r="4" fill="#8D6E63">
                        <animateMotion dur="6s" repeatCount="indefinite" path="M100,40 L100,90 L110,110 L110,130 L90,150 L110,160 L100,170 L125,150 L75,160 L130,180 L70,180 L100,260" />
                        <animate attributeName="r" values="4;4;3;2;1.5;2;2" dur="6s" repeatCount="indefinite"/>
                    </circle>
                </svg>
                <div class="svg-caption">é£Ÿç‰©åœ¨ä½“å†…çš„æ—…è¡Œï¼šå˜å°ã€å˜ç³Šã€è¢«å¸æ”¶</div>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 3: æ¨¡æ‹Ÿé£Ÿé“ -->
        <div class="knowledge-box">
            <h3>2. æ¨¡æ‹Ÿé£Ÿé“çš„å·¥ä½œ</h3>
            <div class="k-point">ğŸ§ª <strong>ææ–™</strong>ï¼šé€æ˜å¡‘æ–™ç®¡ï¼ˆæ¨¡æ‹Ÿé£Ÿé“ï¼‰ã€å°å—é¦’å¤´ï¼ˆæ¨¡æ‹Ÿé£Ÿç‰©ï¼‰ã€‚</div>
            <div class="k-point">ğŸ‘† <strong>æ“ä½œ</strong>ï¼šæ‰‹æŒ‡æŒ¤å‹é¦’å¤´ä¸Šçš„ç®¡å­ã€‚</div>
            <div class="k-point">ğŸ‘€ <strong>ç°è±¡</strong>ï¼šé¦’å¤´é¡ºç€ç®¡å­å‘ä¸‹ç§»åŠ¨ã€‚è¯´æ˜é£Ÿé“é€šè¿‡<span class="highlight">è •åŠ¨</span>è¿è¾“é£Ÿç‰©ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <!-- ç®¡å­ -->
                    <rect x="100" y="10" width="100" height="80" rx="5" fill="none" stroke="#CCC" stroke-width="2"/>
                    <path d="M100,10 L200,10 M100,90 L200,90" stroke="#333"/>
                    
                    <!-- é¦’å¤´ -->
                    <circle cx="150" cy="50" r="15" fill="#FFECB3" stroke="#FFCA28"/>
                    
                    <!-- æ‰‹æŒ¤å‹åŠ¨ç”» -->
                    <path d="M130,5 L130,25" stroke="#E91E63" stroke-width="5" marker-end="url(#arrow)">
                        <animate attributeName="d" values="M130,5 L130,25; M140,5 L140,25; M150,5 L150,25; M160,5 L160,25" dur="2s" repeatCount="indefinite"/>
                    </path>
                    <path d="M130,95 L130,75" stroke="#E91E63" stroke-width="5" marker-end="url(#arrow)">
                         <animate attributeName="d" values="M130,95 L130,75; M140,95 L140,75; M150,95 L150,75; M160,95 L160,75" dur="2s" repeatCount="indefinite"/>
                    </path>
                    
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L9,3 z" fill="#E91E63" />
                        </marker>
                    </defs>
                    <text x="220" y="55" font-size="12">æŒ¤å‹è •åŠ¨</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 4: æ¨¡æ‹Ÿèƒƒ -->
        <div class="knowledge-box">
            <h3>3. æ¨¡æ‹Ÿèƒƒçš„å·¥ä½œ</h3>
            <div class="k-point">ğŸ§ª <strong>ææ–™</strong>ï¼šå¡‘æ–™è¢‹ï¼ˆæ¨¡æ‹Ÿèƒƒï¼‰ã€æ°´+é£Ÿç‰©ã€‚</div>
            <div class="k-point">âœŠ <strong>æ“ä½œ</strong>ï¼šåå¤æ‰æŒ¤è¢‹å­ï¼ˆæ¨¡æ‹Ÿèƒƒçš„è •åŠ¨ï¼‰ã€‚</div>
            <div class="k-point">ğŸ‘€ <strong>ç°è±¡</strong>ï¼šé£Ÿç‰©å˜æˆ<span class="highlight">ç³ŠçŠ¶ï¼ˆé£Ÿç³œï¼‰</span>ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- å¡‘æ–™è¢‹ -->
                    <path d="M100,20 Q80,60 100,100 L200,100 Q220,60 200,20 L100,20" fill="#E1F5FE" stroke="#039BE5" opacity="0.8" style="animation: knead 2s infinite ease-in-out; transform-origin: center;"/>
                    
                    <!-- å†…éƒ¨é£Ÿç‰© -->
                    <g style="animation: knead 2s infinite ease-in-out; transform-origin: center;">
                        <circle cx="130" cy="60" r="8" fill="#D7CCC8"/>
                        <circle cx="150" cy="70" r="6" fill="#FFCC80"/>
                        <circle cx="170" cy="50" r="8" fill="#A5D6A7"/>
                        <!-- å˜æˆç³Š -->
                        <rect x="110" y="80" width="80" height="15" fill="#FFE082" opacity="0.5"/>
                    </g>
                    
                    <!-- æ‰‹ -->
                    <text x="240" y="60" font-size="12" fill="#E91E63">æ‰æŒ¤ â†’ å˜ç³Š</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 5, 6: å¥åº·ä¸çˆ±æŠ¤ -->
        <div class="knowledge-box">
            <h3>4. çˆ±æŠ¤æ¶ˆåŒ–å™¨å®˜</h3>
            <div class="k-point">âš ï¸ <strong>ä¼¤å®³è¡Œä¸º</strong>ï¼šè¿‡å†·ã€è¿‡çƒ­ã€ä¸æ´å‡€ã€ä¸å……åˆ†å’€åš¼ï¼ˆç‹¼åè™å’½ï¼‰ã€‚</div>
            <div class="k-point">â¤ï¸ <strong>ä¿æŠ¤</strong>ï¼šç»†åš¼æ…¢å’½ï¼Œæœ‰åˆ©äºè¥å…»å¸æ”¶ï¼Œä¸ºç”Ÿé•¿æä¾›å…»æ–™ã€‚</div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥100åˆ†é—¯å…³å¡”ï¼ğŸš€</button>
    </div>

    <!-- ç¬¬äºŒå—ï¼šé—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="display:flex; justify-content:space-between; font-size:0.9em; color:#880E4F;">
            <span>æ€»åˆ†ï¼š100åˆ†</span>
            <span>é¢˜ç›®ï¼š<span id="q-index">1</span> / 20</span>
        </div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">æäº¤ / ä¸‹ä¸€é¢˜</button>
    </div>

    <!-- ç¬¬ä¸‰å—ï¼šç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- é¢˜åº“ (20é¢˜ï¼Œç²¾é€‰è¦†ç›–35é¢˜çŸ¥è¯†ç‚¹ï¼Œæ¯é¢˜5åˆ†) ---
        const quizData = [
            // 1. è·¯çº¿æ’åº (4é¢˜)
            { type: 'sort', q: 'è¯·æŒ‰é£Ÿç‰©æ—…è¡Œçš„é¡ºåºæ’åˆ—å™¨å®˜ï¼š', items: ['å£è…”', 'èƒƒ', 'é£Ÿé“', 'å°è‚ ', 'å¤§è‚ '], answerOrder: ['å£è…”', 'é£Ÿé“', 'èƒƒ', 'å°è‚ ', 'å¤§è‚ '], exp: 'ä»ä¸Šåˆ°ä¸‹çš„æ¶ˆåŒ–é¡ºåºã€‚' },
            { type: 'mcq', q: 'é£Ÿç‰©ä»é£Ÿé“å‡ºæ¥åï¼Œç›´æ¥è¿›å…¥çš„å™¨å®˜æ˜¯ï¼Ÿ', opts: ['å°è‚ ', 'èƒƒ', 'å¤§è‚ '], a: 1, exp: 'é£Ÿé“è¿æ¥èƒƒã€‚' },
            { type: 'mcq', q: 'é£Ÿç‰©æ—…è¡Œçš„ç»ˆç‚¹ï¼ˆæ’å‡ºä½“å¤–å‰ï¼‰æ˜¯ï¼Ÿ', opts: ['å°è‚ ', 'èƒƒ', 'å¤§è‚ '], a: 2, exp: 'å¤§è‚ å½¢æˆç²ªä¾¿æ’å‡ºã€‚' },
            { type: 'mcq', q: 'é£Ÿç‰©è¿›å…¥ä½“å†…åï¼Œç»è¿‡çš„ç¬¬ä¸€ä¸ªæ¶ˆåŒ–å™¨å®˜æ˜¯ï¼Ÿ', opts: ['èƒƒ', 'å£è…”', 'é£Ÿé“'], a: 1, exp: 'å…¥å£å³å£è…”ã€‚' },

            // 2. å™¨å®˜åŠŸèƒ½ (6é¢˜)
            { type: 'mcq', q: 'äººä½“ä¸»è¦çš„æ¶ˆåŒ–å’Œå¸æ”¶åœºæ‰€æ˜¯ï¼Ÿ', opts: ['èƒƒ', 'å°è‚ ', 'å¤§è‚ '], a: 1, exp: 'å°è‚ å¾ˆé•¿ï¼Œå¸æ”¶å¤§éƒ¨åˆ†è¥å…»ã€‚' },
            { type: 'mcq', q: 'ä¸»è¦è´Ÿè´£å¸æ”¶é£Ÿç‰©æ®‹æ¸£ä¸­æ°´åˆ†çš„å™¨å®˜æ˜¯ï¼Ÿ', opts: ['é£Ÿé“', 'å°è‚ ', 'å¤§è‚ '], a: 2, exp: 'å¤§è‚ å›æ”¶æ°´åˆ†ã€‚' },
            { type: 'fill', q: 'èƒƒé€šè¿‡____æŠŠé£Ÿç‰©å˜æˆé£Ÿç³œï¼ˆç³ŠçŠ¶ï¼‰ã€‚', a: ['è •åŠ¨'], exp: 'èƒƒå£è‚Œè‚‰å‘è¾¾ï¼Œè¿›è¡Œç‰©ç†è •åŠ¨ã€‚' },
            { type: 'mcq', q: 'é£Ÿé“çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ', opts: ['ç£¨ç¢é£Ÿç‰©', 'è¿è¾“é£Ÿç‰©', 'å¸æ”¶è¥å…»'], a: 1, exp: 'è¿æ¥å£è…”å’Œèƒƒçš„é€šé“ã€‚' },
            { type: 'mcq', q: 'èƒƒé‡Œæœ‰____ï¼Œå¯ä»¥å¸®åŠ©æ¶ˆåŒ–åˆ†è§£é£Ÿç‰©ã€‚', opts: ['å”¾æ¶²', 'èƒƒé…¸', 'èƒ†æ±'], a: 1, exp: 'èƒƒæ¶²ä¸­å«æœ‰èƒƒé…¸ã€‚' },
            { type: 'mcq', q: 'ä¸èƒ½è¢«æ¶ˆåŒ–å¸æ”¶çš„é£Ÿç‰©æ®‹æ¸£æœ€ç»ˆä¼šå½¢æˆ____æ’å‡ºä½“å¤–ã€‚', opts: ['å°¿æ¶²', 'ç²ªä¾¿', 'æ±—æ¶²'], a: 1, exp: 'æ¶ˆåŒ–ç³»ç»Ÿçš„æ’æ³„ç‰©ã€‚' },

            // 3. æ¨¡æ‹Ÿå®éªŒ (5é¢˜)
            { type: 'mcq', q: 'åœ¨æ¨¡æ‹Ÿå®éªŒä¸­ï¼Œé€æ˜å¡‘æ–™ç®¡æ¨¡æ‹Ÿçš„æ˜¯ï¼Ÿ', opts: ['é£Ÿé“', 'èƒƒ', 'è‚ '], a: 0, exp: 'ç®¡çŠ¶ç»“æ„æ¨¡æ‹Ÿé£Ÿé“ã€‚' },
            { type: 'mcq', q: 'æŒ¤å‹å¡‘æ–™ç®¡ä¸­çš„é¦’å¤´ï¼Œæ¨¡æ‹Ÿçš„æ˜¯é£Ÿé“çš„ï¼Ÿ', opts: ['å¸æ”¶', 'è •åŠ¨', 'ç£¨ç¢'], a: 1, exp: 'æ¨åŠ¨é£Ÿç‰©å‘ä¸‹çš„åŠ¨ä½œã€‚' },
            { type: 'mcq', q: 'åœ¨æ¨¡æ‹Ÿå®éªŒä¸­ï¼Œå¤§å¡‘æ–™è¢‹æ¨¡æ‹Ÿçš„æ˜¯ï¼Ÿ', opts: ['å£è…”', 'èƒƒ', 'å°è‚ '], a: 1, exp: 'è¢‹çŠ¶ç»“æ„æ¨¡æ‹Ÿèƒƒã€‚' },
            { type: 'mcq', q: 'æˆ‘ä»¬åœ¨å¡‘æ–™è¢‹é‡ŒåŠ æ°´å¹¶åå¤æ‰æŒ¤ï¼Œæœ€åé£Ÿç‰©å˜æˆäº†ï¼Ÿ', opts: ['å—çŠ¶', 'ç³ŠçŠ¶', 'ç²‰æœ«'], a: 1, exp: 'æ¨¡æ‹Ÿèƒƒæ¶ˆåŒ–æˆé£Ÿç³œã€‚' },
            { type: 'exp', q: 'ã€å®éªŒåˆ†æã€‘å¦‚æœå¡‘æ–™ç®¡æ˜¯å¼¯æ›²çš„ï¼Œé¦’å¤´é€šè¿‡ä¼šå˜éš¾ï¼Œè¿™è¯´æ˜é£Ÿé“çš„ç‰¹å¾æ˜¯ï¼Ÿ', opts: ['å¼¯æ›²ä¸”é•¿', 'ç›´ä¸”å…‰æ»‘', 'å……æ»¡è¤¶çš±'], a: 1, exp: 'ç›´ä¸”å…‰æ»‘åˆ©äºè¿è¾“ã€‚' },

            // 4. å¥åº·è§‚å¿µ (5é¢˜)
            { type: 'mcq', q: 'ä¸‹åˆ—å“ªç§ä¹ æƒ¯æœ‰åˆ©äºä¿æŠ¤æ¶ˆåŒ–å™¨å®˜ï¼Ÿ', opts: ['ç»†åš¼æ…¢å’½', 'åƒæçƒ«çš„ç«é”…', 'è¾¹åƒé¥­è¾¹çœ‹ä¹¦'], a: 0, exp: 'å‡è½»èƒƒè‚ è´Ÿæ‹…ã€‚' },
            { type: 'mcq', q: 'åƒå¾—å¤ªå¿«ï¼ˆç‹¼åè™å’½ï¼‰ä¸»è¦ä¼šåŠ é‡å“ªä¸ªå™¨å®˜çš„è´Ÿæ‹…ï¼Ÿ', opts: ['é£Ÿé“', 'èƒƒ', 'å¤§è‚ '], a: 1, exp: 'æœªç»å……åˆ†ç£¨ç¢ç›´æ¥å…¥èƒƒã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—é£Ÿç‰©ä¸­ï¼Œå®¹æ˜“ä¼¤å®³æ¶ˆåŒ–å™¨å®˜çš„æ˜¯ï¼Ÿ', opts: ['æ¸©çƒ­çš„ç²¥', 'ä¸å¹²å‡€çš„è‹¹æœ', 'ç‰›å¥¶'], a: 1, exp: 'ä¸æ´å‡€é£Ÿç‰©å¸¦ç»†èŒã€‚' },
            { type: 'fill', q: 'é£Ÿç‰©æ¶ˆåŒ–è‰¯å¥½ï¼Œæ›´æœ‰åˆ©äºå¯¹____çš„å¸æ”¶ï¼Œä¸ºç”Ÿé•¿æä¾›å…»æ–™ã€‚', a: ['è¥å…»'], exp: 'æ¶ˆåŒ–çš„ç›®çš„æ˜¯å¸æ”¶è¥å…»ã€‚' },
            { type: 'mcq', q: 'äººä½“å„æ¶ˆåŒ–å™¨å®˜çš„åŠŸèƒ½æ˜¯____çš„ã€‚', opts: ['ä¸€æ ·', 'å„è‡ªä¸åŒ'], a: 1, exp: 'åˆ†å·¥åˆä½œã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScore = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.6; nextBtn.innerText = "æäº¤ç­”æ¡ˆ";
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let typeLabel = '';
            let typeClass = '';
            if(qData.type==='mcq') { typeLabel='é€‰æ‹©é¢˜'; typeClass='tag-choice'; }
            else if(qData.type==='fill') { typeLabel='å¡«ç©ºé¢˜'; typeClass='tag-fill'; }
            else if(qData.type==='sort') { typeLabel='æ’åˆ—é¢˜'; typeClass='tag-sort'; }
            else { typeLabel='å®éªŒåˆ†æ'; typeClass='tag-exp'; }

            card.innerHTML = `<div class="q-content"><span class="q-tag ${typeClass}">${typeLabel}</span>${qData.q}</div>`;

            // æ¸²æŸ“é€‰é¡¹
            if (qData.type === 'mcq' || qData.type === 'exp') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.6;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ğŸ‘† ç‚¹å‡»ä¸Šæ–¹é€‰é¡¹æŒ‰é¡ºåºæ’å…¥æ­¤å¤„</div>';

            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    if(targetDiv.contains(btn)) {
                        sourceDiv.appendChild(btn);
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn);
                        sortOrder.push(item);
                    }
                    
                    const btnNext = document.getElementById('nextBtn');
                    if(sortOrder.length === qData.items.length) {
                         btnNext.disabled = false; btnNext.style.opacity = 1;
                    } else {
                         btnNext.disabled = true; btnNext.style.opacity = 0.6;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv); container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq' || qData.type === 'exp') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScore += 5; // 20é¢˜ * 5åˆ† = 100åˆ†
            } else {
                userMistakes.push({ q: qData.q, my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) {
                renderQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= userScore) { clearInterval(timer); scoreEl.innerText = userScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 30);

            const reward = document.getElementById('reward-text');
            if(userScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ å·²ç»å®Œå…¨æŒæ¡äº†æ¶ˆåŒ–ç³»ç»Ÿçš„ç§˜å¯†ï¼";
            else if(userScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼è®°å¾—çˆ±æŠ¤ä½ çš„æ¶ˆåŒ–å™¨å®˜å“¦ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å†å¤ä¹ ä¸€ä¸‹é£Ÿç‰©çš„æ—…è¡Œè·¯çº¿å§ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my || 'æœªä½œç­”'}</span><br><span style="color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html>
```</textarea>

<!-- ç¬¬ä¸‰å•å…ƒ -->
<textarea id="u3-1" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬ä¸‰å•å…ƒç¬¬ä¸€è¯¾ï¼šè®©å°è½¦è¿åŠ¨èµ·æ¥ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            /* é…è‰²æ–¹æ¡ˆï¼šç‰©ç†è“ + æ´»åŠ›æ©™ */
            --bg-color: #E3F2FD; /* ç§‘æŠ€è“èƒŒæ™¯ */
            --card-bg: #FFFFFF;
            --primary: #1976D2; /* ä¸»è‰²è°ƒ */
            --secondary: #FF9800; /* å¼ºè°ƒè‰²ï¼ˆåŠ›/æ‘©æ“¦ï¼‰ */
            --accent: #4CAF50; /* æˆåŠŸç»¿ */
            --text: #37474F;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .5) 25%, rgba(255, 255, 255, .5) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .5) 75%, rgba(255, 255, 255, .5) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .5) 25%, rgba(255, 255, 255, .5) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .5) 75%, rgba(255, 255, 255, .5) 76%, transparent 77%, transparent);
            background-size: 30px 30px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 3px solid #90CAF9;
            overflow: hidden;
        }

        h1 { color: #0D47A1; margin-top: 0; font-size: 1.5em; }
        .subtitle { color: #E65100; font-size: 0.9em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #E1F5FE;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid var(--primary);
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #0277BD; border-bottom: 1px dashed #81D4FA; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { background: #FFF9C4; padding: 0 4px; border-radius: 3px; font-weight: bold; color: #E65100; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FAFAFA;
            border: 2px dashed #B0BEC5;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
            height: auto;
            overflow: hidden;
        }
        .svg-caption { font-size: 0.85em; color: #546E7A; margin-top: 5px; font-style: italic; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #0D47A1;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #0D47A1; }
        .btn-next { background: var(--secondary); box-shadow: 0 4px 0 #E65100; }
        
        .btn-small { width: auto; padding: 8px 20px; font-size: 0.9em; margin: 5px; display: inline-block; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 10px; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--secondary); width: 0%; transition: width 0.3s; }
        
        .question-card { background: #fff; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #90CAF9; margin-top: 10px; }
        .q-tag { display:inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; color:white;}
        .tag-choice { background: #2196F3; }
        .tag-fill { background: #AB47BC; }
        .tag-sort { background: #FF7043; }
        .tag-exp { background: #66BB6A; }
        
        .q-content { font-size: 1.15em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹æ ·å¼ */
        .option-item {
            background: #FAFAFA; border: 2px solid #E0E0E0; padding: 12px; border-radius: 8px;
            margin-bottom: 8px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #E3F2FD; border-color: #2196F3; font-weight: bold; color: #1565C0; }

        .fill-input { border: none; border-bottom: 2px solid #2196F3; background: transparent; width: 100px; text-align: center; font-size: 1.1em; color: #1565C0; border-radius: 0; outline: none; }

        /* æ’åºé¢˜å®¹å™¨ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #BBDEFB; border: 1px solid #1976D2; color: #0D47A1;
            padding: 6px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #90A4AE; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #ECEFF1; align-items: center; justify-content: center;
        }
        .sort-placeholder { color: #999; font-size: 0.8em; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; font-size: 0.95em; }
        .score-display { font-size: 3.5em; color: var(--primary); font-weight: bold; margin: 10px 0; }
        
        /* æ¨¡æ‹Ÿå®éªŒæ ·å¼ */
        .sim-car { transition: left 0.5s linear; }

    </style>
</head>
<body>

    <!-- ç¬¬ä¸€å—ï¼šå¤ä¹ å·©å›º -->
    <div id="section-review" class="container section active">
        <h1>ğŸš— è®©å°è½¦è¿åŠ¨èµ·æ¥</h1>
        <p class="subtitle">å¤ä¹ å·©å›º & å®éªŒæ¨¡æ‹Ÿ</p>

        <!-- çŸ¥è¯†ç‚¹ 1: é‡åŠ› -->
        <div class="knowledge-box">
            <h3>1. è®¤è¯†é‡åŠ› (Gravity)</h3>
            <div class="k-point">ğŸ <strong>å®šä¹‰</strong>ï¼šç”±äº<span class="highlight">åœ°çƒçš„å¸å¼•</span>è€Œä½¿ç‰©ä½“å—åˆ°çš„åŠ›å«é‡åŠ›ã€‚</div>
            <div class="k-point">â¬‡ï¸ <strong>æ–¹å‘</strong>ï¼šæ€»æ˜¯<span class="highlight">ç«–ç›´å‘ä¸‹</span>çš„ã€‚</div>
            <div class="k-point">ğŸ’¡ <strong>ç”Ÿæ´»ç°è±¡</strong>ï¼šæ°´å¾€ä½å¤„æµã€è‹¹æœè½åœ°ã€æŠ›å‡ºçš„çƒæœ€ç»ˆè½åœ°ã€‚</div>
            <div class="svg-stage">
                <svg width="100%" height="150" viewBox="0 0 300 150">
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L9,3 z" fill="#F44336" />
                        </marker>
                    </defs>
                    <!-- æ ‘å’Œè‹¹æœ -->
                    <path d="M50,120 L50,80 Q30,60 50,40 Q70,60 50,80" fill="#66BB6A" stroke="none"/>
                    <rect x="45" y="80" width="10" height="40" fill="#795548"/>
                    <line x1="20" y1="120" x2="280" y2="120" stroke="#795548" stroke-width="2"/>
                    
                    <!-- æ‰è½åŠ¨ç”» -->
                    <circle cx="65" cy="50" r="6" fill="#F44336">
                        <animate attributeName="cy" values="50;114;114" dur="2s" repeatCount="indefinite" />
                    </circle>
                    <line x1="65" y1="56" x2="65" y2="80" stroke="#F44336" stroke-width="2" marker-end="url(#arrow)">
                        <animate attributeName="y1" values="56;120;120" dur="2s" repeatCount="indefinite" />
                        <animate attributeName="y2" values="80;130;130" dur="2s" repeatCount="indefinite" />
                    </line>
                    <text x="90" y="80" font-size="12" fill="#555">é‡åŠ›ï¼šç«–ç›´å‘ä¸‹</text>
                    
                    <!-- ææ°´æ¡¶ -->
                    <rect x="200" y="80" width="30" height="30" fill="#29B6F6"/>
                    <path d="M200,80 Q215,60 230,80" fill="none" stroke="#333"/>
                    <text x="180" y="50" font-size="12" fill="#555">ææ°´æ¡¶è´¹åŠ›=å…‹æœé‡åŠ›</text>
                </svg>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 2: å®éªŒ -->
        <div class="knowledge-box">
            <h3>2. å®éªŒï¼šæ‹‰åŠ›å¤§å°ä¸å°è½¦é€Ÿåº¦</h3>
            <div class="k-point">ğŸ§ª <strong>åŠ¨åŠ›æ¥æº</strong>ï¼š<span class="highlight">å«åœˆçš„é‡åŠ›</span>è½¬åŒ–ä¸ºç»³å­çš„æ‹‰åŠ›ã€‚</div>
            <div class="k-point">âš–ï¸ <strong>å…³ç³»</strong>ï¼šå«åœˆè¶Š<span class="highlight">å¤š</span> â†’ æ‹‰åŠ›è¶Š<span class="highlight">å¤§</span> â†’ é€Ÿåº¦è¶Š<span class="highlight">å¿«</span>ã€‚</div>
            <div class="k-point">ğŸ›‘ <strong>å¯åŠ¨</strong>ï¼šæ‹‰åŠ›å¿…é¡»å¤§åˆ°è¶³ä»¥å…‹æœ<span class="highlight">æ‘©æ“¦åŠ›</span>ï¼Œå°è½¦æ‰ä¼šåŠ¨ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="120" viewBox="0 0 300 120">
                    <!-- æ¡Œå­ -->
                    <line x1="10" y1="80" x2="250" y2="80" stroke="#546E7A" stroke-width="3"/>
                    <circle cx="250" cy="80" r="3" fill="#333"/> <!-- å®šæ»‘è½® -->
                    
                    <!-- å°è½¦ -->
                    <g id="sim-car-group" transform="translate(20, 0)">
                        <rect x="0" y="55" width="50" height="20" fill="#FFA726" rx="3"/>
                        <circle cx="10" cy="75" r="5" fill="#333"/>
                        <circle cx="40" cy="75" r="5" fill="#333"/>
                        <text x="10" y="50" font-size="10">å°è½¦</text>
                    </g>
                    
                    <!-- ç»³å­ -->
                    <line id="sim-rope-h" x1="70" y1="65" x2="250" y2="65" stroke="#333" stroke-width="1"/>
                    <line id="sim-rope-v" x1="250" y1="65" x2="250" y2="90" stroke="#333" stroke-width="1"/>
                    
                    <!-- ç¯®å­ -->
                    <rect id="sim-basket" x="245" y="90" width="10" height="10" fill="#EF5350"/>
                    <text x="260" y="100" font-size="10">å«åœˆ</text>
                </svg>
                <div style="margin-top:10px;">
                    <button class="btn btn-small" onclick="runSimulation(1)">æŒ‚1ä¸ªå«åœˆ</button>
                    <button class="btn btn-small" onclick="runSimulation(5)">æŒ‚5ä¸ªå«åœˆ</button>
                </div>
                <div id="sim-msg" class="svg-caption" style="color:#E65100; font-weight:bold; height:20px;">ç‚¹å‡»æŒ‰é’®å¼€å§‹å®éªŒ</div>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥é—¯å…³æŒ‘æˆ˜ï¼ğŸš€</button>
    </div>

    <!-- ç¬¬äºŒå—ï¼šé—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="display:flex; justify-content:space-between; font-size:0.9em; color:#1565C0;">
            <span>æ€»åˆ†ï¼š100åˆ†</span>
            <span>é¢˜ç›®ï¼š<span id="q-index">1</span> / 15</span>
        </div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">æäº¤ / ä¸‹ä¸€é¢˜</button>
    </div>

    <!-- ç¬¬ä¸‰å—ï¼šç»“ç®—åŒº -->
    <div id="section-result" class="container section">
        <h1>ğŸ† é—¯å…³æˆç»©</h1>
        <div class="score-display"><span id="final-score">0</span>åˆ†</div>
        <p id="reward-text"></p>
        
        <div id="wrong-list" style="display:none;">
            <h3 style="color:#D32F2F;">âŒ é”™é¢˜è§£æ</h3>
            <!-- é”™é¢˜å†…å®¹ -->
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ é‡æ–°æŒ‘æˆ˜</button>
    </div>

    <script>
        // --- é¢˜åº“ (15é¢˜ï¼Œè¦†ç›–å…¨è¯¾é‡ç‚¹) ---
        const quizData = [
            // åŸºç¡€æ¦‚å¿µ
            { type: 'mcq', q: 'æ ‘ä¸Šçš„è‹¹æœæˆç†Ÿåä¼šæ‰ä¸‹æ¥ï¼Œæ˜¯å› ä¸ºå—åˆ°äº†ï¼ˆ ï¼‰çš„ä½œç”¨ã€‚', opts: ['å¼¹åŠ›', 'é‡åŠ›', 'æ‘©æ“¦åŠ›'], a: 1, exp: 'åœ°çƒå¼•åŠ›äº§ç”Ÿçš„åŠ›å«é‡åŠ›ï¼Œæ–¹å‘ç«–ç›´å‘ä¸‹ã€‚' },
            { type: 'mcq', q: 'é‡åŠ›çš„æ–¹å‘æ€»æ˜¯ï¼ˆ ï¼‰çš„ã€‚', opts: ['ç«–ç›´å‘ä¸‹', 'å‘å››é¢å…«æ–¹', 'å‚ç›´å‘ä¸Š'], a: 0, exp: 'é‡åŠ›æŒ‡å‘åœ°å¿ƒï¼Œå³ç«–ç›´å‘ä¸‹ã€‚' },
            { type: 'fill', q: 'æˆ‘ä»¬ææ°´æ¡¶æ—¶æ„Ÿåˆ°æ‰‹è‡‚è¢«å‘ä¸‹æ‹‰ï¼Œè¿™æ˜¯å› ä¸ºæ°´æ¡¶å—åˆ°____çš„ä½œç”¨ã€‚', a: ['é‡åŠ›'], exp: 'æ°´æ¡¶å—é‡åŠ›ï¼Œé€šè¿‡ææ‰‹å¯¹äººäº§ç”Ÿæ‹‰åŠ›ã€‚' },
            
            // å®éªŒåŸç†
            { type: 'mcq', q: 'åœ¨å°è½¦å®éªŒä¸­ï¼Œå°è½¦è¿åŠ¨çš„åŠ¨åŠ›æ¥è‡ªï¼ˆ ï¼‰ã€‚', opts: ['è½¦è½®æ»šåŠ¨', 'ç»³å­é•¿åº¦', 'å«åœˆçš„é‡åŠ›'], a: 2, exp: 'å«åœˆå—é‡åŠ›ä¸‹è½ï¼Œæ‹‰åŠ¨å°è½¦ã€‚' },
            { type: 'mcq', q: 'å«åœˆçš„æ•°é‡è¶Šå¤šï¼Œå°è½¦å—åˆ°çš„æ‹‰åŠ›å°±è¶Šï¼ˆ ï¼‰ã€‚', opts: ['å¤§', 'å°', 'ä¸å˜'], a: 0, exp: 'å«åœˆè¶Šå¤šï¼Œæ€»é‡åŠ›è¶Šå¤§ã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰å®éªŒæ­¥éª¤æ’åºï¼š', items: ['æŒ‚å«åœˆ', 'ç¡®å®šèµ·ç‚¹ç»ˆç‚¹', 'è®°å½•æ—¶é—´'], answerOrder: ['ç¡®å®šèµ·ç‚¹ç»ˆç‚¹', 'æŒ‚å«åœˆ', 'è®°å½•æ—¶é—´'], exp: 'æ§åˆ¶å˜é‡æ³•ï¼šå…ˆå®šè·ç¦»ï¼Œå†æ“ä½œï¼Œåè®°å½•ã€‚' },
            
            // å®éªŒç°è±¡åˆ†æ
            { type: 'mcq', q: 'å¦‚æœå°è½¦æ²¡æœ‰è¿åŠ¨èµ·æ¥ï¼ŒåŸå› æ˜¯ï¼ˆ ï¼‰ã€‚', opts: ['ç»³å­å¤ªé•¿', 'æ‹‰åŠ›å°äºæ‘©æ“¦åŠ›', 'å«åœˆå¤ªé‡'], a: 1, exp: 'æ‹‰åŠ›å¿…é¡»å…‹æœæ‘©æ“¦åŠ›å°è½¦æ‰ä¼šåŠ¨ã€‚' },
            { type: 'mcq', q: 'æŒ‚3ä¸ªå«åœˆæ—¶å°è½¦æ…¢ï¼ŒæŒ‚6ä¸ªå«åœˆæ—¶å°è½¦ï¼ˆ ï¼‰ã€‚', opts: ['å˜æ…¢', 'å˜å¿«', 'ä¸€æ ·'], a: 1, exp: 'æ‹‰åŠ›è¶Šå¤§ï¼Œè¿åŠ¨é€Ÿåº¦è¶Šå¿«ã€‚' },
            { type: 'fill', q: 'å®éªŒæ—¶ï¼Œæˆ‘ä»¬è¦æµ‹é‡å°è½¦è¿åŠ¨çš„____æ¥åˆ¤æ–­å¿«æ…¢ã€‚', a: ['æ—¶é—´'], exp: 'ç›¸åŒè·ç¦»ï¼Œæ—¶é—´è¶ŠçŸ­é€Ÿåº¦è¶Šå¿«ã€‚' },
            
            // ç»¼åˆåº”ç”¨
            { type: 'mcq', q: 'è¶³çƒåœ¨è‰åœ°ä¸Šæ»šå¾—è¶Šæ¥è¶Šæ…¢ï¼Œæ˜¯å› ä¸ºå—åˆ°äº†ï¼ˆ ï¼‰ã€‚', opts: ['é‡åŠ›', 'æ‹‰åŠ›', 'æ‘©æ“¦åŠ›'], a: 2, exp: 'æ‘©æ“¦åŠ›é˜»ç¢ç‰©ä½“è¿åŠ¨ã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—ç‰©ä½“ä¸­ï¼Œå“ªä¸ªæ²¡æœ‰å—åˆ°é‡åŠ›ï¼Ÿ', opts: ['é£è¡Œçš„é£æœº', 'é£˜è½çš„æ ‘å¶', 'å¤ªç©ºä¸­æ¼‚æµ®çš„å®‡èˆªå‘˜'], a: 2, exp: 'å®Œå…¨å¤±é‡çŠ¶æ€ï¼ˆè™½å—å¼•åŠ›ä½†è¡¨ç°ä¸ºæ¼‚æµ®ï¼‰ï¼Œå°å­¦é˜¶æ®µå¸¸ä»¥æ­¤åŒºåˆ†ã€‚' },
            { type: 'mcq', q: 'æ¯æ¬¡å®éªŒæˆ‘ä»¬å»ºè®®è‡³å°‘æµ‹é‡ï¼ˆ ï¼‰æ¬¡ä»¥å‡å°è¯¯å·®ã€‚', opts: ['1', '3', '10'], a: 1, exp: 'ç§‘å­¦å®éªŒé€šå¸¸é‡å¤3æ¬¡æ±‚å¹³å‡å€¼ã€‚' },
            
            // å›¾è¡¨åˆ†æ
            { type: 'exp', q: 'ã€æ•°æ®åˆ†æã€‘<br>2ä¸ªå«åœˆï¼š5ç§’<br>4ä¸ªå«åœˆï¼š3ç§’<br>8ä¸ªå«åœˆï¼š1ç§’<br>è¯´æ˜äº†ä»€ä¹ˆï¼Ÿ', opts: ['å«åœˆè¶Šå°‘è¶Šå¿«', 'æ‹‰åŠ›è¶Šå¤§ï¼Œé€Ÿåº¦è¶Šå¿«', 'æ²¡å…³ç³»'], a: 1, exp: 'æ—¶é—´å˜çŸ­è¯´æ˜é€Ÿåº¦å˜å¿«ã€‚' },
            { type: 'mcq', q: 'å°è½¦è¿åŠ¨çš„ç»ˆç‚¹ï¼ˆ ï¼‰ã€‚', opts: ['å¯ä»¥éšæ„å˜', 'å¿…é¡»ä¿æŒä¸€è‡´', 'è¶Šè¿œè¶Šå¥½'], a: 1, exp: 'å¯¹æ¯”å®éªŒè¦æ§åˆ¶è·ç¦»ä¸å˜ã€‚' },
            { type: 'fill', q: 'åŠ›çš„å•ä½æ˜¯____ï¼ˆå¡«æ±‰å­—ï¼‰ã€‚', a: ['ç‰›é¡¿','ç‰›'], exp: 'çºªå¿µç‰›é¡¿ï¼Œå•ä½ä¸ºç‰›é¡¿(N)ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScore = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        // æ¨¡æ‹Ÿå®éªŒåŠ¨ç”»é€»è¾‘
        function runSimulation(count) {
            const car = document.getElementById('sim-car-group');
            const ropeH = document.getElementById('sim-rope-h');
            const ropeV = document.getElementById('sim-rope-v');
            const basket = document.getElementById('sim-basket');
            const msg = document.getElementById('sim-msg');

            // é‡ç½®
            car.setAttribute('transform', 'translate(20, 0)');
            ropeH.setAttribute('x1', 70);
            ropeV.setAttribute('y2', 90);
            basket.setAttribute('y', 90);
            
            setTimeout(() => {
                if(count === 1) {
                    msg.innerText = "âŒ æ‹‰åŠ›å¤ªå°ï¼Œæ‘©æ“¦åŠ›å¤ªå¤§ï¼Œå°è½¦ä¸åŠ¨ï¼";
                } else {
                    msg.innerText = count === 5 ? "âš¡ æ‹‰åŠ›å¤§ï¼Œé€Ÿåº¦å¿«ï¼" : "âœ… å¼€å§‹è¿åŠ¨";
                    let duration = count === 5 ? 0.8 : 2; 
                    
                    // CSS åŠ¨ç”»æ— æ³•ç›´æ¥ä½œç”¨äº SVG å±æ€§ï¼Œè¿™é‡Œç”¨ç®€å•çš„ JS å¸§æ¨¡æ‹Ÿæˆ– transition
                    // ç®€å•èµ·è§ï¼Œåˆ©ç”¨ CSS transition æ§åˆ¶ transform
                    car.style.transition = `transform ${duration}s linear`;
                    car.style.transform = `translateX(180px)`; // SVGå†…ä½ç§»
                    
                    // ç®€å•çš„è§†è§‰åé¦ˆå³å¯ï¼Œå¤æ‚ SVG åŠ¨ç”»éœ€ requestAnimationFrame
                    // è¿™é‡Œä¸ºäº†ä»£ç ç®€æ´ï¼Œä»…æ–‡å­—æç¤ºä¸»è¦æ•ˆæœ
                }
            }, 100);
        }

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.6; nextBtn.innerText = "æäº¤ç­”æ¡ˆ";
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let typeLabel = '';
            let typeClass = '';
            if(qData.type==='mcq') { typeLabel='é€‰æ‹©é¢˜'; typeClass='tag-choice'; }
            else if(qData.type==='fill') { typeLabel='å¡«ç©ºé¢˜'; typeClass='tag-fill'; }
            else if(qData.type==='sort') { typeLabel='æ’åºé¢˜'; typeClass='tag-sort'; }
            else { typeLabel='å®éªŒåˆ†æ'; typeClass='tag-exp'; }

            card.innerHTML = `<div class="q-content"><span class="q-tag ${typeClass}">${typeLabel}</span>${qData.q}</div>`;

            // æ¸²æŸ“é€‰é¡¹
            if (qData.type === 'mcq' || qData.type === 'exp') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.6;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                renderSort(card, qData);
            }
            area.appendChild(card);
        }

        function selectMCQ(el, idx) {
            document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedOption = idx;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').style.opacity = 1;
        }

        function renderSort(card, qData) {
            const container = document.createElement('div');
            const sourceDiv = document.createElement('div'); sourceDiv.className = 'sort-container';
            const targetDiv = document.createElement('div'); targetDiv.className = 'sort-box';
            targetDiv.innerHTML = '<div class="sort-placeholder">ğŸ‘† ç‚¹å‡»ä¸Šæ–¹é€‰é¡¹æŒ‰é¡ºåºæ’å…¥æ­¤å¤„</div>';

            let items = [...qData.items].sort(()=>Math.random()-0.5);
            
            items.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'sort-item';
                btn.innerText = item;
                btn.onclick = () => {
                    if(targetDiv.contains(btn)) {
                        sourceDiv.appendChild(btn);
                        sortOrder = sortOrder.filter(i => i !== item);
                    } else {
                        if(targetDiv.querySelector('.sort-placeholder')) targetDiv.innerHTML = '';
                        targetDiv.appendChild(btn);
                        sortOrder.push(item);
                    }
                    
                    const btnNext = document.getElementById('nextBtn');
                    if(sortOrder.length === qData.items.length) {
                         btnNext.disabled = false; btnNext.style.opacity = 1;
                    } else {
                         btnNext.disabled = true; btnNext.style.opacity = 0.6;
                    }
                };
                sourceDiv.appendChild(btn);
            });

            container.appendChild(sourceDiv); container.appendChild(targetDiv);
            card.appendChild(container);
        }

        function nextQuestion() {
            const qData = quizData[currentQIndex];
            let isCorrect = false;
            let myAns = "";

            if (qData.type === 'mcq' || qData.type === 'exp') {
                if (selectedOption === qData.a) isCorrect = true;
                myAns = qData.opts[selectedOption];
            } else if (qData.type === 'fill') {
                if (qData.a.some(ans => selectedOption.includes(ans))) isCorrect = true;
                myAns = selectedOption;
            } else if (qData.type === 'sort') {
                if (JSON.stringify(sortOrder) === JSON.stringify(qData.answerOrder)) isCorrect = true;
                myAns = sortOrder.join(' -> ');
            }

            if (isCorrect) {
                userScore += (100 / quizData.length); 
            } else {
                userMistakes.push({ q: qData.q.replace(/<br>/g, ' '), my: myAns, exp: qData.exp });
            }

            currentQIndex++;
            if (currentQIndex < quizData.length) {
                renderQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('section-quiz').classList.remove('active');
            document.getElementById('section-result').classList.add('active');
            
            const finalScore = Math.round(userScore);
            let temp = 0;
            const scoreEl = document.getElementById('final-score');
            const timer = setInterval(() => {
                if(temp >= finalScore) { clearInterval(timer); scoreEl.innerText = finalScore; }
                else { temp++; scoreEl.innerText = temp; }
            }, 30);

            const reward = document.getElementById('reward-text');
            if(finalScore === 100) reward.innerText = "ğŸ‰ å®Œç¾ï¼ä½ æ˜¯æœªæ¥çš„ç‰©ç†å­¦å®¶ï¼";
            else if(finalScore >= 80) reward.innerText = "ğŸŒŸ ä¼˜ç§€ï¼æŒæ¡äº†åŠ›çš„ç§˜å¯†ï¼";
            else reward.innerText = "ğŸ’ª åŠ æ²¹ï¼å†å¤ä¹ ä¸€ä¸‹é‡åŠ›å’Œæ‹‰åŠ›çš„å…³ç³»å§ï¼";

            if (userMistakes.length > 0) {
                const list = document.getElementById('wrong-list');
                list.style.display = 'block';
                let html = '';
                userMistakes.forEach((m, i) => {
                    html += `<div class="wrong-item"><strong>${i+1}. ${m.q}</strong><br><span style="color:#D32F2F">ä½ çš„å›ç­”ï¼š${m.my || 'æœªä½œç­”'}</span><br><span style="color:#388E3C">ğŸ’¡ è§£æï¼š${m.exp}</span></div>`;
                });
                list.innerHTML += html;
            }
        }
    </script>
</body>
</html></textarea>
<textarea id="u3-2" style="display:none;"><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬ä¸‰å•å…ƒç¬¬äºŒè¯¾ï¼šç”¨æ°”çƒé©±åŠ¨å°è½¦ - ç§‘å­¦å¤§é—¯å…³</title>
    <style>
        :root {
            /* é…è‰²æ–¹æ¡ˆï¼šå¤©ç©ºè“ + æ°”çƒæ©™ */
            --bg-color: #E1F5FE; /* æµ…å¤©è“èƒŒæ™¯ */
            --card-bg: #FFFFFF;
            --primary: #0288D1; /* ç§‘æŠ€è“ */
            --secondary: #FF6F00; /* æ´»åŠ›æ©™ï¼ˆåå†²åŠ›ï¼‰ */
            --accent: #4CAF50; /* æˆåŠŸç»¿ */
            --text: #37474F;
            --font-main: "Microsoft YaHei", -apple-system, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            background-image: radial-gradient(#B3E5FC 15%, transparent 16%), radial-gradient(#B3E5FC 15%, transparent 16%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            border: 3px solid #81D4FA;
            overflow: hidden;
        }

        h1 { color: #01579B; margin-top: 0; font-size: 1.5em; }
        .subtitle { color: #EF6C00; font-size: 0.9em; margin-bottom: 15px; font-weight: bold; }

        /* åŒºåŸŸåˆ‡æ¢ */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-box {
            background: #E0F7FA;
            border-radius: 12px;
            padding: 15px;
            text-align: left;
            border-left: 5px solid var(--primary);
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .knowledge-box h3 { margin: 0 0 10px 0; color: #0277BD; border-bottom: 1px dashed #81D4FA; padding-bottom: 5px; }
        .k-point { margin-bottom: 8px; font-size: 1em; line-height: 1.6; }
        .highlight { background: #FFF9C4; padding: 0 4px; border-radius: 3px; font-weight: bold; color: #E65100; }

        /* SVG æ¼”ç¤ºåŒº */
        .svg-stage {
            background: #FAFAFA;
            border: 2px dashed #B0BEC5;
            border-radius: 10px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            position: relative;
            height: auto;
            overflow: hidden;
        }
        .svg-caption { font-size: 0.85em; color: #546E7A; margin-top: 5px; font-style: italic; }

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 0;
            width: 100%;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 0 #01579B;
            transition: 0.1s;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #01579B; }
        .btn-next { background: var(--secondary); box-shadow: 0 4px 0 #E65100; }
        
        .btn-small { width: auto; padding: 8px 20px; font-size: 0.9em; margin: 5px; display: inline-block; }

        /* é¢˜ç›®åŒº */
        .progress-container { height: 10px; background: #ECEFF1; border-radius: 5px; margin-bottom: 10px; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--secondary); width: 0%; transition: width 0.3s; }
        
        .question-card { background: #fff; border-radius: 10px; padding: 15px; text-align: left; border: 2px solid #81D4FA; margin-top: 10px; }
        .q-tag { display:inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 5px; color:white;}
        .tag-choice { background: #29B6F6; }
        .tag-fill { background: #AB47BC; }
        .tag-sort { background: #FF7043; }
        .tag-exp { background: #66BB6A; }
        
        .q-content { font-size: 1.15em; font-weight: bold; margin: 10px 0 20px 0; line-height: 1.4; }

        /* é€‰é¡¹æ ·å¼ */
        .option-item {
            background: #FAFAFA; border: 2px solid #E0E0E0; padding: 12px; border-radius: 8px;
            margin-bottom: 8px; cursor: pointer; transition: 0.2s;
        }
        .option-item.selected { background: #E1F5FE; border-color: #039BE5; font-weight: bold; color: #01579B; }

        .fill-input { border: none; border-bottom: 2px solid #039BE5; background: transparent; width: 100px; text-align: center; font-size: 1.1em; color: #01579B; border-radius: 0; outline: none; }

        /* æ’åº/åˆ†ç±»é¢˜å®¹å™¨ */
        .sort-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .sort-item { 
            background: #FFCC80; border: 1px solid #F57C00; color: #E65100;
            padding: 6px 12px; border-radius: 20px; font-size: 0.9em; cursor: pointer;
        }
        .sort-box { 
            min-height: 50px; border: 2px dashed #90A4AE; border-radius: 8px; 
            margin-top: 10px; padding: 10px; display: flex; flex-wrap: wrap; gap: 8px;
            background: #ECEFF1; align-items: center; justify-content: center;
        }
        .sort-placeholder { color: #999; font-size: 0.8em; }

        /* é”™é¢˜è§£æ */
        .wrong-item { background: #FFEBEE; border-left: 4px solid #EF5350; padding: 10px; margin-bottom: 10px; text-align: left; border-radius: 4px; font-size: 0.95em; }
        .score-display { font-size: 3.5em; color: var(--secondary); font-weight: bold; margin: 10px 0; }
        
        /* åŠ¨ç”»ä¸“ç”¨ */
        .air-particle { animation: flow 0.5s linear infinite; opacity: 0; }
        @keyframes flow { 0% { opacity: 0; transform: translateX(0); } 50% { opacity: 1; } 100% { opacity: 0; transform: translateX(-40px); } }

    </style>
</head>
<body>

    <!-- ç¬¬ä¸€å—ï¼šå¤ä¹ å·©å›º -->
    <div id="section-review" class="container section active">
        <h1>ğŸˆ ç”¨æ°”çƒé©±åŠ¨å°è½¦</h1>
        <p class="subtitle">å¤ä¹ å·©å›º & å®éªŒæ¨¡æ‹Ÿ</p>

        <!-- çŸ¥è¯†ç‚¹ 1: åå†²åŠ› -->
        <div class="knowledge-box">
            <h3>1. è®¤è¯†åå†²åŠ› (Recoil Force)</h3>
            <div class="k-point">ğŸ’¨ <strong>å®šä¹‰</strong>ï¼šæ°”çƒé‡Œçš„æ°”ä½“å–·å‡ºæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå’Œå–·å‡ºæ–¹å‘<span class="highlight">ç›¸å</span>çš„æ¨åŠ›ï¼Œè¿™ä¸ªåŠ›å«åå†²åŠ›ã€‚</div>
            <div class="k-point">ğŸš€ <strong>åº”ç”¨</strong>ï¼šå–·æ°”å¼é£æœºã€ç«ç®­ã€çƒŸèŠ±ï¼ˆå†²å¤©ç‚®ï¼‰ã€‚</div>
            <div class="k-point">âš–ï¸ <strong>è§„å¾‹</strong>ï¼šæ°”ä½“å‘<strong>å·¦</strong>å–·ï¼Œæ°”çƒå‘<strong>å³</strong>é£ã€‚</div>
            
            <div class="svg-stage">
                <svg width="100%" height="100" viewBox="0 0 300 100">
                    <defs>
                        <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="#F44336" /></marker>
                        <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" transform="rotate(180)"><path d="M0,0 L0,6 L9,3 z" fill="#2196F3" /></marker>
                    </defs>
                    
                    <!-- æ°”çƒç»„ -->
                    <g id="demo-balloon-group" transform="translate(150, 50)">
                        <!-- å–·å˜´ -->
                        <rect x="-45" y="-5" width="10" height="10" fill="#FF9800"/>
                        <!-- æ°”çƒä¸»ä½“ -->
                        <ellipse cx="0" cy="0" rx="40" ry="30" fill="#FF9800"/>
                        <!-- ç®­å¤´ï¼šè¿åŠ¨æ–¹å‘ -->
                        <line x1="0" y1="0" x2="60" y2="0" stroke="#F44336" stroke-width="3" marker-end="url(#arrow-red)" opacity="0" id="force-arrow"/>
                        <text x="10" y="-35" font-size="12" fill="#F44336" opacity="0" id="force-text">è¿åŠ¨æ–¹å‘</text>
                    </g>
                    
                    <!-- æ°”ä½“ç²’å­ -->
                    <g id="gas-particles" transform="translate(100, 50)" opacity="0">
                        <circle cx="0" cy="0" r="2" fill="#2196F3" class="air-particle"/>
                        <circle cx="5" cy="-3" r="1.5" fill="#2196F3" class="air-particle" style="animation-delay: 0.1s"/>
                        <circle cx="5" cy="3" r="1.5" fill="#2196F3" class="air-particle" style="animation-delay: 0.2s"/>
                        <line x1="0" y1="0" x2="-50" y2="0" stroke="#2196F3" stroke-width="2" marker-end="url(#arrow-blue)"/>
                    </g>
                    <text x="20" y="40" font-size="12" fill="#2196F3" opacity="0" id="gas-text">å–·æ°”æ–¹å‘</text>
                </svg>
                <button class="btn btn-small" onclick="playRecoil()">æ¼”ç¤ºåå†²åŠ›</button>
            </div>
        </div>

        <!-- çŸ¥è¯†ç‚¹ 2: å½±å“å› ç´  -->
        <div class="knowledge-box">
            <h3>2. æ€æ ·è®©å°è½¦è·‘å¾—æ›´è¿œï¼Ÿ</h3>
            <div class="k-point">ğŸˆ <strong>æ°”çƒå¤§å°</strong>ï¼šæ°”çƒè¶Š<span class="highlight">å¤§</span>ï¼Œå‚¨å­˜èƒ½é‡è¶Šå¤šï¼Œè·‘å¾—è¶Šè¿œã€‚</div>
            <div class="k-point">ğŸ•³ï¸ <strong>å–·ç®¡ç²—ç»†</strong>ï¼š
                <br>â€¢ <strong>ç²—ç®¡</strong>ï¼šå–·æ°”å¿«ï¼ŒåŠ¨åŠ›<span class="highlight">å¤§</span>ï¼Œæ—¶é—´çŸ­ã€‚
                <br>â€¢ <strong>ç»†ç®¡</strong>ï¼šå–·æ°”æ…¢ï¼ŒåŠ¨åŠ›<span class="highlight">å°</span>ï¼Œæ—¶é—´é•¿ã€‚</div>
            <div class="k-point">âš–ï¸ <strong>è½¦èº«é‡é‡</strong>ï¼šè½¦è¶Š<span class="highlight">è½»</span>ï¼Œèµ·æ­¥è¶Šå¿«ï¼Œé€šå¸¸è·‘å¾—æ›´è¿œï¼ˆé˜»åŠ›å°ï¼‰ã€‚</div>

            <div class="svg-stage">
                <svg width="100%" height="80" viewBox="0 0 300 80">
                    <!-- ç²—ç®¡ -->
                    <text x="10" y="30" font-size="12">ç²—ç®¡:</text>
                    <rect x="50" y="20" width="30" height="15" fill="#ddd" stroke="#333"/>
                    <line x1="50" y1="27" x2="20" y2="27" stroke="#2196F3" stroke-width="4" stroke-dasharray="3"/>
                    <text x="90" y="30" font-size="10" fill="#555">åŠ›å¤§ï¼Œæ—¶é—´çŸ­</text>
                    
                    <!-- ç»†ç®¡ -->
                    <text x="10" y="60" font-size="12">ç»†ç®¡:</text>
                    <rect x="50" y="55" width="30" height="6" fill="#ddd" stroke="#333"/>
                    <line x1="50" y1="58" x2="20" y2="58" stroke="#2196F3" stroke-width="1" stroke-dasharray="3"/>
                    <text x="90" y="60" font-size="10" fill="#555">åŠ›å°ï¼Œæ—¶é—´é•¿</text>
                </svg>
            </div>
        </div>

        <button class="btn" onclick="startQuiz()">è¿›å…¥é—¯å…³æŒ‘æˆ˜ï¼ğŸš€</button>
    </div>

    <!-- ç¬¬äºŒå—ï¼šé—¯å…³åŒº -->
    <div id="section-quiz" class="container section">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div style="display:flex; justify-content:space-between; font-size:0.9em; color:#01579B;">
            <span>æ€»åˆ†ï¼š100åˆ†</span>
            <span>é¢˜ç›®ï¼š<span id="q-index">1</span> / 35</span>
        </div>

        <div id="question-area"></div>
        
        <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">æäº¤ / ä¸‹ä¸€é¢˜</button>
    </div>

    <!-- ç¬¬ä¸‰å—ï¼šç»“ç®—åŒº --><script>
        // --- åŠ¨ç”»æ¼”ç¤ºé€»è¾‘ ---
        function playRecoil() {
            const balloonGroup = document.getElementById('demo-balloon-group');
            const forceArrow = document.getElementById('force-arrow');
            const forceText = document.getElementById('force-text');
            const gasParticles = document.getElementById('gas-particles');
            const gasText = document.getElementById('gas-text');

            // é‡ç½®çŠ¶æ€
            balloonGroup.setAttribute('transform', 'translate(150, 50)');
            forceArrow.style.opacity = 0;
            forceText.style.opacity = 0;
            gasParticles.style.opacity = 0;
            gasText.style.opacity = 0;

            // å¼€å§‹åŠ¨ç”»
            setTimeout(() => {
                // 1. æ˜¾ç¤ºåŠ›ä¸æ°”æµ
                forceArrow.style.transition = 'opacity 0.5s';
                forceArrow.style.opacity = 1;
                forceText.style.transition = 'opacity 0.5s';
                forceText.style.opacity = 1;
                
                gasParticles.style.transition = 'opacity 0.5s';
                gasParticles.style.opacity = 1;
                gasText.style.transition = 'opacity 0.5s';
                gasText.style.opacity = 1;

                // 2. æ°”çƒå‘å³è¿åŠ¨
                let pos = 150;
                const interval = setInterval(() => {
                    pos += 2;
                    balloonGroup.setAttribute('transform', `translate(${pos}, 50)`);
                    if(pos > 220) clearInterval(interval);
                }, 16);
            }, 100);
        }

        // --- é¢˜åº“ (35é¢˜è¦†ç›–æ‰€æœ‰è€ƒç‚¹) ---
        const quizData = [
            // 1. é€‰æ‹©é¢˜ (1-20)
            { type: 'mcq', q: 'æ°”çƒé‡Œçš„æ°”ä½“å–·å‡ºæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå’Œå–·å‡ºæ–¹å‘ç›¸åçš„æ¨åŠ›ï¼Œè¿™ä¸ªåŠ›å«ï¼ˆ ï¼‰ã€‚', opts: ['é‡åŠ›', 'åå†²åŠ›', 'å¼¹åŠ›'], a: 1, exp: 'å®šä¹‰é¢˜ï¼Œåå†²åŠ›æ–¹å‘ç›¸åã€‚' },
            { type: 'mcq', q: 'æ°”çƒå–·æ°”æ–¹å‘å‘å·¦ï¼Œæ°”çƒä¼šå‘ï¼ˆ ï¼‰è¿åŠ¨ã€‚', opts: ['å·¦', 'å³', 'ä¸Š'], a: 1, exp: 'è¿åŠ¨æ–¹å‘ä¸å–·æ°”æ–¹å‘ç›¸åã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—ç‰©ä½“ä¸­ï¼Œä¸æ˜¯åˆ©ç”¨åå†²åŠ›è¿åŠ¨çš„æ˜¯ï¼ˆ ï¼‰ã€‚', opts: ['ç«ç®­', 'å–·æ°”å¼é£æœº', 'å¼“ç®­'], a: 2, exp: 'å¼“ç®­æ˜¯å¼¹åŠ›ï¼Œå‰ä¸¤è€…æ˜¯åå†²åŠ›ã€‚' },
            { type: 'mcq', q: 'æƒ³è¦è®©æ°”çƒå°è½¦è¡Œé©¶å¾—æ›´è¿œï¼Œæˆ‘ä»¬å¯ä»¥ï¼ˆ ï¼‰ã€‚', opts: ['ç”¨æ›´å°çš„æ°”çƒ', 'å‡è½»è½¦èº«é‡é‡', 'å¢åŠ æ‘©æ“¦åŠ›'], a: 1, exp: 'è½¦è¶Šè½»é˜»åŠ›è¶Šå°ï¼Œè·‘å¾—è¶Šè¿œã€‚' },
            { type: 'mcq', q: 'å……æ°”åçš„æ°”çƒå…·æœ‰ï¼ˆ ï¼‰ï¼Œå–·æ°”æ—¶å¯ä»¥äº§ç”ŸåŠ¨åŠ›ã€‚', opts: ['èƒ½é‡', 'ç£åŠ›', 'ç”µåŠ›'], a: 0, exp: 'å‹ç¼©ç©ºæ°”å…·æœ‰èƒ½é‡ã€‚' },
            { type: 'mcq', q: 'å–·ç®¡è¶Šç²—ï¼Œå–·æ°”é€Ÿåº¦è¶Šå¿«ï¼Œäº§ç”Ÿçš„åŠ¨åŠ›ï¼ˆ ï¼‰ã€‚', opts: ['è¶Šå¤§', 'è¶Šå°', 'ä¸å˜'], a: 0, exp: 'ç²—ç®¡å•ä½æ—¶é—´å–·æ°”å¤šï¼Œæ¨åŠ›å¤§ã€‚' },
            { type: 'mcq', q: 'å–·ç®¡è¶Šç»†ï¼Œå–·æ°”æ—¶é—´ï¼ˆ ï¼‰ã€‚', opts: ['è¶ŠçŸ­', 'è¶Šé•¿', 'ä¸å˜'], a: 1, exp: 'ç»†ç®¡å‡ºæ°”æ…¢ï¼ŒæŒç»­æ—¶é—´é•¿ã€‚' },
            { type: 'mcq', q: 'èŠ‚æ—¥ç‡ƒæ”¾çš„â€œå†²å¤©ç‚®â€å‡ç©ºåˆ©ç”¨äº†ï¼ˆ ï¼‰ã€‚', opts: ['åå†²åŠ›', 'é‡åŠ›', 'æµ®åŠ›'], a: 0, exp: 'ç«è¯æ°”ä½“å‘ä¸‹å–·ï¼Œç‚®å‘ä¸Šå†²ã€‚' },
            { type: 'mcq', q: 'æ°”çƒå°è½¦åœ¨ï¼ˆ ï¼‰è·¯é¢ä¸Šè¡Œé©¶å¾—æ›´è¿œã€‚', opts: ['æ¯›å·¾', 'æ°´æ³¥åœ°', 'å…‰æ»‘åœ°æ¿'], a: 2, exp: 'å…‰æ»‘é¢æ‘©æ“¦åŠ›å°ã€‚' },
            { type: 'mcq', q: 'å¦‚æœæ°”çƒå–·å˜´å‘ä¸‹ï¼Œæ°”çƒä¼šï¼ˆ ï¼‰ã€‚', opts: ['å‘ä¸Šé£', 'å‘ä¸‹é£', 'ä¸åŠ¨'], a: 0, exp: 'åå†²åŠ›æ–¹å‘å‘ä¸Šã€‚' },
            { type: 'mcq', q: 'æ°”çƒå°è½¦åŠ¨åŠ›ä¸è¶³æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ï¼ˆ ï¼‰ã€‚', opts: ['æ¢æ›´å¤§çš„æ°”çƒ', 'æŠŠå–·ç®¡å¼„å¾—éå¸¸ç»†', 'å¢åŠ è½¦é‡'], a: 0, exp: 'å¤§æ°”çƒèƒ½é‡å¤šï¼›å¤ªç»†å–·ç®¡æ¨åŠ›å¯èƒ½ä¸è¶³ä»¥å…‹æœé™æ‘©æ“¦ã€‚' },
            { type: 'mcq', q: 'å–·æ°”å˜´è¶Šç»†ï¼Œå°è½¦è¡Œé©¶é€Ÿåº¦ï¼ˆ ï¼‰ã€‚', opts: ['è¶Šæ…¢', 'è¶Šå¿«', 'ä¸å˜'], a: 0, exp: 'åŠ¨åŠ›å°ï¼Œèµ·æ­¥æ…¢ã€‚' },
            { type: 'mcq', q: 'æ¶ˆé˜²å‘˜ä½¿ç”¨é«˜å‹æ°´æªç­ç«æ—¶ï¼Œèº«ä½“ä¼šå‘ï¼ˆ ï¼‰å€¾æ–œã€‚', opts: ['å‰', 'å', 'å·¦'], a: 1, exp: 'æ°´å‘å‰å–·ï¼Œåå†²åŠ›å‘åæ¨äººã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å…³äºåå†²åŠ›çš„è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ã€‚', opts: ['åªæœ‰æ°”ä½“èƒ½äº§ç”Ÿ', 'åªæœ‰æ¶²ä½“èƒ½äº§ç”Ÿ', 'æ°”ä½“å’Œæ¶²ä½“éƒ½èƒ½äº§ç”Ÿ'], a: 2, exp: 'æ°´æªï¼ˆæ¶²ï¼‰å’Œæ°”çƒï¼ˆæ°”ï¼‰éƒ½æœ‰åå†²åŠ›ã€‚' },
            { type: 'mcq', q: 'è¦ä½¿å°è½¦è¿åŠ¨ï¼ŒåŠ¨åŠ›å¿…é¡»ï¼ˆ ï¼‰æ‘©æ“¦åŠ›ã€‚', opts: ['å¤§äº', 'å°äº', 'ç­‰äº'], a: 0, exp: 'åŠ¨åŠ›>é˜»åŠ›æ‰èƒ½å¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'ä¹Œè´¼ï¼ˆå¢¨é±¼ï¼‰å–·æ°´å‰è¡Œï¼Œä¹Ÿæ˜¯åˆ©ç”¨äº†ï¼ˆ ï¼‰ã€‚', opts: ['æµ®åŠ›', 'åå†²åŠ›', 'é‡åŠ›'], a: 1, exp: 'ç”Ÿç‰©ç•Œçš„åå†²åŠ›åº”ç”¨ã€‚' },
            { type: 'mcq', q: 'åˆ¶ä½œå°è½¦æ—¶ï¼Œæ°”çƒå®‰è£…åœ¨ï¼ˆ ï¼‰æœ€åˆé€‚ã€‚', opts: ['è½¦å¤´', 'è½¦å°¾', 'éƒ½å¯ä»¥ï¼Œåªè¦å–·å˜´æœå'], a: 2, exp: 'å…³é”®æ˜¯å–·æ°”æ–¹å‘å‘åã€‚' },
            { type: 'mcq', q: 'æ°”çƒå˜ç˜ªäº†ï¼Œå°è½¦æœ€ç»ˆåœä¸‹æ¥æ˜¯å› ä¸ºï¼ˆ ï¼‰ã€‚', opts: ['æ²¡æ°”äº†', 'å—åˆ°æ‘©æ“¦é˜»åŠ›', 'æ²¡æ°”äº†ä¸”å—é˜»åŠ›'], a: 2, exp: 'åŠ¨åŠ›æ¶ˆå¤±ï¼Œä¸”å§‹ç»ˆå­˜åœ¨é˜»åŠ›ã€‚' },
            { type: 'mcq', q: 'åœ¨å®éªŒä¸­ï¼Œæ°”çƒå¹å¾—è¶Šå¤§ï¼Œå°è½¦è¡Œé©¶è·ç¦»ï¼ˆ ï¼‰ã€‚', opts: ['è¶Šè¿œ', 'è¶Šè¿‘', 'ä¸å˜'], a: 0, exp: 'èƒ½é‡è¶Šå¤§ï¼ŒåšåŠŸè¶Šå¤šã€‚' },
            { type: 'mcq', q: 'ç»„è£…æ°”çƒå°è½¦æ—¶ï¼Œè½¦è½´è½¬åŠ¨ä¸çµæ´»ï¼Œå¯ä»¥ï¼ˆ ï¼‰ã€‚', opts: ['æ¢å°è½®å­', 'åŠ æ¶¦æ»‘æ²¹', 'å¢åŠ æ°”çƒ'], a: 1, exp: 'å‡å°æ‘©æ“¦åŠ›ã€‚' },

            // 2. å¡«ç©ºé¢˜ (21-30)
            { type: 'fill', q: 'æ°”çƒé‡Œçš„æ°”ä½“å–·å‡ºæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå’Œå–·å‡ºæ–¹å‘____çš„æ¨åŠ›ã€‚', a: ['ç›¸å'], exp: 'æ–¹å‘ç›¸åã€‚' },
            { type: 'fill', q: 'æ¨åŠ¨æ°”çƒè¿åŠ¨çš„åŠ›å«åš____ã€‚', a: ['åå†²åŠ›'], exp: 'å®šä¹‰ï¼šåå†²åŠ›ã€‚' },
            { type: 'fill', q: 'ç«ç®­ã€å–·æ°”å¼é£æœºéƒ½æ˜¯é ____è¿åŠ¨çš„ã€‚', a: ['åå†²åŠ›'], exp: 'åå†²åŠ›çš„åº”ç”¨ã€‚' },
            { type: 'fill', q: 'æ°”çƒå¹å¾—è¶Šå¤§ï¼Œæ°”çƒå…·æœ‰çš„____è¶Šå¤§ã€‚', a: ['èƒ½é‡'], exp: 'å‹ç¼©ç©ºæ°”å‚¨å­˜èƒ½é‡ã€‚' },
            { type: 'fill', q: 'å–·ç®¡è¶Šç²—ï¼Œå–·æ°”é€Ÿåº¦è¶Š____ï¼ŒåŠ¨åŠ›è¶Š____ã€‚', a: ['å¿«','å¤§'], exp: 'ç²—ç®¡ï¼šå¿«ã€å¤§ã€‚' },
            { type: 'fill', q: 'å–·ç®¡è¶Šç»†ï¼Œå–·æ°”æ—¶é—´è¶Š____ã€‚', a: ['é•¿'], exp: 'æµé‡å°ï¼Œæ—¶é—´é•¿ã€‚' },
            { type: 'fill', q: 'æ°”çƒå°è½¦çš„åŠ¨åŠ›æ¥æºäºæ°”çƒå–·å‡ºæ°”ä½“äº§ç”Ÿçš„____ã€‚', a: ['åå†²åŠ›'], exp: 'åŠ¨åŠ›æ¥æºã€‚' },
            { type: 'fill', q: 'å‡è½»è½¦èº«____å¯ä»¥ä½¿å°è½¦è¡Œé©¶å¾—æ›´è¿œã€‚', a: ['é‡é‡'], exp: 'è½»é‡åŒ–å‡å°æ‘©æ“¦ã€‚' },
            { type: 'fill', q: 'æ°”çƒåœ¨é£è¡Œä¸­ï¼Œå–·æ°”å˜´ä¼šæ— è§„å¾‹____ï¼Œå¯¼è‡´æ–¹å‘å˜åŒ–ã€‚', a: ['æŒ¯åŠ¨','æ‘†åŠ¨'], exp: 'æŒ¯åŠ¨å¯¼è‡´æ–¹å‘å¤±æ§ã€‚' },
            { type: 'fill', q: 'è½¦è½´å¤„åŠ ____å¯ä»¥å‡å°æ‘©æ“¦åŠ›ã€‚', a: ['æ¶¦æ»‘æ²¹'], exp: 'æ¶¦æ»‘å‡å°‘æ‘©æ“¦ã€‚' },

            // 3. æ’åº/åˆ†ç±»é¢˜ (31-33)
            { type: 'sort', q: 'è¯·å°†ä¸‹åˆ—ç°è±¡åˆ†ç±»ï¼š', items: ['ç«ç®­å‡ç©º', 'è‹¹æœè½åœ°', 'å–·æ°”å¼é£æœº', 'æ»‘æ»‘æ¢¯'], answerOrder: ['ç«ç®­å‡ç©º', 'å–·æ°”å¼é£æœº', 'è‹¹æœè½åœ°', 'æ»‘æ»‘æ¢¯'], answerGroup: {recoil: ['ç«ç®­å‡ç©º', 'å–·æ°”å¼é£æœº'], other: ['è‹¹æœè½åœ°', 'æ»‘æ»‘æ¢¯']}, groupMode: true, exp: 'ç«ç®­é£æœºæ˜¯åå†²åŠ›ï¼›è‹¹æœæ˜¯é‡åŠ›ï¼Œæ»‘æ¢¯æ˜¯é‡åŠ›å’Œæ‘©æ“¦åŠ›ã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰å–·ç®¡å£å¾„ä»å¤§åˆ°å°æ’åˆ—åŠ¨åŠ›å¤§å°ï¼š', items: ['ç²—å–·ç®¡', 'ä¸­å–·ç®¡', 'ç»†å–·ç®¡'], answerOrder: ['ç²—å–·ç®¡', 'ä¸­å–·ç®¡', 'ç»†å–·ç®¡'], exp: 'å£å¾„è¶Šå¤§ï¼Œç¬æ—¶åŠ¨åŠ›è¶Šå¤§ã€‚' },
            { type: 'sort', q: 'å½±å“å°è½¦è·ç¦»çš„å› ç´ ï¼ˆæœ‰åˆ©å› ç´ ï¼‰ï¼š', items: ['å¤§æ°”çƒ', 'è½»è½¦èº«', 'å…‰æ»‘è·¯é¢'], answerOrder: ['å¤§æ°”çƒ', 'è½»è½¦èº«', 'å…‰æ»‘è·¯é¢'], exp: 'è¿™ä¸‰è€…éƒ½èƒ½å¢åŠ è¡Œé©¶è·ç¦»ã€‚' },

            // 4. å®éªŒåˆ†æ (34-35)
            { type: 'exp', q: 'ã€å®éªŒæ•°æ®ã€‘<br>ç²—å–·ç®¡ï¼šè·ç¦»1.5ç±³<br>ä¸­å–·ç®¡ï¼šè·ç¦»2.1ç±³<br>ç»†å–·ç®¡ï¼šè·ç¦»2.8ç±³<br>é—®ï¼šå“ªç§å–·ç®¡æ•ˆç‡æœ€é«˜ï¼Ÿ', opts: ['ç²—å–·ç®¡', 'ä¸­å–·ç®¡', 'ç»†å–·ç®¡'], a: 2, exp: 'ç»†å–·ç®¡è™½ç„¶åŠ›å°ï¼Œä½†æ—¶é—´é•¿ï¼Œæ€»å†²é‡é€šå¸¸èƒ½è®©è½»å°è½¦è·‘å¾—æ›´è¿œã€‚' },
            { type: 'exp', q: 'ã€å®éªŒæ¢ç©¶ã€‘å®éªŒä¸­ï¼Œæˆ‘ä»¬å”¯ä¸€æ”¹å˜çš„æ¡ä»¶æ˜¯ï¼ˆ ï¼‰ã€‚', opts: ['æ°”çƒå¤§å°', 'å°è½¦é‡é‡', 'å–·ç®¡ç²—ç»†'], a: 0, exp: 'æ¢ç©¶æ°”çƒå¤§å°æ—¶ï¼Œåªèƒ½æ”¹å˜æ°”çƒå¤§å°ï¼Œå…¶ä»–æ¡ä»¶ä¸å˜ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScore = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.6; nextBtn.innerText = "æäº¤ç­”æ¡ˆ";
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let typeLabel = '';
            let typeClass = '';
            if(qData.type==='mcq') { typeLabel='é€‰æ‹©é¢˜'; typeClass='tag-choice'; }
            else if(qData.type==='fill') { typeLabel='å¡«ç©ºé¢˜'; typeClass='tag-fill'; }
            else if(qData.type==='sort') { typeLabel='æ’åº/åˆ†ç±»'; typeClass='tag-sort'; }
            else { typeLabel='å®éªŒåˆ†æ'; typeClass='tag-exp'; }

            let questionHTML = `<div class="q-content"><span class="q-tag ${typeClass}">${typeLabel}</span>${qData.q}</div>`;
            
            // ç‰¹æ®Šå¤„ç†åˆ†ç±»é¢˜çš„é¢˜å¹²æç¤º
            if(qData.groupMode) {
                questionHTML += `<p style="font-size:0.9em; color:#666;">ï¼ˆæ³¨ï¼šæœ¬é¢˜ä¸ºæ¨¡æ‹Ÿåˆ†ç±»ï¼Œè¯·ç›´æ¥ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œåªéœ€å…¨éƒ¨é€‰ä¸­å±äº<strong>åå†²åŠ›</strong>çš„é€‰é¡¹å³å¯é€šå…³æœ¬é¢˜ï¼‰</p>`;
            }
            card.innerHTML = questionHTML;

            // æ¸²æŸ“é€‰é¡¹
            if (qData.type === 'mcq' || qData.type === 'exp') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.6;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                // ç®€åŒ–ç‰ˆæ’åº/åˆ†ç±»äº¤äº’ï¼šç‚¹å‡»æ·»åŠ åˆ°æ¡†ä¸­
                if(qData.groupMode) {
                   // åˆ†ç±»æ¨¡å¼ï¼šå¤šé€‰
                   const container = document.createElement('div');
                   container.className = 'sort-container';
                   qData.items.forEach(item => {
                       const btn = document.createElement('div');
                       btn.className = 'sort-item';
                       btn.innerText = item;
                       btn.style.background = '#FFF';
                       btn.onclick = () => {
                           if(sortOrder.includes(item)) {
                               sortOrder = sortOrder.filter(i => i !== item);<script>
        // --- åŠ¨ç”»æ¼”ç¤ºé€»è¾‘ ---
        function playRecoil() {
            const balloonGroup = document.getElementById('demo-balloon-group');
            const forceArrow = document.getElementById('force-arrow');
            const forceText = document.getElementById('force-text');
            const gasParticles = document.getElementById('gas-particles');
            const gasText = document.getElementById('gas-text');

            // é‡ç½®çŠ¶æ€
            balloonGroup.setAttribute('transform', 'translate(150, 50)');
            forceArrow.style.opacity = 0;
            forceText.style.opacity = 0;
            gasParticles.style.opacity = 0;
            gasText.style.opacity = 0;

            // å¼€å§‹åŠ¨ç”»
            setTimeout(() => {
                // 1. æ˜¾ç¤ºåŠ›ä¸æ°”æµ
                forceArrow.style.transition = 'opacity 0.5s';
                forceArrow.style.opacity = 1;
                forceText.style.transition = 'opacity 0.5s';
                forceText.style.opacity = 1;
                
                gasParticles.style.transition = 'opacity 0.5s';
                gasParticles.style.opacity = 1;
                gasText.style.transition = 'opacity 0.5s';
                gasText.style.opacity = 1;

                // 2. æ°”çƒå‘å³è¿åŠ¨
                let pos = 150;
                const interval = setInterval(() => {
                    pos += 2;
                    balloonGroup.setAttribute('transform', `translate(${pos}, 50)`);
                    if(pos > 220) clearInterval(interval);
                }, 16);
            }, 100);
        }

        // --- é¢˜åº“ (35é¢˜è¦†ç›–æ‰€æœ‰è€ƒç‚¹) ---
        const quizData = [
            // 1. é€‰æ‹©é¢˜ (1-20)
            { type: 'mcq', q: 'æ°”çƒé‡Œçš„æ°”ä½“å–·å‡ºæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå’Œå–·å‡ºæ–¹å‘ç›¸åçš„æ¨åŠ›ï¼Œè¿™ä¸ªåŠ›å«ï¼ˆ ï¼‰ã€‚', opts: ['é‡åŠ›', 'åå†²åŠ›', 'å¼¹åŠ›'], a: 1, exp: 'å®šä¹‰é¢˜ï¼Œåå†²åŠ›æ–¹å‘ç›¸åã€‚' },
            { type: 'mcq', q: 'æ°”çƒå–·æ°”æ–¹å‘å‘å·¦ï¼Œæ°”çƒä¼šå‘ï¼ˆ ï¼‰è¿åŠ¨ã€‚', opts: ['å·¦', 'å³', 'ä¸Š'], a: 1, exp: 'è¿åŠ¨æ–¹å‘ä¸å–·æ°”æ–¹å‘ç›¸åã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—ç‰©ä½“ä¸­ï¼Œä¸æ˜¯åˆ©ç”¨åå†²åŠ›è¿åŠ¨çš„æ˜¯ï¼ˆ ï¼‰ã€‚', opts: ['ç«ç®­', 'å–·æ°”å¼é£æœº', 'å¼“ç®­'], a: 2, exp: 'å¼“ç®­æ˜¯å¼¹åŠ›ï¼Œå‰ä¸¤è€…æ˜¯åå†²åŠ›ã€‚' },
            { type: 'mcq', q: 'æƒ³è¦è®©æ°”çƒå°è½¦è¡Œé©¶å¾—æ›´è¿œï¼Œæˆ‘ä»¬å¯ä»¥ï¼ˆ ï¼‰ã€‚', opts: ['ç”¨æ›´å°çš„æ°”çƒ', 'å‡è½»è½¦èº«é‡é‡', 'å¢åŠ æ‘©æ“¦åŠ›'], a: 1, exp: 'è½¦è¶Šè½»é˜»åŠ›è¶Šå°ï¼Œè·‘å¾—è¶Šè¿œã€‚' },
            { type: 'mcq', q: 'å……æ°”åçš„æ°”çƒå…·æœ‰ï¼ˆ ï¼‰ï¼Œå–·æ°”æ—¶å¯ä»¥äº§ç”ŸåŠ¨åŠ›ã€‚', opts: ['èƒ½é‡', 'ç£åŠ›', 'ç”µåŠ›'], a: 0, exp: 'å‹ç¼©ç©ºæ°”å…·æœ‰èƒ½é‡ã€‚' },
            { type: 'mcq', q: 'å–·ç®¡è¶Šç²—ï¼Œå–·æ°”é€Ÿåº¦è¶Šå¿«ï¼Œäº§ç”Ÿçš„åŠ¨åŠ›ï¼ˆ ï¼‰ã€‚', opts: ['è¶Šå¤§', 'è¶Šå°', 'ä¸å˜'], a: 0, exp: 'ç²—ç®¡å•ä½æ—¶é—´å–·æ°”å¤šï¼Œæ¨åŠ›å¤§ã€‚' },
            { type: 'mcq', q: 'å–·ç®¡è¶Šç»†ï¼Œå–·æ°”æ—¶é—´ï¼ˆ ï¼‰ã€‚', opts: ['è¶ŠçŸ­', 'è¶Šé•¿', 'ä¸å˜'], a: 1, exp: 'ç»†ç®¡å‡ºæ°”æ…¢ï¼ŒæŒç»­æ—¶é—´é•¿ã€‚' },
            { type: 'mcq', q: 'èŠ‚æ—¥ç‡ƒæ”¾çš„â€œå†²å¤©ç‚®â€å‡ç©ºåˆ©ç”¨äº†ï¼ˆ ï¼‰ã€‚', opts: ['åå†²åŠ›', 'é‡åŠ›', 'æµ®åŠ›'], a: 0, exp: 'ç«è¯æ°”ä½“å‘ä¸‹å–·ï¼Œç‚®å‘ä¸Šå†²ã€‚' },
            { type: 'mcq', q: 'æ°”çƒå°è½¦åœ¨ï¼ˆ ï¼‰è·¯é¢ä¸Šè¡Œé©¶å¾—æ›´è¿œã€‚', opts: ['æ¯›å·¾', 'æ°´æ³¥åœ°', 'å…‰æ»‘åœ°æ¿'], a: 2, exp: 'å…‰æ»‘é¢æ‘©æ“¦åŠ›å°ã€‚' },
            { type: 'mcq', q: 'å¦‚æœæ°”çƒå–·å˜´å‘ä¸‹ï¼Œæ°”çƒä¼šï¼ˆ ï¼‰ã€‚', opts: ['å‘ä¸Šé£', 'å‘ä¸‹é£', 'ä¸åŠ¨'], a: 0, exp: 'åå†²åŠ›æ–¹å‘å‘ä¸Šã€‚' },
            { type: 'mcq', q: 'æ°”çƒå°è½¦åŠ¨åŠ›ä¸è¶³æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ï¼ˆ ï¼‰ã€‚', opts: ['æ¢æ›´å¤§çš„æ°”çƒ', 'æŠŠå–·ç®¡å¼„å¾—éå¸¸ç»†', 'å¢åŠ è½¦é‡'], a: 0, exp: 'å¤§æ°”çƒèƒ½é‡å¤šï¼›å¤ªç»†å–·ç®¡æ¨åŠ›å¯èƒ½ä¸è¶³ä»¥å…‹æœé™æ‘©æ“¦ã€‚' },
            { type: 'mcq', q: 'å–·æ°”å˜´è¶Šç»†ï¼Œå°è½¦è¡Œé©¶é€Ÿåº¦ï¼ˆ ï¼‰ã€‚', opts: ['è¶Šæ…¢', 'è¶Šå¿«', 'ä¸å˜'], a: 0, exp: 'åŠ¨åŠ›å°ï¼Œèµ·æ­¥æ…¢ã€‚' },
            { type: 'mcq', q: 'æ¶ˆé˜²å‘˜ä½¿ç”¨é«˜å‹æ°´æªç­ç«æ—¶ï¼Œèº«ä½“ä¼šå‘ï¼ˆ ï¼‰å€¾æ–œã€‚', opts: ['å‰', 'å', 'å·¦'], a: 1, exp: 'æ°´å‘å‰å–·ï¼Œåå†²åŠ›å‘åæ¨äººã€‚' },
            { type: 'mcq', q: 'ä¸‹åˆ—å…³äºåå†²åŠ›çš„è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ã€‚', opts: ['åªæœ‰æ°”ä½“èƒ½äº§ç”Ÿ', 'åªæœ‰æ¶²ä½“èƒ½äº§ç”Ÿ', 'æ°”ä½“å’Œæ¶²ä½“éƒ½èƒ½äº§ç”Ÿ'], a: 2, exp: 'æ°´æªï¼ˆæ¶²ï¼‰å’Œæ°”çƒï¼ˆæ°”ï¼‰éƒ½æœ‰åå†²åŠ›ã€‚' },
            { type: 'mcq', q: 'è¦ä½¿å°è½¦è¿åŠ¨ï¼ŒåŠ¨åŠ›å¿…é¡»ï¼ˆ ï¼‰æ‘©æ“¦åŠ›ã€‚', opts: ['å¤§äº', 'å°äº', 'ç­‰äº'], a: 0, exp: 'åŠ¨åŠ›>é˜»åŠ›æ‰èƒ½å¯åŠ¨ã€‚' },
            { type: 'mcq', q: 'ä¹Œè´¼ï¼ˆå¢¨é±¼ï¼‰å–·æ°´å‰è¡Œï¼Œä¹Ÿæ˜¯åˆ©ç”¨äº†ï¼ˆ ï¼‰ã€‚', opts: ['æµ®åŠ›', 'åå†²åŠ›', 'é‡åŠ›'], a: 1, exp: 'ç”Ÿç‰©ç•Œçš„åå†²åŠ›åº”ç”¨ã€‚' },
            { type: 'mcq', q: 'åˆ¶ä½œå°è½¦æ—¶ï¼Œæ°”çƒå®‰è£…åœ¨ï¼ˆ ï¼‰æœ€åˆé€‚ã€‚', opts: ['è½¦å¤´', 'è½¦å°¾', 'éƒ½å¯ä»¥ï¼Œåªè¦å–·å˜´æœå'], a: 2, exp: 'å…³é”®æ˜¯å–·æ°”æ–¹å‘å‘åã€‚' },
            { type: 'mcq', q: 'æ°”çƒå˜ç˜ªäº†ï¼Œå°è½¦æœ€ç»ˆåœä¸‹æ¥æ˜¯å› ä¸ºï¼ˆ ï¼‰ã€‚', opts: ['æ²¡æ°”äº†', 'å—åˆ°æ‘©æ“¦é˜»åŠ›', 'æ²¡æ°”äº†ä¸”å—é˜»åŠ›'], a: 2, exp: 'åŠ¨åŠ›æ¶ˆå¤±ï¼Œä¸”å§‹ç»ˆå­˜åœ¨é˜»åŠ›ã€‚' },
            { type: 'mcq', q: 'åœ¨å®éªŒä¸­ï¼Œæ°”çƒå¹å¾—è¶Šå¤§ï¼Œå°è½¦è¡Œé©¶è·ç¦»ï¼ˆ ï¼‰ã€‚', opts: ['è¶Šè¿œ', 'è¶Šè¿‘', 'ä¸å˜'], a: 0, exp: 'èƒ½é‡è¶Šå¤§ï¼ŒåšåŠŸè¶Šå¤šã€‚' },
            { type: 'mcq', q: 'ç»„è£…æ°”çƒå°è½¦æ—¶ï¼Œè½¦è½´è½¬åŠ¨ä¸çµæ´»ï¼Œå¯ä»¥ï¼ˆ ï¼‰ã€‚', opts: ['æ¢å°è½®å­', 'åŠ æ¶¦æ»‘æ²¹', 'å¢åŠ æ°”çƒ'], a: 1, exp: 'å‡å°æ‘©æ“¦åŠ›ã€‚' },

            // 2. å¡«ç©ºé¢˜ (21-30)
            { type: 'fill', q: 'æ°”çƒé‡Œçš„æ°”ä½“å–·å‡ºæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå’Œå–·å‡ºæ–¹å‘____çš„æ¨åŠ›ã€‚', a: ['ç›¸å'], exp: 'æ–¹å‘ç›¸åã€‚' },
            { type: 'fill', q: 'æ¨åŠ¨æ°”çƒè¿åŠ¨çš„åŠ›å«åš____ã€‚', a: ['åå†²åŠ›'], exp: 'å®šä¹‰ï¼šåå†²åŠ›ã€‚' },
            { type: 'fill', q: 'ç«ç®­ã€å–·æ°”å¼é£æœºéƒ½æ˜¯é ____è¿åŠ¨çš„ã€‚', a: ['åå†²åŠ›'], exp: 'åå†²åŠ›çš„åº”ç”¨ã€‚' },
            { type: 'fill', q: 'æ°”çƒå¹å¾—è¶Šå¤§ï¼Œæ°”çƒå…·æœ‰çš„____è¶Šå¤§ã€‚', a: ['èƒ½é‡'], exp: 'å‹ç¼©ç©ºæ°”å‚¨å­˜èƒ½é‡ã€‚' },
            { type: 'fill', q: 'å–·ç®¡è¶Šç²—ï¼Œå–·æ°”é€Ÿåº¦è¶Š____ï¼ŒåŠ¨åŠ›è¶Š____ã€‚', a: ['å¿«','å¤§'], exp: 'ç²—ç®¡ï¼šå¿«ã€å¤§ã€‚' },
            { type: 'fill', q: 'å–·ç®¡è¶Šç»†ï¼Œå–·æ°”æ—¶é—´è¶Š____ã€‚', a: ['é•¿'], exp: 'æµé‡å°ï¼Œæ—¶é—´é•¿ã€‚' },
            { type: 'fill', q: 'æ°”çƒå°è½¦çš„åŠ¨åŠ›æ¥æºäºæ°”çƒå–·å‡ºæ°”ä½“äº§ç”Ÿçš„____ã€‚', a: ['åå†²åŠ›'], exp: 'åŠ¨åŠ›æ¥æºã€‚' },
            { type: 'fill', q: 'å‡è½»è½¦èº«____å¯ä»¥ä½¿å°è½¦è¡Œé©¶å¾—æ›´è¿œã€‚', a: ['é‡é‡'], exp: 'è½»é‡åŒ–å‡å°æ‘©æ“¦ã€‚' },
            { type: 'fill', q: 'æ°”çƒåœ¨é£è¡Œä¸­ï¼Œå–·æ°”å˜´ä¼šæ— è§„å¾‹____ï¼Œå¯¼è‡´æ–¹å‘å˜åŒ–ã€‚', a: ['æŒ¯åŠ¨','æ‘†åŠ¨'], exp: 'æŒ¯åŠ¨å¯¼è‡´æ–¹å‘å¤±æ§ã€‚' },
            { type: 'fill', q: 'è½¦è½´å¤„åŠ ____å¯ä»¥å‡å°æ‘©æ“¦åŠ›ã€‚', a: ['æ¶¦æ»‘æ²¹'], exp: 'æ¶¦æ»‘å‡å°‘æ‘©æ“¦ã€‚' },

            // 3. æ’åº/åˆ†ç±»é¢˜ (31-33)
            { type: 'sort', q: 'è¯·å°†ä¸‹åˆ—ç°è±¡åˆ†ç±»ï¼š', items: ['ç«ç®­å‡ç©º', 'è‹¹æœè½åœ°', 'å–·æ°”å¼é£æœº', 'æ»‘æ»‘æ¢¯'], answerOrder: ['ç«ç®­å‡ç©º', 'å–·æ°”å¼é£æœº', 'è‹¹æœè½åœ°', 'æ»‘æ»‘æ¢¯'], answerGroup: {recoil: ['ç«ç®­å‡ç©º', 'å–·æ°”å¼é£æœº'], other: ['è‹¹æœè½åœ°', 'æ»‘æ»‘æ¢¯']}, groupMode: true, exp: 'ç«ç®­é£æœºæ˜¯åå†²åŠ›ï¼›è‹¹æœæ˜¯é‡åŠ›ï¼Œæ»‘æ¢¯æ˜¯é‡åŠ›å’Œæ‘©æ“¦åŠ›ã€‚' },
            { type: 'sort', q: 'è¯·æŒ‰å–·ç®¡å£å¾„ä»å¤§åˆ°å°æ’åˆ—åŠ¨åŠ›å¤§å°ï¼š', items: ['ç²—å–·ç®¡', 'ä¸­å–·ç®¡', 'ç»†å–·ç®¡'], answerOrder: ['ç²—å–·ç®¡', 'ä¸­å–·ç®¡', 'ç»†å–·ç®¡'], exp: 'å£å¾„è¶Šå¤§ï¼Œç¬æ—¶åŠ¨åŠ›è¶Šå¤§ã€‚' },
            { type: 'sort', q: 'å½±å“å°è½¦è·ç¦»çš„å› ç´ ï¼ˆæœ‰åˆ©å› ç´ ï¼‰ï¼š', items: ['å¤§æ°”çƒ', 'è½»è½¦èº«', 'å…‰æ»‘è·¯é¢'], answerOrder: ['å¤§æ°”çƒ', 'è½»è½¦èº«', 'å…‰æ»‘è·¯é¢'], exp: 'è¿™ä¸‰è€…éƒ½èƒ½å¢åŠ è¡Œé©¶è·ç¦»ã€‚' },

            // 4. å®éªŒåˆ†æ (34-35)
            { type: 'exp', q: 'ã€å®éªŒæ•°æ®ã€‘<br>ç²—å–·ç®¡ï¼šè·ç¦»1.5ç±³<br>ä¸­å–·ç®¡ï¼šè·ç¦»2.1ç±³<br>ç»†å–·ç®¡ï¼šè·ç¦»2.8ç±³<br>é—®ï¼šå“ªç§å–·ç®¡æ•ˆç‡æœ€é«˜ï¼Ÿ', opts: ['ç²—å–·ç®¡', 'ä¸­å–·ç®¡', 'ç»†å–·ç®¡'], a: 2, exp: 'ç»†å–·ç®¡è™½ç„¶åŠ›å°ï¼Œä½†æ—¶é—´é•¿ï¼Œæ€»å†²é‡é€šå¸¸èƒ½è®©è½»å°è½¦è·‘å¾—æ›´è¿œã€‚' },
            { type: 'exp', q: 'ã€å®éªŒæ¢ç©¶ã€‘å®éªŒä¸­ï¼Œæˆ‘ä»¬å”¯ä¸€æ”¹å˜çš„æ¡ä»¶æ˜¯ï¼ˆ ï¼‰ã€‚', opts: ['æ°”çƒå¤§å°', 'å°è½¦é‡é‡', 'å–·ç®¡ç²—ç»†'], a: 0, exp: 'æ¢ç©¶æ°”çƒå¤§å°æ—¶ï¼Œåªèƒ½æ”¹å˜æ°”çƒå¤§å°ï¼Œå…¶ä»–æ¡ä»¶ä¸å˜ã€‚' }
        ];

        // --- é€»è¾‘æ§åˆ¶ ---
        let currentQIndex = 0;
        let userScore = 0;
        let userMistakes = [];
        let selectedOption = null;
        let sortOrder = []; 

        function startQuiz() {
            document.getElementById('section-review').classList.remove('active');
            document.getElementById('section-quiz').classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const qData = quizData[currentQIndex];
            const area = document.getElementById('question-area');
            const nextBtn = document.getElementById('nextBtn');
            
            document.getElementById('q-index').innerText = currentQIndex + 1;
            document.getElementById('progressBar').style.width = ((currentQIndex) / quizData.length * 100) + "%";
            
            area.innerHTML = '';
            nextBtn.disabled = true; nextBtn.style.opacity = 0.6; nextBtn.innerText = "æäº¤ç­”æ¡ˆ";
            selectedOption = null;
            sortOrder = [];

            const card = document.createElement('div');
            card.className = 'question-card';
            
            let typeLabel = '';
            let typeClass = '';
            if(qData.type==='mcq') { typeLabel='é€‰æ‹©é¢˜'; typeClass='tag-choice'; }
            else if(qData.type==='fill') { typeLabel='å¡«ç©ºé¢˜'; typeClass='tag-fill'; }
            else if(qData.type==='sort') { typeLabel='æ’åº/åˆ†ç±»'; typeClass='tag-sort'; }
            else { typeLabel='å®éªŒåˆ†æ'; typeClass='tag-exp'; }

            let questionHTML = `<div class="q-content"><span class="q-tag ${typeClass}">${typeLabel}</span>${qData.q}</div>`;
            
            // ç‰¹æ®Šå¤„ç†åˆ†ç±»é¢˜çš„é¢˜å¹²æç¤º
            if(qData.groupMode) {
                questionHTML += `<p style="font-size:0.9em; color:#666;">ï¼ˆæ³¨ï¼šæœ¬é¢˜ä¸ºæ¨¡æ‹Ÿåˆ†ç±»ï¼Œè¯·ç›´æ¥ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œåªéœ€å…¨éƒ¨é€‰ä¸­å±äº<strong>åå†²åŠ›</strong>çš„é€‰é¡¹å³å¯é€šå…³æœ¬é¢˜ï¼‰</p>`;
            }
            card.innerHTML = questionHTML;

            // æ¸²æŸ“é€‰é¡¹
            if (qData.type === 'mcq' || qData.type === 'exp') {
                qData.opts.forEach((opt, idx) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-item'; btn.innerText = opt;
                    btn.onclick = () => selectMCQ(btn, idx);
                    card.appendChild(btn);
                });
            } else if (qData.type === 'fill') {
                const input = document.createElement('input');
                input.className = 'fill-input'; input.type = 'text'; input.placeholder = 'è¾“å…¥ç­”æ¡ˆ';
                input.oninput = (e) => {
                    selectedOption = e.target.value.trim();
                    nextBtn.disabled = !selectedOption;
                    nextBtn.style.opacity = selectedOption ? 1 : 0.6;
                };
                card.appendChild(input);
            } else if (qData.type === 'sort') {
                // ç®€åŒ–ç‰ˆæ’åº/åˆ†ç±»äº¤äº’ï¼šç‚¹å‡»æ·»åŠ åˆ°æ¡†ä¸­
                if(qData.groupMode) {
                   // åˆ†ç±»æ¨¡å¼ï¼šå¤šé€‰
                   const container = document.createElement('div');
                   container.className = 'sort-container';
                   qData.items.forEach(item => {
                       const btn = document.createElement('div');
                       btn.className = 'sort-item';
                       btn.innerText = item;
                       btn.style.background = '#FFF';
                       btn.onclick = () => {
                           if(sortOrder.includes(item)) {
                               sortOrder = sortOrder.filter(i => i !== item);
    


</textarea>
<textarea id="u3-3" style="display:none;"></textarea>
<textarea id="u3-4" style="display:none;"></textarea>
<textarea id="u3-5" style="display:none;"></textarea>
<textarea id="u3-6" style="display:none;"></textarea>

<!-- è¿™é‡Œæ˜¯ u3-78 çš„ä»£ç ç²˜è´´åŒº -->
<textarea id="u3-78" style="display:none;">&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;ä¸ƒï¼†å…«ã€è®¾è®¡åˆ¶ä½œå°è½¦ - ç§‘å­¦æ¢ç©¶&lt;/title&gt;
    &lt;style&gt;
        /* ... (è¿™é‡Œæ˜¯ u3-78 çš„å®Œæ•´ CSS æ ·å¼ï¼Œä¸ä¸Šé¢çš„ä»£ç ä¸€è‡´) ... */
        /* ä¸ºèŠ‚çœç¯‡å¹…ï¼Œè¯·ç¡®ä¿å¤åˆ¶äº†ä¹‹å‰ç”Ÿæˆçš„ u3-78 å®Œæ•´ä»£ç åˆ°è¿™é‡Œ */
        :root{--primary:#3498db;--secondary:#2ecc71;--warning:#f1c40f;--danger:#e74c3c;--dark:#2c3e50;--light:#ecf0f1;}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:0;background-color:#f4f7f6;color:#333;line-height:1.6;}header{background:linear-gradient(135deg,var(--primary),var(--dark));color:white;padding:20px;text-align:center;box-shadow:0 4px 6px rgba(0,0,0,0.1);position:sticky;top:0;z-index:1000;}.nav-btn{background:rgba(255,255,255,0.2);border:2px solid white;color:white;padding:10px 25px;margin:10px;border-radius:30px;cursor:pointer;font-size:16px;font-weight:bold;transition:all 0.3s;}.nav-btn:hover,.nav-btn.active{background:white;color:var(--primary);transform:translateY(-2px);}.container{max-width:1000px;margin:20px auto;padding:0 20px;}section{display:none;animation:fadeIn 0.5s ease-in;}section.active{display:block;}@keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}.card{background:white;border-radius:15px;padding:25px;margin-bottom:25px;box-shadow:0 5px 15px rgba(0,0,0,0.05);border-left:5px solid var(--primary);}h2{color:var(--dark);border-bottom:2px solid #eee;padding-bottom:10px;}h3{color:var(--primary);margin-top:20px;}.highlight{color:var(--danger);font-weight:bold;}.demo-box{background:#eef2f5;border-radius:10px;padding:10px;margin:15px 0;text-align:center;overflow:hidden;position:relative;}svg{max-width:100%;height:auto;max-height:200px;}@keyframes spin{100%{transform:rotate(360deg);}}@keyframes moveRight{0%{transform:translateX(0);}100%{transform:translateX(200px);}}@keyframes wobble{0%,100%{transform:rotate(0);}25%{transform:rotate(-5deg);}75%{transform:rotate(5deg);}}@keyframes grow{0%{transform:scale(0.8);}50%{transform:scale(1.2);}100%{transform:scale(0.8);}}.anim-spin{transform-origin:center;animation:spin 2s linear infinite;}.anim-drive{animation:moveRight 4s linear infinite;}.anim-wobble{transform-origin:center;animation:wobble 0.5s ease-in-out infinite;}.anim-grow{transform-origin:center;animation:grow 2s infinite;}.quiz-header{background:#fff;padding:20px;border-radius:10px;margin-bottom:20px;text-align:center;border-bottom:4px solid var(--secondary);}.question-block{background:white;padding:20px;margin-bottom:20px;border-radius:8px;border:1px solid #ddd;position:relative;}.q-type{position:absolute;top:0;left:0;background:var(--primary);color:white;padding:5px 10px;font-size:12px;border-top-left-radius:8px;border-bottom-right-radius:8px;}.q-text{margin-top:20px;font-weight:600;font-size:1.1em;}.options label{display:block;padding:10px;cursor:pointer;transition:0.2s;}.options label:hover{background:#f0f8ff;}input[type="radio"]{margin-right:10px;}input[type="text"],textarea{width:100%;padding:10px;margin-top:10px;border:1px solid #ccc;border-radius:5px;font-family:inherit;}.sortable-list{list-style:none;padding:0;background:#f9f9f9;padding:10px;border-radius:5px;}.sort-item{background:white;border:1px solid #ddd;margin:5px 0;padding:10px;cursor:grab;display:flex;justify-content:space-between;align-items:center;border-radius:4px;}.sort-btn{cursor:pointer;padding:0 5px;color:#888;font-weight:bold;}.sort-btn:hover{color:var(--primary);}.exp-container{border:2px dashed #aaa;padding:15px;background:#fffbf0;margin-top:10px;}.btn-submit{display:block;width:100%;padding:15px;background:var(--secondary);color:white;border:none;border-radius:50px;font-size:1.2rem;cursor:pointer;margin-top:30px;box-shadow:0 5px 15px rgba(46,204,113,0.4);}.btn-submit:hover{background:#27ae60;}#result-area{display:none;margin-top:30px;}.score-card{text-align:center;font-size:2rem;color:var(--primary);background:white;padding:20px;border-radius:10px;}.feedback-item{background:#fff;border-left:4px solid var(--danger);padding:15px;margin-bottom:10px;border-radius:5px;}.correct-ans{color:var(--secondary);font-weight:bold;}.explanation{font-style:italic;color:#666;font-size:0.9rem;margin-top:5px;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- ... (è¿™é‡Œæ˜¯ u3-78 çš„å®Œæ•´ HTML ç»“æ„) ... --&gt;
    &lt;header&gt;&lt;h1&gt;ä¸ƒï¼†å…«ã€è®¾è®¡åˆ¶ä½œå°è½¦&lt;/h1&gt;&lt;div&gt;&lt;button class="nav-btn active" onclick="switchTab('review')"&gt;ğŸ“š å¤ä¹ å·©å›º&lt;/button&gt;&lt;button class="nav-btn" onclick="switchTab('test')"&gt;ğŸ° é—¯å…³å¡” (100åˆ†)&lt;/button&gt;&lt;/div&gt;&lt;/header&gt;&lt;div class="container"&gt;&lt;section id="review" class="active"&gt;&lt;div class="card"&gt;&lt;h3&gt;1. è®¾è®¡åˆ¶ä½œçš„åŸºæœ¬æ­¥éª¤&lt;/h3&gt;&lt;p&gt;å·¥ç¨‹å¸ˆåœ¨è®¾è®¡æ—¶é€šå¸¸éµå¾ªä»¥ä¸‹æµç¨‹ï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;æ˜ç¡®é—®é¢˜&lt;/strong&gt;ï¼šäº†è§£ç”¨é€”å’Œå…·ä½“è¦æ±‚ã€‚&lt;/li&gt;&lt;li&gt;&lt;strong&gt;åˆ¶è®¢æ–¹æ¡ˆ&lt;/strong&gt;ï¼šå¤´è„‘é£æš´ï¼Œç»˜åˆ¶è®¾è®¡å›¾ï¼Œå¯»æ‰¾æœ€ä¼˜è§£ã€‚&lt;/li&gt;&lt;li&gt;&lt;strong&gt;å®æ–½æ–¹æ¡ˆ&lt;/strong&gt;ï¼šåˆ†å·¥åä½œï¼ŒåŠ å·¥ç»„è£…ã€‚&lt;/li&gt;&lt;li&gt;&lt;strong&gt;è¯„ä¼°ä¸æ”¹è¿›&lt;/strong&gt;ï¼šæµ‹è¯•æ‰“åˆ†ï¼Œåæ€é—®é¢˜ï¼Œä¼˜åŒ–è®¾è®¡ã€‚&lt;/li&gt;&lt;/ol&gt;&lt;div class="demo-box"&gt;&lt;svg viewBox="0 0 400 100"&gt;&lt;circle cx="50" cy="50" r="20" fill="#3498db" opacity="0.2"&gt;&lt;animate attributeName="opacity" values="0.2;1;0.2" dur="4s" begin="0s" repeatCount="indefinite"/&gt;&lt;/circle&gt;&lt;text x="50" y="55" text-anchor="middle" fill="#333" font-size="10"&gt;1.é—®é¢˜&lt;/text&gt;&lt;path d="M80 50 L110 50" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/&gt;&lt;circle cx="140" cy="50" r="20" fill="#e67e22" opacity="0.2"&gt;&lt;animate attributeName="opacity" values="0.2;1;0.2" dur="4s" begin="1s" repeatCount="indefinite"/&gt;&lt;/circle&gt;&lt;text x="140" y="55" text-anchor="middle" fill="#333" font-size="10"&gt;2.æ–¹æ¡ˆ&lt;/text&gt;&lt;path d="M170 50 L200 50" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/&gt;&lt;circle cx="230" cy="50" r="20" fill="#2ecc71" opacity="0.2"&gt;&lt;animate attributeName="opacity" values="0.2;1;0.2" dur="4s" begin="2s" repeatCount="indefinite"/&gt;&lt;/circle&gt;&lt;text x="230" y="55" text-anchor="middle" fill="#333" font-size="10"&gt;3.åˆ¶ä½œ&lt;/&lt;!-- æ¥ä¸Šæ–‡ u3-78 textarea å†…å®¹ --&gt;
&lt;path d="M260 50 L290 50" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/&gt;&lt;circle cx="320" cy="50" r="20" fill="#9b59b6" opacity="0.2"&gt;&lt;animate attributeName="opacity" values="0.2;1;0.2" dur="4s" begin="3s" repeatCount="indefinite"/&gt;&lt;/circle&gt;&lt;text x="320" y="55" text-anchor="middle" fill="#333" font-size="10"&gt;4.æ”¹è¿›&lt;/text&gt;&lt;defs&gt;&lt;marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto"&gt;&lt;path d="M0,0 L0,6 L9,3 z" fill="#333" /&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="card"&gt;&lt;h3&gt;2. è®¾è®¡è¦æ±‚ä¸å°è½¦ç»“æ„&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;é™åˆ¶æ¡ä»¶ï¼š&lt;/strong&gt;è½¦èº«&lt;25cmï¼Œå¿…é¡»ç”¨æ©¡çš®ç­‹æˆ–æ°”çƒåšåŠ¨åŠ›ï¼Œåªèƒ½ç”¨é™å®šææ–™ã€‚&lt;/li&gt;&lt;li&gt;&lt;strong&gt;ç»“æ„è®¤çŸ¥ï¼š&lt;/strong&gt; è½¦æ¶(æ”¯æ’‘)ã€è½¦èº«(ç¾è§‚)ã€è½¦è½´(ä¼ åŠ¨)ã€è½®å­(å‡æ‘©)ã€‚&lt;/li&gt;&lt;/ul&gt;&lt;div class="demo-box"&gt;&lt;svg viewBox="0 0 300 120"&gt;&lt;text x="10" y="20" font-size="12" fill="#555"&gt;ç»„è£…ç¤ºæ„å›¾&lt;/text&gt;&lt;g transform="translate(50, 40)"&gt;&lt;rect x="20" y="0" width="100" height="30" fill="#3498db" opacity="0.8"&gt;&lt;animate attributeName="y" values="-20;20;20" dur="3s" repeatCount="indefinite"/&gt;&lt;/rect&gt;&lt;text x="130" y="20" font-size="10" fill="#3498db"&gt;è½¦èº«&lt;/text&gt;&lt;line x1="30" y1="35" x2="110" y2="35" stroke="#333" stroke-width="3"/&gt;&lt;text x="130" y="40" font-size="10" fill="#333"&gt;è½¦è½´&lt;/text&gt;&lt;circle cx="30" cy="35" r="15" fill="#2c3e50"&gt;&lt;animate attributeName="cx" values="0;30;30" dur="3s" repeatCount="indefinite"/&gt;&lt;/circle&gt;&lt;circle cx="110" cy="35" r="15" fill="#2c3e50"&gt;&lt;animate attributeName="cx" values="140;110;110" dur="3s" repeatCount="indefinite"/&gt;&lt;/circle&gt;&lt;text x="130" y="60" font-size="10" fill="#2c3e50"&gt;è½®å­&lt;/text&gt;&lt;line x1="20" y1="60" x2="120" y2="60" stroke="red" stroke-dasharray="4"/&gt;&lt;text x="40" y="70" font-size="10" fill="red"&gt;é•¿åº¦ &lt; 25cm&lt;/text&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="card"&gt;&lt;h3&gt;3. æµ‹è¯•å¹¶æ”¹è¿›&lt;/h3&gt;&lt;p&gt;é‡åˆ°é—®é¢˜åƒå·¥ç¨‹å¸ˆä¸€æ ·æ€è€ƒï¼š&lt;/p&gt;&lt;div class="demo-box" style="display: flex; justify-content: space-around;"&gt;&lt;div style="width: 45%;"&gt;&lt;p style="font-size: 12px;"&gt;ç°è±¡ï¼šä¸èƒ½èµ°ç›´çº¿&lt;/p&gt;&lt;svg viewBox="0 0 100 100"&gt;&lt;path d="M50 90 Q 50 50 20 10" stroke="#e74c3c" stroke-width="2" fill="none" stroke-dasharray="4"/&gt;&lt;rect x="40" y="80" width="20" height="10" fill="#3498db" class="anim-wobble"/&gt;&lt;text x="10" y="10" font-size="8" fill="#e74c3c"&gt;è½¦è½´ä¸æ­£&lt;/text&gt;&lt;/svg&gt;&lt;/div&gt;&lt;div style="width: 45%;"&gt;&lt;p style="font-size: 12px;"&gt;ç°è±¡ï¼šè½®å­æ‰“æ»‘&lt;/p&gt;&lt;svg viewBox="0 0 100 100"&gt;&lt;line x1="10" y1="80" x2="90" y2="80" stroke="#333"/&gt;&lt;circle cx="50" cy="70" r="10" fill="none" stroke="#333" stroke-width="2" class="anim-spin"/&gt;&lt;text x="20" y="50" font-size="8" fill="#e67e22"&gt;åŸåœ°ç©ºè½¬&lt;/text&gt;&lt;text x="20" y="95" font-size="8" fill="green"&gt;å¯¹ç­–:åŠ é‡/èŠ±çº¹&lt;/text&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;&lt;section id="test"&gt;&lt;div class="quiz-header"&gt;&lt;h2&gt;é—¯å…³å¡”ï¼šå°è½¦å·¥ç¨‹å¸ˆæŒ‘æˆ˜ (100åˆ†)&lt;/h2&gt;&lt;/div&gt;&lt;form id="quizForm"&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;é€‰æ‹©é¢˜&lt;/span&gt;&lt;div class="q-text"&gt;1. è®¾è®¡åˆ¶ä½œå°è½¦çš„ç¬¬ä¸€æ­¥æ˜¯ï¼Ÿ (4åˆ†)&lt;/div&gt;&lt;div class="options"&gt;&lt;label&gt;&lt;input type="radio" name="q1" value="A"&gt; A. å®æ–½æ–¹æ¡ˆ&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q1" value="B"&gt; B. æ˜ç¡®é—®é¢˜&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q1" value="C"&gt; C. è¯„ä¼°ä¸æ”¹è¿›&lt;/label&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;é€‰æ‹©é¢˜&lt;/span&gt;&lt;div class="q-text"&gt;2. æ©¡çš®ç­‹å°è½¦çš„åŠ¨åŠ›æ¥è‡ªäºï¼Ÿ (4åˆ†)&lt;/div&gt;&lt;div class="options"&gt;&lt;label&gt;&lt;input type="radio" name="q2" value="A"&gt; A. é‡åŠ›&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q2" value="B"&gt; B. åå†²åŠ›&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q2" value="C"&gt; C. å¼¹åŠ›&lt;/label&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;é€‰æ‹©é¢˜&lt;/span&gt;&lt;div class="q-text"&gt;3. è½¦å­æ€»æ˜¯å‘å·¦åï¼Œæœ€å¯èƒ½çš„åŸå› æ˜¯ï¼Ÿ (4åˆ†)&lt;/div&gt;&lt;div class="options"&gt;&lt;label&gt;&lt;input type="radio" name="q3" value="A"&gt; A. åŠ¨åŠ›å¤ªå¼º&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q3" value="B"&gt; B. è½¦è½´ä¸æ­£&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q3" value="C"&gt; C. æ°”çƒå¤ªå°&lt;/label&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;é€‰æ‹©é¢˜&lt;/span&gt;&lt;div class="q-text"&gt;4. å‡å°è½¦è½´æ‘©æ“¦åŠ›çš„æ–¹æ³•ï¼Ÿ (4åˆ†)&lt;/div&gt;&lt;div class="options"&gt;&lt;label&gt;&lt;input type="radio" name="q4" value="A"&gt; A. å®‰è£…è½´å¥—&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q4" value="B"&gt; B. å¢åŠ è½¦é‡&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q4" value="C"&gt; C. ç²—ç³™è½®å­&lt;/label&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;é€‰æ‹©é¢˜&lt;/span&gt;&lt;div class="q-text"&gt;5. é¢å¯¹å¤±è´¥çš„æ€åº¦ï¼Ÿ (4åˆ†)&lt;/div&gt;&lt;div class="options"&gt;&lt;label&gt;&lt;input type="radio" name="q5" value="A"&gt; A. æ”¾å¼ƒ&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q5" value="B"&gt; B. åæ€æ”¹è¿›&lt;/label&gt;&lt;label&gt;&lt;input type="radio" name="q5" value="C"&gt; C. éšç’&lt;/label&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;å¡«ç©ºé¢˜&lt;/span&gt;&lt;div class="q-text"&gt;6. ç»“æ„åŒ…æ‹¬è½¦æ¶ã€&lt;input type="text" name="q6_1" placeholder="2å­—" style="width:60px"&gt;ã€è½¦è½´å’Œè½®å­ã€‚è½¦é•¿é™ &lt;input type="text" name="q6_2" placeholder="æ•°å­—" style="width:40px"&gt; cmã€‚(10åˆ†)&lt;/div&gt;&lt;/div&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;å¡«ç©ºé¢˜&lt;/span&gt;&lt;div class="q-text"&gt;7. æ°”çƒå°è½¦åˆ©ç”¨ &lt;input type="text" name="q7" placeholder="3å­—" style="width:80px"&gt; è¿åŠ¨ã€‚æ°”çƒè¶Š &lt;input type="text" name="q7_2" placeholder="å¤§/å°" style="width:40px"&gt; è·‘è¶Šè¿œã€‚(10åˆ†)&lt;/div&gt;&lt;/div&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;æ’åºé¢˜&lt;/span&gt;&lt;div class="q-text"&gt;8. å·¥ç¨‹è®¾è®¡æ­¥éª¤æ’åºã€‚(20åˆ†)&lt;/div&gt;&lt;ul class="sortable-list" id="sortList"&gt;&lt;li class="sort-item" data-id="B"&gt;2. åˆ¶è®¢æ–¹æ¡ˆ&lt;div&gt;&lt;span class="sort-btn" onclick="moveUp(this)"&gt;â¬†ï¸&lt;/span&gt;&lt;span class="sort-btn" onclick="moveDown(this)"&gt;â¬‡ï¸&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class="sort-item" data-id="D"&gt;4. è¯„ä¼°ä¸æ”¹è¿›&lt;div&gt;&lt;span class="sort-btn" onclick="moveUp(this)"&gt;â¬†ï¸&lt;/span&gt;&lt;span class="sort-btn" onclick="moveDown(this)"&gt;â¬‡ï¸&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class="sort-item" data-id="A"&gt;1. æ˜ç¡®é—®é¢˜&lt;div&gt;&lt;span class="sort-btn" onclick="moveUp(this)"&gt;â¬†ï¸&lt;/span&gt;&lt;span class="sort-btn" onclick="moveDown(this)"&gt;â¬‡ï¸&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class="sort-item" data-id="C"&gt;3. å®æ–½æ–¹æ¡ˆ&lt;div&gt;&lt;span class="sort-btn" onclick="moveUp(this)"&gt;â¬†ï¸&lt;/span&gt;&lt;span class="sort-btn" onclick="moveDown(this)"&gt;â¬‡ï¸&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class="question-block"&gt;&lt;span class="q-type"&gt;å®éªŒæ¢ç©¶é¢˜&lt;/span&gt;&lt;div class="q-text"&gt;9. ç°è±¡ï¼šè½¦è½®å¿«é€Ÿè½¬åŠ¨ï¼Œå°è½¦ä¸åŠ¨ã€‚(40åˆ†)&lt;/div&gt;&lt;div class="exp-container"&gt;&lt;p&gt;&lt;strong&gt;(1) å¡«ç©ºï¼š&lt;/strong&gt; ç°è±¡å« &lt;input type="text" name="q9_1" placeholder="æ‰“æ»‘" style="width:80px"&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;(2) åˆ†æï¼š&lt;/strong&gt; åŸå› æ˜¯æ‘©æ“¦åŠ›å¤ª &lt;input type="text" name="q9_2" placeholder="å¤§/å°" style="width:50px"&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;(3) æ–¹æ³•ï¼š&lt;/strong&gt; å†™å‡º2ç§è§£å†³æ–¹æ³•ã€‚&lt;/p&gt;&lt;textarea name="q9_3" rows="2"&gt;</textarea><button type="button" class="btn-submit" onclick="calculateScore()">æäº¤è¯•å·</button><div id="result-area"><div class="score-card">å¾—åˆ†ï¼š<span id="score-display">0</span> / 100</div><div id="feedback-content"></div><button class="btn-submit" onclick="location.reload()" style="margin-top:20px; background:#333;">é‡æ–°æŒ‘æˆ˜</button></div><script>
function switchTab(id){document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));event.target.classList.add('active');window.scrollTo(0,0);}
function moveUp(b){let l=b.closest('li');if(l.previousElementSibling)l.parentNode.insertBefore(l,l.previousElementSibling);}
function moveDown(b){let l=b.closest('li');if(l.nextElementSibling)l.parentNode.insertBefore(l.nextElementSibling,l);}
function calculateScore(){let s=0;let fb="";let err=false;const f=document.getElementById('quizForm');
const ans={q1:{a:'B',c:'æ˜ç¡®é—®é¢˜'},q2:{a:'C',c:'å¼¹åŠ›'},q3:{a:'B',c:'è½¦è½´ä¸æ­£'},q4:{a:'A',c:'å®‰è£…è½´å¥—'},q5:{a:'B',c:'åæ€æ”¹è¿›'}};
for(let i=1;i<=5;i++){let k='q'+i;if(f.elements[k].value===ans[k].a)s+=4;else{err=true;fb+=`<div class="feedback-item">ç¬¬${i}é¢˜é”™ï¼Œé€‰${ans[k].a}</div>`;}}
if(f.elements['q6_1'].value.includes('è½¦èº«'))s+=5; else fb+=`<div class="feedback-item">ç¬¬6-1é”™: è½¦èº«</div>`;
if(f.elements['q6_2'].value=='25')s+=5; else fb+=`<div class="feedback-item">ç¬¬6-2é”™: 25</div>`;
if(f.elements['q7'].value.includes('åå†²'))s+=5; else fb+=`<div class="feedback-item">ç¬¬7-1é”™: åå†²åŠ›</div>`;
if(f.elements['q7_2'].value.includes('å¤§'))s+=5; else fb+=`<div class="feedback-item">ç¬¬7-2é”™: å¤§</div>`;
let ord="";document.querySelectorAll('#sortList li').forEach(i=>ord+=i.dataset.id);
if(ord==="ABCD")s+=20; else{err=true;fb+=`<div class="feedback-item">ç¬¬8é¢˜æ’åºé”™: 1->2->3->4</div>`;}
if(f.elements['q9_1'].value.includes('æ‰“æ»‘'))s+=10; else fb+=`<div class="feedback-item">ç¬¬9-1é”™: æ‰“æ»‘</div>`;
if(f.elements['q9_2'].value.includes('å°'))s+=10; else fb+=`<div class="feedback-item">ç¬¬9-2é”™: å°</div>`;
let q93=f.elements['q9_3'].value; if(q93.length>5)s+=20; else fb+=`<div class="feedback-item">ç¬¬9-3é”™: éœ€å†™å‡ºåŠ é‡æˆ–åŠ èŠ±çº¹</div>`;
document.getElementById('score-display').innerText=s;document.getElementById('feedback-content').innerHTML=fb||"<h3 style='color:green;text-align:center'>å…¨å¯¹ï¼å®Œç¾ï¼</h3>";document.getElementById('result-area').style.display='block';}
</script>


<!-- ============================================================ -->
<!-- === ä¸»é¡µé¢æ§åˆ¶è„šæœ¬ (Main Controller Script) === -->
<!-- ============================================================ -->
<script>
    // å…¼å®¹æ€§è·å–å…ƒç´ è¾…åŠ©å‡½æ•°
    function getQuerySelector(selector) {
        if (document.querySelector) {
            return document.querySelector(selector);
        }
        if (selector.indexOf('#') === 0) {
            return document.getElementById(selector.substring(1));
        }
        return document.body; // Fallback
    }

    // æ ¸å¿ƒåŠŸèƒ½ï¼šåŠ è½½è¯¾ç¨‹å†…å®¹
    function loadLesson(id, event) {
        // 1. UIæ›´æ–°
        document.getElementById('welcome').style.display = 'none';
        
        // ç§»é™¤æ‰€æœ‰æŒ‰é’®æ¿€æ´»æ€
        var btns = document.querySelectorAll('.lesson-btn');
        for (var i = 0; i < btns.length; i++) {
            btns[i].classList.remove('active');
        }
        // æ·»åŠ å½“å‰æŒ‰é’®æ¿€æ´»æ€
        if (event && event.target) {
            event.target.classList.add('active');
        }

        // 2. è¯»å–å†…å®¹
        var storage = document.getElementById(id);
        var iframe = document.getElementById('content-frame');

        if (storage && storage.value.trim() !== '') {
            // 3. æ³¨å…¥å†…å®¹åˆ° iframe
            // ä¼˜å…ˆä½¿ç”¨ srcdocï¼Œä¸å…¼å®¹åˆ™å›é€€åˆ° Blob URL
            if ('srcdoc' in iframe) {
                iframe.srcdoc = storage.value;
            } else {
                var blob = new Blob([storage.value], {type: 'text/html'});
                var blobURL = URL.createObjectURL(blob);
                iframe.src = blobURL;
                
                // é‡Šæ”¾å†…å­˜
                iframe.onload = function() {
                    URL.revokeObjectURL(blobURL);
                };
            }
        } else {
            // 4. ç©ºå†…å®¹å¤„ç†
            var emptyContent = '<body style="font-family:\'Microsoft YaHei\', sans-serif; text-align:center; padding:50px; color:#666;">' +
                                '<h2 style="color:#FF5722;">ğŸš§ å†…å®¹åŠ è½½ä¸­æˆ–ä¸ºç©º</h2>' +
                                '<p>è¯·ç¡®è®¤ä»£ç å·²ç²˜è´´åˆ°å¯¹åº”IDçš„ textarea ä¸­ã€‚<br>ID: ' + id + '</p></body>';
            iframe.srcdoc = emptyContent;
        }

        // 5. ç§»åŠ¨ç«¯ï¼šç‚¹å‡»åè‡ªåŠ¨æ”¶èµ·ä¾§è¾¹æ 
        if (window.innerWidth <= 768) {
            var sidebar = document.getElementById('sidebar');
            var overlay = getQuerySelector('.overlay');
            if (sidebar.classList.contains('open')) {
                toggleSidebar();
            }
        }
    }

    // ä¾§è¾¹æ åˆ‡æ¢ï¼ˆç§»åŠ¨ç«¯ï¼‰
    function toggleSidebar() {
        var sidebar = document.getElementById('sidebar');
        var overlay = getQuerySelector('.overlay');
        
        if (sidebar.classList.contains('open')) {
            sidebar.classList.remove('open');
            if (overlay) overlay.classList.remove('show');
        } else {
            sidebar.classList.add('open');
            if (overlay) overlay.classList.add('show');
        }
    }

    // å•å…ƒæŠ˜å /å±•å¼€
    function toggleUnit(listId) {
        var list = document.getElementById(listId);
        var unitTitle = list.previousElementSibling;
        var arrow = unitTitle.querySelector('span');
        
        if (list.classList.contains('collapsed')) {
            list.classList.remove('collapsed');
            if (arrow) arrow.textContent = 'â–¼';
        } else {
            list.classList.add('collapsed');
            if (arrow) arrow.textContent = 'â–¶';
        }
    }
</script>


</body></html>