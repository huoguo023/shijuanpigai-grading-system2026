<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>å››ã€å¼¹ç°§æµ‹åŠ›è®¡ - äº’åŠ¨å­¦ä¹ ä¸100åˆ†é—¯å…³</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{--primary:#00BCD4;--accent:#FF5722;--bg:#f5f5f5;--card:#fff;--dark:#00838F;}
*{box-sizing:border-box;}
body{font-family:'Microsoft YaHei','Segoe UI',sans-serif;margin:0;background:var(--bg);color:#333;line-height:1.7;padding-bottom:60px;}
header{background:linear-gradient(135deg,var(--primary),var(--dark));color:#fff;padding:2.5rem 1rem;text-align:center;box-shadow:0 4px 15px rgba(0,0,0,.2);}
h1{font-size:2.2rem;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.3);}
.container{max-width:950px;margin:0 auto;padding:0 20px;}
.card{background:var(--card);border-radius:15px;padding:30px;margin:25px 0;box-shadow:0 6px 20px rgba(0,0,0,.08);}
.demo{background:linear-gradient(to bottom,#e0f7fa,#b2ebf2);border:3px solid var(--primary);border-radius:12px;padding:25px;margin:20px 0;text-align:center;}
.demo-btn{background:var(--accent);color:#fff;border:none;padding:12px 25px;border-radius:30px;cursor:pointer;font-size:1rem;margin:8px;box-shadow:0 3px 10px rgba(0,0,0,.2);transition:all .3s;}
.demo-btn:hover{background:#E64A19;transform:translateY(-2px);}
.q-tag{display:inline-block;padding:5px 12px;border-radius:5px;color:#fff;font-size:0.85rem;margin-right:10px;font-weight:bold;}
.tag-choice{background:#2196F3;}
.tag-fill{background:#9C27B0;}
.tag-drag{background:#FF9800;}
.tag-exp{background:#E91E63;}
.question{margin-bottom:30px;padding:20px;background:#fafafa;border-radius:10px;border-left:5px solid var(--primary);}
.options label{display:block;margin:10px 0;padding:10px;background:#fff;border-radius:8px;cursor:pointer;border:2px solid transparent;transition:all .2s;}
.options label:hover{border-color:var(--primary);background:#e0f7fa;}
.options input{margin-right:12px;}
.drag-container{display:flex;flex-wrap:wrap;gap:15px;margin:20px 0;}
.drop-zone{flex:1;min-width:140px;min-height:110px;border:3px dashed #ccc;background:#fff;border-radius:10px;padding:12px;}
.drop-zone h4{margin:0 0 10px;text-align:center;color:#666;font-size:0.9rem;pointer-events:none;}
.drop-items{min-height:70px;}
.item-pool{display:flex;flex-wrap:wrap;gap:10px;margin:20px 0;padding:15px;background:#f0f0f0;border-radius:10px;}
.drag-item{background:#fff;padding:10px 18px;border:2px solid #ddd;border-radius:25px;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.1);user-select:none;transition:all .2s;}
.drag-item.selected{border:3px solid var(--accent);background:#ffe0e0;}
.drag-item.used{opacity:0.4;cursor:not-allowed;}
.exp-block{background:#fff3e0;border:3px solid var(--accent);border-radius:12px;padding:20px;margin:20px 0;}
.exp-svg{background:#fff;padding:15px;border-radius:8px;margin-bottom:20px;text-align:center;}
.exp-sub{margin:15px 0;padding:15px;background:#fff;border-radius:8px;}
textarea{width:100%;height:75px;padding:12px;border:2px solid #ddd;border-radius:8px;resize:vertical;}
input[type="text"]{padding:10px;border:2px solid #ddd;border-radius:6px;font-size:1rem;}
.submit-btn{display:block;width:350px;margin:50px auto;padding:18px;background:linear-gradient(135deg,#4CAF50,#388E3C);color:#fff;border:none;border-radius:50px;font-size:1.4rem;cursor:pointer;box-shadow:0 6px 20px rgba(76,175,80,.4);font-weight:bold;}
.submit-btn:hover{transform:scale(1.03);}
#result-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);z-index:9999;overflow-y:auto;}
.result-box{background:#fff;margin:3% auto;padding:40px;width:90%;max-width:800px;border-radius:20px;position:relative;box-shadow:0 10px 50px rgba(0,0,0,.3);}
.close-btn{position:absolute;right:25px;top:20px;font-size:2.5rem;cursor:pointer;color:#999;}
.score-display{font-size:5rem;color:var(--primary);text-align:center;margin:30px 0;font-weight:bold;}
.error-item{background:#ffebee;padding:18px;border-left:6px solid #f44336;margin:15px 0;border-radius:8px;}
.correct-tip{color:#2e7d32;font-weight:bold;margin-top:10px;display:block;font-size:1.1rem;}
/* å³æ—¶åé¦ˆæ ·å¼ */
.feedback-toast{position:fixed;top:20px;left:50%;transform:translateX(-50%) translateY(-100px);background:white;padding:15px 25px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.3);z-index:10000;display:flex;align-items:center;gap:12px;min-width:280px;max-width:90%;opacity:0;transition:all .3s cubic-bezier(.68,-.55,.265,1.55);}
.feedback-toast.show{transform:translateX(-50%) translateY(0);opacity:1;}
.feedback-success{border-left:5px solid #4CAF50;}
.feedback-error{border-left:5px solid #FF9800;}
.toast-icon{font-size:28px;font-weight:bold;}
.feedback-success .toast-icon{color:#4CAF50;}
.feedback-error .toast-icon{color:#FF9800;}
.toast-message{flex:1;font-size:16px;line-height:1.4;}
.confetti{position:fixed;width:10px;height:10px;z-index:9999;pointer-events:none;}
@keyframes confetti-fall{to{transform:translateY(100vh) rotate(360deg);opacity:0;}}
@keyframes correct-pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
@keyframes shake{0%,100%{transform:translateX(0);}25%{transform:translateX(-10px);}75%{transform:translateX(10px);}}
.options label.correct-feedback{animation:correct-pulse .6s ease;background:#C8E6C9!important;border-color:#4CAF50!important;box-shadow:0 0 20px rgba(76,175,80,.4);}
.options label.wrong-feedback{animation:shake .5s ease;background:#FFE0B2!important;border-color:#FF9800!important;}
input[type="text"].correct-feedback{animation:correct-pulse .6s ease;background:#C8E6C9!important;border-color:#4CAF50!important;}
input[type="text"].wrong-feedback{animation:shake .5s ease;background:#FFE0B2!important;border-color:#FF9800!important;}
</style>
</head>
<body>
<header><h1>å››ã€å¼¹ç°§æµ‹åŠ›è®¡</h1><p style="margin-top:10px;">äº’åŠ¨å¤ä¹  + 100åˆ†é—¯å…³å¡”</p></header>
<div class="container">
<div class="card">
<h2 style="color:var(--primary);">ğŸ“š ç¬¬ä¸€éƒ¨åˆ†ï¼šçŸ¥è¯†å¤ä¹ ä¸æ¼”ç¤º</h2>
<div class="demo">
<h3>1. å¼¹ç°§æµ‹åŠ›è®¡çš„ç»„æˆ</h3>
<svg viewBox="0 0 280 320" width="200" height="230" style="background:linear-gradient(to bottom, #E0F7FA 0%, #F5F5F5 100%); border-radius:10px;">
<defs>
<linearGradient id="caseGrad" x1="0%" y1="0%" x2="100%" y2="0%">
<stop offset="0%" style="stop-color:#CFD8DC"/>
<stop offset="50%" style="stop-color:#ECEFF1"/>
<stop offset="100%" style="stop-color:#CFD8DC"/>
</linearGradient>
<linearGradient id="springGrad" x1="0%" y1="0%" x2="0%" y2="100%">
<stop offset="0%" style="stop-color:#FF7043"/>
<stop offset="50%" style="stop-color:#FF5722"/>
<stop offset="100%" style="stop-color:#E64A19"/>
</linearGradient>
<radialGradient id="ringGrad">
<stop offset="0%" style="stop-color:#90A4AE"/>
<stop offset="70%" style="stop-color:#607D8B"/>
<stop offset="100%" style="stop-color:#455A64"/>
</radialGradient>
</defs>

<!-- æ ‡é¢˜ -->
<text x="140" y="20" text-anchor="middle" font-size="14" fill="#00838F" font-weight="bold">å¼¹ç°§æµ‹åŠ›è®¡ç»“æ„å›¾</text>

<!-- å¤–å£³ -->
<rect x="95" y="45" width="50" height="220" fill="url(#caseGrad)" stroke="#546E7A" stroke-width="2.5" rx="8"/>
<rect x="98" y="48" width="44" height="214" fill="#FAFAFA" opacity="0.3" rx="6"/>

<!-- åˆ»åº¦æ¿ -->
<rect x="85" y="60" width="25" height="190" fill="#FFFFFF" stroke="#37474F" stroke-width="1.5" rx="2"/>

<!-- åˆ»åº¦çº¿å’Œæ•°å­— -->
<line x1="85" y1="70" x2="95" y2="70" stroke="#000" stroke-width="2"/>
<text x="78" y="74" font-size="11" fill="#000" font-weight="bold">0</text>

<line x1="85" y1="100" x2="92" y2="100" stroke="#000" stroke-width="1.5"/>
<text x="78" y="104" font-size="11" fill="#000" font-weight="bold">1</text>

<line x1="85" y1="130" x2="92" y2="130" stroke="#000" stroke-width="1.5"/>
<text x="78" y="134" font-size="11" fill="#000" font-weight="bold">2</text>

<line x1="85" y1="160" x2="92" y2="160" stroke="#000" stroke-width="1.5"/>
<text x="78" y="164" font-size="11" fill="#000" font-weight="bold">3</text>

<line x1="85" y1="190" x2="92" y2="190" stroke="#000" stroke-width="1.5"/>
<text x="78" y="194" font-size="11" fill="#000" font-weight="bold">4</text>

<line x1="85" y1="220" x2="92" y2="220" stroke="#000" stroke-width="1.5"/>
<text x="78" y="224" font-size="11" fill="#000" font-weight="bold">5</text>

<!-- å°åˆ»åº¦ -->
<line x1="87" y1="85" x2="92" y2="85" stroke="#666" stroke-width="0.8"/>
<line x1="87" y1="115" x2="92" y2="115" stroke="#666" stroke-width="0.8"/>
<line x1="87" y1="145" x2="92" y2="145" stroke="#666" stroke-width="0.8"/>
<line x1="87" y1="175" x2="92" y2="175" stroke="#666" stroke-width="0.8"/>
<line x1="87" y1="205" x2="92" y2="205" stroke="#666" stroke-width="0.8"/>

<!-- å¼¹ç°§ -->
<path d="M120,70 L120,75 L115,80 L125,85 L115,90 L125,95 L115,100 L125,105 L115,110 L125,115 L115,120 L125,125 L115,130 L125,135 L115,140 L125,145 L115,150 L125,155 L115,160 L125,165 L115,170 L125,175 L115,180 L125,185 L115,190 L125,195 L115,200 L125,205 L120,210 L120,220" 
      stroke="url(#springGrad)" stroke-width="5" fill="none" stroke-linecap="round"/>
<path d="M120,70 L120,75 L115,80 L125,85 L115,90 L125,95 L115,100 L125,105 L115,110 L125,115 L115,120 L125,125 L115,130 L125,135 L115,140 L125,145 L115,150 L125,155 L115,160 L125,165 L115,170 L125,175 L115,180 L125,185 L115,190 L125,195 L115,200 L125,205 L120,210 L120,220" 
      stroke="#FFCCBC" stroke-width="2" fill="none" opacity="0.6"/>

<!-- æŒ‡é’ˆ -->
<line x1="105" y1="100" x2="125" y2="100" stroke="#E91E63" stroke-width="3.5"/>
<polygon points="105,100 110,97 110,103" fill="#E91E63"/>
<circle cx="125" cy="100" r="3" fill="#E91E63"/>

<!-- æç¯ -->
<circle cx="120" cy="35" r="18" fill="none" stroke="url(#ringGrad)" stroke-width="4"/>
<circle cx="120" cy="35" r="12" fill="none" stroke="#78909C" stroke-width="2"/>
<ellipse cx="120" cy="32" rx="6" ry="3" fill="#B0BEC5" opacity="0.5"/>

<!-- æŒ‚é’© -->
<path d="M120,245 Q125,255 120,265 Q115,275 120,285" fill="none" stroke="#546E7A" stroke-width="4" stroke-linecap="round"/>
<circle cx="120" cy="285" r="5" fill="none" stroke="#546E7A" stroke-width="3"/>
<ellipse cx="120" cy="242" rx="4" ry="2" fill="#78909C"/>

<!-- æ ‡æ³¨ -->
<g transform="translate(155, 0)">
<text x="0" y="38" font-size="12" fill="#37474F" font-weight="bold">â‘  æç¯</text>
<line x1="-10" y1="35" x2="-35" y2="35" stroke="#90A4AE" stroke-width="1" stroke-dasharray="2,2"/>

<text x="0" y="105" font-size="12" fill="#37474F" font-weight="bold">â‘¡ åˆ»åº¦æ¿</text>
<line x1="-10" y1="102" x2="-45" y2="102" stroke="#90A4AE" stroke-width="1" stroke-dasharray="2,2"/>

<text x="0" y="145" font-size="12" fill="#FF5722" font-weight="bold">â‘¢ å¼¹ç°§</text>
<line x1="-10" y1="142" x2="-35" y2="142" stroke="#90A4AE" stroke-width="1" stroke-dasharray="2,2"/>

<text x="0" y="100" font-size="12" fill="#E91E63" font-weight="bold">â‘£ æŒ‡é’ˆ</text>
<line x1="-10" y1="97" x2="-20" y2="97" stroke="#90A4AE" stroke-width="1" stroke-dasharray="2,2"/>

<text x="0" y="270" font-size="12" fill="#37474F" font-weight="bold">â‘¤ æŒ‚é’©</text>
<line x1="-10" y1="267" x2="-35" y2="267" stroke="#90A4AE" stroke-width="1" stroke-dasharray="2,2"/>
</g>

<!-- å•ä½æ ‡æ³¨ -->
<text x="140" y="305" text-anchor="middle" font-size="11" fill="#00838F" font-weight="bold">å•ä½ï¼šç‰›é¡¿ (N)</text>
</svg>
<p style="margin-top:15px; font-size:0.95rem;"><strong>äº”å¤§ç»„æˆéƒ¨åˆ†ï¼š</strong>æç¯ã€å¼¹ç°§ã€æŒ‡é’ˆã€åˆ»åº¦æ¿ã€æŒ‚é’©</p>
</div>
<div class="demo">
<h3>2. åŠ›çš„å•ä½</h3>
<p>ç‰›é¡¿ (N) â‰ˆ 100å…‹ç‰©ä½“çš„é‡åŠ›</p>
<button class="demo-btn" onclick="alert('1ç‰›é¡¿çº¦ç­‰äº2ä¸ªé¸¡è›‹çš„é‡åŠ›ï¼')">ç‚¹å‡»äº†è§£1ç‰›é¡¿æœ‰å¤šå¤§</button>
</div>
</div>
<div class="card">
<h2 style="color:var(--primary);">ğŸ¯ ç¬¬äºŒéƒ¨åˆ†ï¼šé—¯å…³å¡”æµ‹è¯•ï¼ˆå…±35é¢˜ï¼‰</h2>
<form id="quiz-form"></form>
<button type="button" class="submit-btn" onclick="submitQuiz()">ğŸš€ æäº¤ç­”æ¡ˆ</button>
</div>
</div>
<div id="result-modal">
<div class="result-box">
<span class="close-btn" onclick="document.getElementById('result-modal').style.display='none'">&times;</span>
<h2 style="text-align:center;">æµ‹è¯•æˆç»©</h2>
<div class="score-display" id="final-score">0</div>
<h3>âŒ é”™é¢˜è§£æ</h3>
<div id="error-analysis"></div>
</div>
</div>
<script>
// å³æ—¶åé¦ˆç³»ç»Ÿ
const InstantFeedback={audioCtx:null,encouragements:['å¤ªæ£’äº†ï¼ç»§ç»­åŠ æ²¹ï¼ğŸŒŸ','ä½ çœŸèªæ˜ï¼ğŸ‘','å®Œå…¨æ­£ç¡®ï¼çœŸå‰å®³ï¼ğŸ¯','ç­”å¯¹äº†ï¼ä½ æ˜¯æœ€æ£’çš„ï¼â­','å¤ªä¼˜ç§€äº†ï¼ç»§ç»­ä¿æŒï¼ğŸ†','çœŸæ˜¯ä¸ªå°å¤©æ‰ï¼ğŸ’¡','å›ç­”å¾—éå¸¸å¥½ï¼ğŸ‘','ä½ æŒæ¡å¾—å¾ˆå¥½ï¼ğŸ“š'],hints:['å†æƒ³æƒ³å“¦ï¼ä½ å¯ä»¥çš„ï¼ğŸ’ª','åˆ«ç°å¿ƒï¼Œå†è¯•ä¸€æ¬¡ï¼ğŸŒˆ','åŠ æ²¹ï¼ä»”ç»†çœ‹çœ‹é¢˜ç›®ï¼ğŸ‘€','æ²¡å…³ç³»ï¼Œç»§ç»­åŠªåŠ›ï¼ğŸ’«','å†çœ‹çœ‹çŸ¥è¯†ç‚¹å§ï¼ğŸ“–','ä¸è¦æ”¾å¼ƒï¼Œä½ èƒ½è¡Œï¼ğŸš€','æ€è€ƒä¸€ä¸‹ï¼Œä½ ä¸€å®šèƒ½æƒ³åˆ°ï¼ğŸ¤”','åŠ æ²¹ï¼ç›¸ä¿¡è‡ªå·±ï¼âœ¨'],init(){if(!this.audioCtx)this.audioCtx=new(window.AudioContext||window.webkitAudioContext)();},playCorrectSound(){this.init();if(this.audioCtx.state==='suspended')this.audioCtx.resume();const notes=[523.25,659.25,783.99];notes.forEach((freq,i)=>{const osc=this.audioCtx.createOscillator();const gain=this.audioCtx.createGain();osc.connect(gain);gain.connect(this.audioCtx.destination);const now=this.audioCtx.currentTime;const startTime=now+i*.1;osc.frequency.value=freq;osc.type='sine';gain.gain.setValueAtTime(.15,startTime);gain.gain.exponentialRampToValueAtTime(.01,startTime+.3);osc.start(startTime);osc.stop(startTime+.3);});},playWrongSound(){this.init();if(this.audioCtx.state==='suspended')this.audioCtx.resume();const osc=this.audioCtx.createOscillator();const gain=this.audioCtx.createGain();osc.connect(gain);gain.connect(this.audioCtx.destination);const now=this.audioCtx.currentTime;osc.frequency.setValueAtTime(300,now);osc.frequency.linearRampToValueAtTime(250,now+.2);osc.type='triangle';gain.gain.setValueAtTime(.1,now);gain.gain.linearRampToValueAtTime(0,now+.2);osc.start(now);osc.stop(now+.2);},showConfetti(){const colors=['#FF6B6B','#4ECDC4','#45B7D1','#FFA07A','#98D8C8','#F7DC6F','#BB8FCE'];for(let i=0;i<30;i++){setTimeout(()=>{const confetti=document.createElement('div');confetti.className='confetti';confetti.style.cssText=`width:${Math.random()*10+5}px;height:${Math.random()*10+5}px;background:${colors[Math.floor(Math.random()*colors.length)]};left:${Math.random()*100}%;top:-20px;border-radius:${Math.random()>.5?'50%':'0'};animation:confetti-fall ${Math.random()*2+2}s linear forwards;transform:rotate(${Math.random()*360}deg);`;document.body.appendChild(confetti);setTimeout(()=>confetti.remove(),4000);},i*30);}},showToast(message,type='success'){const toast=document.createElement('div');toast.className=`feedback-toast feedback-${type}`;toast.innerHTML=`<div class="toast-icon">${type==='success'?'âœ“':'âœ—'}</div><div class="toast-message">${message}</div>`;document.body.appendChild(toast);setTimeout(()=>toast.classList.add('show'),10);setTimeout(()=>{toast.classList.remove('show');setTimeout(()=>toast.remove(),300);},2500);},onCorrect(element){this.playCorrectSound();this.showConfetti();const message=this.encouragements[Math.floor(Math.random()*this.encouragements.length)];this.showToast(message,'success');if(element){element.classList.add('correct-feedback');setTimeout(()=>element.classList.remove('correct-feedback'),600);}},onWrong(element,hint=''){this.playWrongSound();const baseMessage=this.hints[Math.floor(Math.random()*this.hints.length)];const message=hint?`${baseMessage}<br><small style="font-size:0.85em;">ğŸ’¡ ${hint}</small>`:baseMessage;this.showToast(message,'error');if(element){element.classList.add('wrong-feedback');setTimeout(()=>element.classList.remove('wrong-feedback'),500);}}};
InstantFeedback.init();

// é¢˜ç›®æ•°æ®
const quizData=[{id:1,type:'choice',q:'1. å¼¹ç°§æµ‹åŠ›è®¡æ˜¯ç”¨æ¥æµ‹é‡ä»€ä¹ˆçš„å·¥å…·ï¼Ÿ',opts:['A. è´¨é‡','B. åŠ›çš„å¤§å°','C. é•¿åº¦'],ans:'B',exp:'å¼¹ç°§æµ‹åŠ›è®¡ç”¨äºæµ‹é‡åŠ›çš„å¤§å°ã€‚'},{id:2,type:'choice',q:'2. åŠ›çš„å•ä½æ˜¯ï¼ˆ ï¼‰',opts:['A. åƒå…‹','B. ç±³','C. ç‰›é¡¿'],ans:'C',exp:'åŠ›çš„å•ä½æ˜¯ç‰›é¡¿ï¼Œç®€ç§°ç‰›ï¼Œç¬¦å·Nã€‚'},{id:3,type:'choice',q:'3. å¼¹ç°§æµ‹åŠ›è®¡ç”±å“ªäº›éƒ¨åˆ†ç»„æˆï¼Ÿ',opts:['A. æç¯ã€å¼¹ç°§ã€æŒ‡é’ˆã€åˆ»åº¦æ¿ã€æŒ‚é’©','B. å¤–å£³ã€ç”µæ± ã€å±å¹•','C. é½¿è½®ã€ç”µæœºã€ä¼ æ„Ÿå™¨'],ans:'A',exp:'äº”å¤§ç»„æˆéƒ¨åˆ†ï¼šæç¯ã€å¼¹ç°§ã€æŒ‡é’ˆã€åˆ»åº¦æ¿ã€æŒ‚é’©ã€‚'},{id:4,type:'choice',q:'4. å¼¹ç°§å—çš„æ‹‰åŠ›è¶Šå¤§ï¼Œå¼¹ç°§ï¼ˆ ï¼‰',opts:['A. ä¼¸å¾—è¶Šé•¿','B. ä¼¸å¾—è¶ŠçŸ­','C. é•¿åº¦ä¸å˜'],ans:'A',exp:'è¿™æ˜¯å¼¹ç°§æµ‹åŠ›è®¡çš„å·¥ä½œåŸç†ã€‚'},{id:5,type:'choice',q:'5. ä½¿ç”¨å¼¹ç°§æµ‹åŠ›è®¡å‰ï¼Œé¦–å…ˆè¦æ£€æŸ¥ï¼ˆ ï¼‰',opts:['A. é¢œè‰²æ˜¯å¦å¥½çœ‹','B. æŒ‡é’ˆæ˜¯å¦æŒ‡åœ¨0ä½ç½®','C. é‡é‡æ˜¯å¦åˆé€‚'],ans:'B',exp:'å½’é›¶æ£€æŸ¥æ˜¯ä½¿ç”¨å‰å¿…é¡»åšçš„ã€‚'},{id:6,type:'choice',q:'6. è¯»æ•°æ—¶ï¼Œè§†çº¿åº”è¯¥ï¼ˆ ï¼‰',opts:['A. ä»ä¸Šå¾€ä¸‹çœ‹','B. ä»ä¸‹å¾€ä¸Šçœ‹','C. ä¸æŒ‡é’ˆç›¸å¹³'],ans:'C',exp:'è§†çº¿ä¸æŒ‡é’ˆç›¸å¹³å¯ä»¥é¿å…è§†å·®ã€‚'},{id:7,type:'choice',q:'7. æµ‹é‡çš„åŠ›ä¸èƒ½è¶…è¿‡æµ‹åŠ›è®¡çš„ï¼ˆ ï¼‰',opts:['A. æœ€å°åˆ»åº¦','B. æœ€å¤§é‡ç¨‹','C. å¹³å‡å€¼'],ans:'B',exp:'è¶…è½½ä¼šæŸåå¼¹ç°§æµ‹åŠ›è®¡ã€‚'},{id:8,type:'choice',q:'8. è´¨é‡ä¸º100å…‹çš„ç‰©ä½“ï¼Œé‡åŠ›çº¦ä¸ºï¼ˆ ï¼‰',opts:['A. 10ç‰›','B. 1ç‰›','C. 0.1ç‰›'],ans:'B',exp:'100å…‹ç‰©ä½“çš„é‡åŠ›çº¦ä¸º1ç‰›é¡¿ã€‚'},{id:9,type:'choice',q:'9. å¼¹ç°§æµ‹åŠ›è®¡çš„åˆ»åº¦æ˜¯ï¼ˆ ï¼‰',opts:['A. å‡åŒ€çš„','B. ä¸å‡åŒ€çš„','C. éšæœºçš„'],ans:'A',exp:'åˆ»åº¦å‡åŒ€æ˜¯å¼¹ç°§æµ‹åŠ›è®¡çš„ç‰¹ç‚¹ã€‚'},{id:10,type:'choice',q:'10. ä¸‹åˆ—ä¸å±äºå¼¹åŠ›åº”ç”¨çš„æ˜¯ï¼ˆ ï¼‰',opts:['A. è¹¦åºŠ','B. å¼¹ç°§åºŠå«','C. é“é”¤'],ans:'C',exp:'é“é”¤ä¸æ˜¯åˆ©ç”¨å¼¹åŠ›å·¥ä½œçš„ã€‚'},{id:11,type:'choice',q:'11. ç‰›é¡¿ï¼ˆNï¼‰æ˜¯ä»¥å“ªä½ç§‘å­¦å®¶çš„åå­—å‘½åçš„ï¼Ÿ',opts:['A. çˆ±å› æ–¯å¦','B. ç‰›é¡¿','C. ä¼½åˆ©ç•¥'],ans:'B',exp:'ä»¥è‹±å›½ç‰©ç†å­¦å®¶è‰¾è¨å…‹Â·ç‰›é¡¿å‘½åã€‚'},{id:12,type:'choice',q:'12. æµ‹åŠ›æ—¶ï¼Œå¼¹ç°§ä¼¸é•¿æ–¹å‘åº”è¯¥ï¼ˆ ï¼‰',opts:['A. ä¸æ‰€æµ‹åŠ›æ–¹å‘åœ¨ä¸€æ¡ç›´çº¿ä¸Š','B. å‚ç›´äºæ‰€æµ‹åŠ›','C. ä»»æ„æ–¹å‘éƒ½å¯ä»¥'],ans:'A',exp:'æ–¹å‘ä¸€è‡´æ‰èƒ½å‡†ç¡®æµ‹é‡ã€‚'},{id:13,type:'choice',q:'13. "gf"è¡¨ç¤ºçš„å•ä½æ˜¯ï¼ˆ ï¼‰',opts:['A. å…‹åŠ›','B. åƒå…‹åŠ›','C. ç‰›é¡¿'],ans:'A',exp:'gfæ˜¯å…‹åŠ›çš„ç¬¦å·ã€‚'},{id:14,type:'choice',q:'14. ä¸åŒå¼¹ç°§æµ‹åŠ›è®¡çš„ä¸€å¤§æ ¼ä»£è¡¨çš„åŠ›ï¼ˆ ï¼‰',opts:['A. ä¸€å®šç›¸åŒ','B. å¯èƒ½ä¸åŒ','C. å¿…é¡»æ˜¯1N'],ans:'B',exp:'ä¸åŒæµ‹åŠ›è®¡çš„åˆ†åº¦å€¼å¯èƒ½ä¸åŒã€‚'},{id:15,type:'choice',q:'15. ä½¿ç”¨å‰å¯ä»¥å…ˆæ‚ä¸€æ‚ç‰©ä½“ï¼Œè¿™æ˜¯ä¸ºäº†ï¼ˆ ï¼‰',opts:['A. å¥½ç©','B. ä¼°æµ‹ç‰©ä½“é‡åŠ›','C. å¢åŠ æ‰‹æ„Ÿ'],ans:'B',exp:'ä¼°æµ‹å¯ä»¥é€‰æ‹©åˆé€‚é‡ç¨‹çš„æµ‹åŠ›è®¡ã€‚'},{id:16,type:'choice',q:'16. æ’‘æ†è·³é«˜è¿åŠ¨å‘˜åˆ©ç”¨çš„æ˜¯æ’‘æ†çš„ï¼ˆ ï¼‰',opts:['A. é‡åŠ›','B. å¼¹åŠ›','C. æ‘©æ“¦åŠ›'],ans:'B',exp:'æ’‘æ†å¼¯æ›²äº§ç”Ÿå¼¹åŠ›ã€‚'},{id:17,type:'choice',q:'17. å¼¹ç°§æµ‹åŠ›è®¡çš„æŒ‡é’ˆæ˜¯ç”¨æ¥ï¼ˆ ï¼‰',opts:['A. æŒ‡ç¤ºåŠ›çš„å¤§å°','B. è£…é¥°','C. å›ºå®šå¼¹ç°§'],ans:'A',exp:'æŒ‡é’ˆæŒ‡ç¤ºåˆ»åº¦ï¼Œæ˜¾ç¤ºåŠ›çš„å¤§å°ã€‚'},{id:18,type:'choice',q:'18. ä¸‹åˆ—å…³äºå¼¹ç°§æµ‹åŠ›è®¡çš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰',opts:['A. åˆ»åº¦å‡åŒ€','B. å¯ä»¥è¶…è½½ä½¿ç”¨','C. ä½¿ç”¨å‰è¦å½’é›¶'],ans:'B',exp:'ç»å¯¹ä¸èƒ½è¶…è½½ä½¿ç”¨ï¼'},{id:19,type:'choice',q:'19. è´¨é‡ä¸º500å…‹çš„ç‰©ä½“ï¼Œé‡åŠ›çº¦ä¸ºï¼ˆ ï¼‰',opts:['A. 0.5ç‰›','B. 5ç‰›','C. 50ç‰›'],ans:'B',exp:'100å…‹=1Nï¼Œ500å…‹=5Nã€‚'},{id:20,type:'choice',q:'20. æµ·ç»µå«å—å‹åèƒ½æ¢å¤ï¼Œåˆ©ç”¨çš„æ˜¯ï¼ˆ ï¼‰',opts:['A. å¼¹åŠ›','B. é‡åŠ›','C. æµ®åŠ›'],ans:'A',exp:'æµ·ç»µçš„å¼¹æ€§å½¢å˜äº§ç”Ÿå¼¹åŠ›ã€‚'},{id:21,type:'fill',q:'21. å¼¹ç°§æµ‹åŠ›è®¡æ˜¯æ ¹æ®å¼¹ç°§å—çš„æ‹‰åŠ›è¶Šå¤§ï¼Œä¼¸å¾—è¶Š____çš„ç‰¹æ€§åˆ¶æˆçš„ã€‚',ans:['é•¿'],exp:'åŸç†ï¼šå—æ‹‰åŠ›è¶Šå¤§ï¼Œå¼¹ç°§ä¼¸å¾—è¶Šé•¿ã€‚'},{id:22,type:'fill',q:'22. åŠ›çš„å•ä½æ˜¯____ï¼Œç®€ç§°ç‰›ï¼Œç¬¦å·æ˜¯____ã€‚',ans:['ç‰›é¡¿','N'],exp:'åŠ›çš„å›½é™…å•ä½æ˜¯ç‰›é¡¿ï¼Œç¬¦å·Nã€‚'},{id:23,type:'fill',q:'23. å¼¹ç°§æµ‹åŠ›è®¡ç”±æç¯ã€å¼¹ç°§ã€____ã€åˆ»åº¦æ¿ã€æŒ‚é’©ç»„æˆã€‚',ans:['æŒ‡é’ˆ'],exp:'æŒ‡é’ˆç”¨äºæŒ‡ç¤ºæ•°å€¼ã€‚'},{id:24,type:'fill',q:'24. ä½¿ç”¨å¼¹ç°§æµ‹åŠ›è®¡å‰ï¼Œè¦æ£€æŸ¥æŒ‡é’ˆæ˜¯å¦æŒ‡åœ¨____ä½ç½®ã€‚',ans:['0','é›¶'],exp:'ä¸ºäº†å‡†ç¡®æµ‹é‡ï¼Œå¿…é¡»å…ˆè°ƒé›¶ã€‚'},{id:25,type:'fill',q:'25. è¯»æ•°æ—¶ï¼Œè§†çº¿è¦ä¸____ç›¸å¹³ã€‚',ans:['æŒ‡é’ˆ'],exp:'è§†çº¿å¹³è¡Œå¯é¿å…è§†å·®ã€‚'},{id:26,type:'fill',q:'26. æµ‹é‡çš„åŠ›ä¸èƒ½è¶…è¿‡æµ‹åŠ›è®¡åˆ»åº¦æ ‡å‡ºçš„____ã€‚',ans:['æœ€å¤§æ•°é‡','æœ€å¤§é‡ç¨‹'],exp:'è¶…è¿‡é‡ç¨‹ä¼šæŸåå¼¹ç°§ã€‚'},{id:27,type:'fill',q:'27. è´¨é‡ä¸º100å…‹çš„ç‰©ä½“çš„é‡åŠ›çº¦ä¸º____ç‰›ã€‚',ans:['1'],exp:'1N â‰ˆ 100gç‰©ä½“çš„é‡åŠ›ã€‚'},{id:28,type:'fill',q:'28. å¼¹ç°§æµ‹åŠ›è®¡çš„åˆ»åº¦æ˜¯____çš„ã€‚',ans:['å‡åŒ€'],exp:'å¼¹ç°§ä¼¸é•¿é‡ä¸æ‹‰åŠ›æˆæ­£æ¯”ï¼Œæ‰€ä»¥åˆ»åº¦å‡åŒ€ã€‚'},{id:29,type:'fill',q:'29. è¹¦åºŠã€æ’‘æ†ã€å¥èº«çƒéƒ½æ˜¯åˆ©ç”¨äº†____ã€‚',ans:['å¼¹åŠ›','å¼¹æ€§'],exp:'è¿™äº›ç‰©ä½“å‘ç”Ÿå½¢å˜éƒ½ä¼šäº§ç”Ÿå¼¹åŠ›ã€‚'},{id:30,type:'fill',q:'30. æµ‹åŠ›æ—¶ï¼Œå¼¹ç°§ä¼¸é•¿æ–¹å‘è¦ä¸æ‰€æµ‹åŠ›çš„æ–¹å‘åœ¨____ä¸Šã€‚',ans:['ä¸€æ¡ç›´çº¿','åŒä¸€ç›´çº¿'],exp:'é¿å…æ‘©æ“¦å’Œåˆ†åŠ›å½±å“æµ‹é‡ç»“æœã€‚'},{id:31,type:'drag',q:'31. è¯·å°†ä¸‹åˆ—ç‰©å“æŒ‰"æ˜¯å¦åˆ©ç”¨å¼¹åŠ›"åˆ†ç±»',cats:['åˆ©ç”¨å¼¹åŠ›','ä¸åˆ©ç”¨å¼¹åŠ›'],items:['è¹¦åºŠ','é“é”¤','å¼¹ç°§åºŠå«','æ’‘æ†','æ°´æ¡¶'],correct:[0,1,0,0,1],exp:'è¹¦åºŠã€åºŠå«ã€æ’‘æ†éƒ½åˆ©ç”¨äº†å¼¹æ€§å½¢å˜äº§ç”Ÿçš„åŠ›ï¼›é“é”¤å’Œæ°´æ¡¶ä¸»è¦åˆ©ç”¨é‡åŠ›æˆ–æƒ¯æ€§ã€‚'},{id:32,type:'drag',q:'32. ä½¿ç”¨å¼¹ç°§æµ‹åŠ›è®¡çš„æ­£ç¡®æ­¥éª¤æ’åº',cats:['ç¬¬1æ­¥','ç¬¬2æ­¥','ç¬¬3æ­¥','ç¬¬4æ­¥'],items:['æ£€æŸ¥æŒ‡é’ˆå½’é›¶','æŒ‚ä¸Šç‰©ä½“','è¯»å–æ•°å€¼','è§†çº¿ä¸æŒ‡é’ˆå¹³è¡Œ'],correct:[0,1,3,2],exp:'æ­£ç¡®é¡ºåºï¼šå½’é›¶ -> æŒ‚ç‰© -> è§†çº¿å¹³è¡Œ -> è¯»æ•°ã€‚'},{id:33,type:'drag',q:'33. åˆ¤æ–­ä»¥ä¸‹æ“ä½œæ˜¯å¦æ­£ç¡®',cats:['æ­£ç¡®æ“ä½œ','é”™è¯¯æ“ä½œ'],items:['è¯»æ•°æ—¶è§†çº¿ä¸æŒ‡é’ˆå¹³è¡Œ','è¶…è¿‡æœ€å¤§é‡ç¨‹æµ‹é‡','ä½¿ç”¨å‰æ£€æŸ¥å½’é›¶','æ–œç€çœ‹åˆ»åº¦è¯»æ•°'],correct:[0,1,0,1],exp:'è¶…é‡ç¨‹å’Œæ–œè§†è¯»æ•°éƒ½æ˜¯é”™è¯¯çš„ï¼›å¹³è¡Œè¯»æ•°å’Œå½’é›¶æ˜¯æ­£ç¡®çš„ã€‚'},{id:34,type:'exp',q:'34. å°æ˜ç”¨å¼¹ç°§æµ‹åŠ›è®¡æµ‹é‡ä¸åŒç‰©ä½“çš„é‡åŠ›ï¼Œè®°å½•å¦‚ä¸‹è¡¨ã€‚è¯·åˆ†æï¼š',svg:`<svg viewBox="0 0 300 120" style="background:#fff;border:1px solid #ddd"><text x="150" y="20" text-anchor="middle">æ•°æ®è®°å½•è¡¨</text><line x1="20" y1="30" x2="280" y2="30" stroke="#333"/><text x="60" y="50">ç‰©ä½“</text><text x="200" y="50">é‡åŠ›(N)</text><line x1="20" y1="60" x2="280" y2="60" stroke="#ccc"/><text x="60" y="80">100g</text><text x="200" y="80">1.0</text><text x="60" y="100">200g</text><text x="200" y="100">2.0</text></svg>`,subs:[{q:'(1) ä»æ•°æ®çœ‹å‡ºï¼Œè´¨é‡è¶Šå¤§ï¼Œé‡åŠ›è¶Š____ã€‚',ans:['å¤§']},{q:'(2) 100å…‹ç‰©ä½“çš„é‡åŠ›æ˜¯____ç‰›ã€‚',ans:['1']},{q:'(3) è¯·æ€»ç»“è´¨é‡ä¸é‡åŠ›çš„å…³ç³»ã€‚',ans:['æ­£æ¯”','è¶Šå¤§']}],exp:'(1)è´¨é‡è¶Šå¤§é‡åŠ›è¶Šå¤§ï¼›(2)è¡¨æ ¼ç›´æ¥æ˜¾ç¤º1.0Nï¼›(3)åŸç†ï¼šç‰©ä½“çš„é‡åŠ›ä¸è´¨é‡æˆæ­£æ¯”ã€‚'},{id:35,type:'exp',q:'35. è§‚å¯Ÿä¸‹å›¾å¼¹ç°§æµ‹åŠ›è®¡ï¼Œå›ç­”é—®é¢˜ï¼š',svg:`<svg viewBox="0 0 100 150"><rect x="30" y="10" width="40" height="130" fill="#eee" stroke="#333"/><line x1="40" y1="30" x2="50" y2="30" stroke="#000"/><text x="20" y="35" font-size="10">0</text><line x1="40" y1="60" x2="50" y2="60" stroke="#000"/><text x="20" y="65" font-size="10">1</text><line x1="40" y1="90" x2="50" y2="90" stroke="#000"/><text x="20" y="95" font-size="10">2</text><line x1="45" y1="60" x2="65" y2="60" stroke="red" stroke-width="2"/></svg>`,subs:[{q:'(1) æ­¤æ—¶æŒ‡é’ˆè¯»æ•°æ˜¯____Nã€‚',ans:['1']},{q:'(2) è¯¥æµ‹åŠ›è®¡æœ€å¤§é‡ç¨‹æ˜¯____N(çœ‹å›¾ä¼°ç®—)ã€‚',ans:['5','4','3']},{q:'(3) èƒ½å¦æµ‹é‡6Nçš„ç‰©ä½“ï¼Ÿ(èƒ½/ä¸èƒ½)',ans:['ä¸èƒ½']}],exp:'(1)æŒ‡é’ˆæŒ‡åœ¨1çš„ä½ç½®ï¼›(2)è™½ç„¶å›¾æœªç”»å…¨ï¼Œä½†æ ¹æ®åˆ»åº¦é—´è·ï¼Œé€šå¸¸æ˜¯5Nï¼›(3)ä¸èƒ½ï¼Œå› ä¸ºè¶…è¿‡äº†é‡ç¨‹ä¼šæŸåæµ‹åŠ›è®¡ã€‚'}];

// ç”Ÿæˆé¢˜ç›®
const form=document.getElementById('quiz-form');
quizData.forEach(q=>{
const div=document.createElement('div');
div.className='question';
div.dataset.qid=q.id;
let html='';
if(q.type==='choice'){
html+=`<span class="q-tag tag-choice">é€‰æ‹©é¢˜</span><strong>${q.q}</strong><div class="options">`;
q.opts.forEach(opt=>html+=`<label onclick="checkAnswer(${q.id},'${opt[0]}',this,event)"><input type="radio" name="q${q.id}" value="${opt[0]}">${opt}</label>`);
html+=`</div>`;
}else if(q.type==='fill'){
const parts=q.q.split('____');
html+=`<span class="q-tag tag-fill">å¡«ç©ºé¢˜</span><strong>`;
parts.forEach((part,i)=>{
html+=part;
if(i<parts.length-1)html+=`<input type="text" name="q${q.id}_${i}" style="width:100px;margin:0 5px;" onblur="checkFillAnswer(${q.id},this)">`;
});
html+=`</strong>`;
}else if(q.type==='drag'){
html+=`<span class="q-tag tag-drag">æ‹–æ‹½é¢˜</span><strong>${q.q}</strong><div class="drag-container">`;
q.cats.forEach((cat,i)=>html+=`<div class="drop-zone" data-cat="${i}"><h4>${cat}</h4><div class="drop-items"></div></div>`);
html+=`</div><div class="item-pool">`;
q.items.forEach((item,i)=>html+=`<div class="drag-item" data-idx="${i}" onclick="selectItem(this,${q.id})">${item}</div>`);
html+=`</div><input type="hidden" id="drag${q.id}">`;
}else if(q.type==='exp'){
html+=`<span class="q-tag tag-exp">å®éªŒæ¢ç©¶</span><strong>${q.q}</strong><div class="exp-block"><div class="exp-svg">${q.svg}</div>`;
q.subs.forEach((sub,i)=>{
html+=`<div class="exp-sub"><label>${sub.q}</label><input type="text" name="exp${q.id}_${i}" style="width:100%;"></div>`;
});
html+=`</div>`;
}
div.innerHTML=html;
form.appendChild(div);
});

// é€‰æ‹©é¢˜å³æ—¶åé¦ˆ
function checkAnswer(qid,selectedAnswer,labelElement,event){
event.preventDefault();
const qData=quizData.find(q=>q.id===qid);
if(!qData)return;
const radio=labelElement.querySelector('input[type="radio"]');
radio.checked=true;
const allLabels=labelElement.parentElement.querySelectorAll('label');
allLabels.forEach(l=>l.classList.remove('correct-feedback','wrong-feedback'));
const isCorrect=selectedAnswer===qData.ans;
setTimeout(()=>{
if(isCorrect){
InstantFeedback.onCorrect(labelElement);
}else{
InstantFeedback.onWrong(labelElement,qData.exp);
}
},200);
}

// å¡«ç©ºé¢˜å³æ—¶åé¦ˆ
function checkFillAnswer(qid,inputElement){
const qData=quizData.find(q=>q.id===qid);
if(!qData)return;
const userAnswer=inputElement.value.trim();
if(!userAnswer)return;
const isCorrect=qData.ans.some(a=>userAnswer.includes(a));
inputElement.classList.remove('correct-feedback','wrong-feedback');
setTimeout(()=>{
if(isCorrect){
InstantFeedback.onCorrect(inputElement);
}else{
InstantFeedback.onWrong(inputElement,qData.exp);
}
},200);
}

// æ‹–æ‹½é€»è¾‘
let selectedDragItem=null;
function selectItem(el,qid){
if(el.classList.contains('used'))return;
if(selectedDragItem)selectedDragItem.classList.remove('selected');
selectedDragItem=el;
el.classList.add('selected');
const zones=document.querySelectorAll(`[data-qid="${qid}"] .drop-zone`);
zones.forEach(zone=>{
zone.style.background='#e3f2fd';
zone.style.cursor='pointer';
zone.onclick=function(){
if(!selectedDragItem)return;
const clone=selectedDragItem.cloneNode(true);
clone.onclick=null;clone.classList.remove('selected');
this.querySelector('.drop-items').appendChild(clone);
selectedDragItem.classList.add('used');
selectedDragItem.classList.remove('selected');
selectedDragItem=null;
updateDragAnswer(qid);
zones.forEach(z=>{z.style.background='';z.onclick=null;});
};
});
}

function updateDragAnswer(qid){
const ans=[];
document.querySelectorAll(`[data-qid="${qid}"] .drop-zone`).forEach((z,i)=>{
z.querySelectorAll('.drag-item').forEach(item=>ans.push(`${item.dataset.idx}:${i}`));
});
document.getElementById(`drag${qid}`).value=ans.join(',');
}

// æäº¤åˆ¤å·
function submitQuiz(){
let totalScore=0;
let errors=[];
quizData.forEach(q=>{
let correct=false;
if(q.type==='choice'){
const radio=document.querySelector(`input[name="q${q.id}"]:checked`);
if(radio&&radio.value===q.ans){correct=true;totalScore+=2;}
}else if(q.type==='fill'){
const inputs=document.querySelectorAll(`input[name^="q${q.id}_"]`);
let allRight=true;
inputs.forEach(input=>{
if(!q.ans.some(a=>input.value.trim().includes(a)))allRight=false;
});
if(allRight&&inputs.length>0){correct=true;totalScore+=2;}
}else if(q.type==='drag'){
const val=document.getElementById(`drag${q.id}`).value;
if(val){
const pairs=val.split(',');
let right=true;
pairs.forEach(p=>{
const[idx,cat]=p.split(':');
if(q.correct[parseInt(idx)]!==parseInt(cat))right=false;
});
if(right&&pairs.length===q.items.length){correct=true;totalScore+=5;}
}
}else if(q.type==='exp'){
let subRight=0;
q.subs.forEach((sub,i)=>{
const val=document.querySelector(`[name="exp${q.id}_${i}"]`).value.trim();
if(sub.ans.some(a=>val.includes(a)))subRight++;
});
const s=(subRight/q.subs.length)*12.5;
totalScore+=s;
if(s>=12)correct=true;
}
if(!correct){
errors.push({id:q.id,q:q.q,exp:q.exp});
}
});
document.getElementById('final-score').textContent=Math.round(totalScore);
const errDiv=document.getElementById('error-analysis');
if(errors.length===0){
errDiv.innerHTML='<div style="background:#E8F5E9;color:#2E7D32;padding:20px;border-radius:8px;font-size:1.2rem;text-align:center;">ğŸ‰ å®Œç¾ï¼å…¨å¯¹ï¼</div>';
}else{
let html='';
errors.forEach(e=>{
html+=`<div class="error-item"><strong>ç¬¬ ${e.id} é¢˜</strong><p>${e.q}</p><span class="correct-tip">ğŸ’¡ è§£æï¼š${e.exp}</span></div>`;
});
errDiv.innerHTML=html;
}
document.getElementById('result-modal').style.display='block';
}
</script>
</body>
</html>
